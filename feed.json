{
    "version": "https://jsonfeed.org/version/1",
    "title": "自分の為に楽しめ世界",
    "subtitle": "",
    "icon": "https://ei4869.github.io/miyano/assets/favicon.ico",
    "description": "",
    "home_page_url": "https://ei4869.github.io/miyano",
    "items": [
        {
            "id": "https://ei4869.github.io/miyano/Playful-Exploration/shokaX%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0/",
            "url": "https://ei4869.github.io/miyano/Playful-Exploration/shokaX%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0/",
            "title": "shokaX主题-笔记",
            "date_published": "2025-01-15T04:32:40.000Z",
            "content_html": "<details class=\"info\"><summary>编辑记录</summary><div>\n<div class=\"note info\">\n<p>2025-01-15 第一次编辑</p>\n</div>\n<ul>\n<li>整理笔记</li>\n</ul>\n</div></details>\n<hr />\n<h1 id=\"安装过程\"><a class=\"anchor\" href=\"#安装过程\">#</a> 安装过程</h1>\n<p>主要参考官方的<a href=\"https://docs.kaitaku.xyz/\">文档</a>，安装通过如下命令：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>安装命令</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo init       <span class=\"token comment\">#初始化 hexo</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> your_blog    <span class=\"token comment\">#转到博客目录</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> shokax-cli <span class=\"token parameter variable\">--location</span><span class=\"token operator\">=</span>global     <span class=\"token comment\">#全局安装</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>SXC <span class=\"token function\">install</span> shokaX      <span class=\"token comment\">#安装相关包和依赖</span></pre></td></tr></table></figure><p>接下来安装文档进行简单的初始配置。<br />\n对于 <code>Hexo&gt;=7.0.0</code> ，需要停用停用默认代码高亮，</p>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>syntax_highlighter: false</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>highlight:</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  enable: false</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  line_number: true</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  auto_detect: false</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  tab_replace: ''</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  wrap: true</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  hljs: false</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>prismjs:</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  enable: false</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  preprocess: true</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  line_number: true</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  tab_replace: ''</pre></td></tr></table></figure><div class=\"note info\">\n<p>注意在 <code>_config.yml</code>  中， <code>theme: shokaX</code> ，这里 X 要与 <code>_config.shokaX.yml</code>  中的一致即大写，否则 <code>hexo deploy</code>  部署后有问题主题渲染不出来。</p>\n</div>\n<h1 id=\"自动部署\"><a class=\"anchor\" href=\"#自动部署\">#</a> 自动部署</h1>\n<p>采用 <code>Github Pages</code>  进行自动部署，本个博客连接到之前的 Github 已有的存放博客代码的仓库中，作为新的分支<span class=\"pink\"> shoka</span>，与之前的博客共同管理。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>新建分支共同管理</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /path/to/原博客源码</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> checkout main</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> branch shoka</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> checkout shoka</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> commit --allow-empty <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Initialize empty shoka branch\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> push origin shoka <span class=\"token parameter variable\">--force</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">git</span> checkout main</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /path/to/新博客源码</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">git</span> init</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin <span class=\"token operator\">&lt;</span>远程仓库URL<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">git</span> checkout shoka</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Initial commit for shoka blog\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">git</span> push --set-upstream origin shoka</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">git</span> push origin shoka <span class=\"token parameter variable\">--force</span></pre></td></tr></table></figure><p>自动部署，同时管理双博客的部署任务：</p>\n<ul>\n<li>如果为 push 触发，根据 push 的是哪个分支，设置哪个标志位为 <code>true</code> ，另一个则为 <code>false</code> 。</li>\n<li>如果为 schedule 触发，则标志位都设置为 <code>true</code> ，顺序进行部署。</li>\n<li>如果为手动触发，则可以选择部署哪一个或者同时部署。<br />\n每个分支的部署按照同一套流程顺序执行，根据标志位判断是否执行。</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"><span>自动部署的工作流文件</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 自动任务</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> master</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">-</span> shoka</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token punctuation\">-</span> published</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"选择分支\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"shoka\"</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>          <span class=\"token punctuation\">-</span> master</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          <span class=\"token punctuation\">-</span> shoka</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          <span class=\"token punctuation\">-</span> all</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 16 * * *\"</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest</pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 确定分支和标志位</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> setup_flags</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          if [[ \"$\" == \"workflow_dispatch\" ]]; then</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            SELECTED_BRANCH=\"$\"</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>          elif [[ \"$\" == \"schedule\" ]]; then</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            SELECTED_BRANCH=\"all\"</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>          else</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            SELECTED_BRANCH=\"$\"</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>          fi</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>          if <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> \"$SELECTED_BRANCH\" == \"all\" <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> \"$SELECTED_BRANCH\" == \"master\" <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>; then</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            FLAG_MASTER=true</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>          else</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            FLAG_MASTER=false</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>          fi</pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>          if <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> \"$SELECTED_BRANCH\" == \"all\" <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> \"$SELECTED_BRANCH\" == \"shoka\" <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>; then</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            FLAG_SHOKA=true</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>          else</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            FLAG_SHOKA=false</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>          fi</pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>          echo \"SELECTED_BRANCH=$SELECTED_BRANCH\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> $GITHUB_ENV</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>          echo \"FLAG_MASTER=$FLAG_MASTER\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> $GITHUB_ENV</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>          echo \"FLAG_SHOKA=$FLAG_SHOKA\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> $GITHUB_ENV</pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装 Node</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"20.x\"</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 设置时区</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"TZ='Asia/Shanghai'\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> $GITHUB_ENV</pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 配置 Git 用户信息</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>          git config --global user.name \"$\"</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>          git config --global user.email \"$\"</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>      <span class=\"token comment\"># 执行 Master 分支任务</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 克隆 Master 分支</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>          <span class=\"token key atrule\">ref</span><span class=\"token punctuation\">:</span> master</pre></td></tr><tr><td data-num=\"75\"></td><td><pre></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 清除旧缓存（Master）</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>          echo \"Clearing old cache for Master branch...\"</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>          rm -rf node_modules</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 缓存 Hexo（Master）</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/cache@v1</pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> cache_master</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> node_modules</pre></td></tr><tr><td data-num=\"88\"></td><td><pre>          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼6<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">-</span>master<span class=\"token punctuation\">-</span>$&lt;<span class=\"token tag\">!--swig</span>￼7<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装依赖（Master）</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm install <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>save</pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 执行 Master 分支任务</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>          echo \"Running tasks for Master branch...\"</pre></td></tr><tr><td data-num=\"98\"></td><td><pre>          node fix_kramed.js</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装 Hexo（Master）</pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>          export TZ='Asia/Shanghai'</pre></td></tr><tr><td data-num=\"104\"></td><td><pre>          npm install hexo-cli -g</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 生成静态文件（Master）</pre></td></tr><tr><td data-num=\"107\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"108\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>          export TZ='Asia/Shanghai'</pre></td></tr><tr><td data-num=\"110\"></td><td><pre>          hexo clean</pre></td></tr><tr><td data-num=\"111\"></td><td><pre>          hexo generate</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>          gulp</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 设置 SSH 密钥（Master）</pre></td></tr><tr><td data-num=\"115\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"116\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> webfactory/ssh<span class=\"token punctuation\">-</span>agent@v0.5.3</pre></td></tr><tr><td data-num=\"117\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>          <span class=\"token key atrule\">ssh-private-key</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼8<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 部署（Master）</pre></td></tr><tr><td data-num=\"121\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_MASTER == 'true'</pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> hexo deploy</pre></td></tr><tr><td data-num=\"123\"></td><td><pre></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>      <span class=\"token comment\"># 执行 Shoka 分支任务</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 克隆 Shoka 分支</pre></td></tr><tr><td data-num=\"126\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"127\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2</pre></td></tr><tr><td data-num=\"128\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>          <span class=\"token key atrule\">ref</span><span class=\"token punctuation\">:</span> shoka</pre></td></tr><tr><td data-num=\"130\"></td><td><pre></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 清除旧缓存（Shoka）</pre></td></tr><tr><td data-num=\"132\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"133\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>          echo \"Clearing old cache for Shoka branch...\"</pre></td></tr><tr><td data-num=\"135\"></td><td><pre>          rm -rf node_modules</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 缓存 Hexo（Shoka）</pre></td></tr><tr><td data-num=\"138\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"139\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/cache@v1</pre></td></tr><tr><td data-num=\"140\"></td><td><pre>        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> cache_shoka</pre></td></tr><tr><td data-num=\"141\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> node_modules</pre></td></tr><tr><td data-num=\"143\"></td><td><pre>          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼9<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">-</span>shoka<span class=\"token punctuation\">-</span>$&lt;<span class=\"token tag\">!--swig</span>￼10<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装依赖（Shoka）</pre></td></tr><tr><td data-num=\"146\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"147\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm install <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>save</pre></td></tr><tr><td data-num=\"148\"></td><td><pre></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 执行 Shoka 分支任务</pre></td></tr><tr><td data-num=\"150\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"151\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>          echo \"Running tasks for Shoka branch...\"</pre></td></tr><tr><td data-num=\"153\"></td><td><pre>          node updateYaml.js</pre></td></tr><tr><td data-num=\"154\"></td><td><pre>          echo \"Contents of _images.yml:\"</pre></td></tr><tr><td data-num=\"155\"></td><td><pre>          cat ./themes/shokaX/_images.yml</pre></td></tr><tr><td data-num=\"156\"></td><td><pre>          echo \"Contents of _images_index.yml:\"</pre></td></tr><tr><td data-num=\"157\"></td><td><pre>          cat ./themes/shokaX/_images_index.yml</pre></td></tr><tr><td data-num=\"158\"></td><td><pre>          ls -l source/_posts/*/cover.jpg || echo \"No cover images found.\"</span></pre></td></tr><tr><td data-num=\"159\"></td><td><pre></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装 Hexo（Shoka）</pre></td></tr><tr><td data-num=\"161\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"162\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"163\"></td><td><pre>          export TZ='Asia/Shanghai'</pre></td></tr><tr><td data-num=\"164\"></td><td><pre>          npm install hexo-cli -g</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 生成静态文件（Shoka）</pre></td></tr><tr><td data-num=\"167\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"168\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"169\"></td><td><pre>          export TZ='Asia/Shanghai'</pre></td></tr><tr><td data-num=\"170\"></td><td><pre>          hexo clean</pre></td></tr><tr><td data-num=\"171\"></td><td><pre>          hexo generate</pre></td></tr><tr><td data-num=\"172\"></td><td><pre>          hexo algolia</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 设置 SSH 密钥（Shoka）</pre></td></tr><tr><td data-num=\"175\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"176\"></td><td><pre>        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> webfactory/ssh<span class=\"token punctuation\">-</span>agent@v0.5.3</pre></td></tr><tr><td data-num=\"177\"></td><td><pre>        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>          <span class=\"token key atrule\">ssh-private-key</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼11<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre></pre></td></tr><tr><td data-num=\"180\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 部署（Shoka）</pre></td></tr><tr><td data-num=\"181\"></td><td><pre>        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.FLAG_SHOKA == 'true'</pre></td></tr><tr><td data-num=\"182\"></td><td><pre>        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> hexo deploy</pre></td></tr></table></figure><h1 id=\"统计网站运行时间\"><a class=\"anchor\" href=\"#统计网站运行时间\">#</a> 统计网站运行时间</h1>\n<p>创建文件： <code>themes\\shokaX\\source\\js\\create-time.js</code> :</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>create-time.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">createtime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> createTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2025/01/02 00:00:00\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 替换为您的站点创建时间</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">const</span> diff <span class=\"token operator\">=</span> now <span class=\"token operator\">-</span> createTime<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">const</span> days <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">const</span> hours <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">const</span> minutes <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">const</span> seconds <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">此站已存活 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>days<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> 天 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>hours<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> 小时 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>minutes<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> 分 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>seconds<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\"> 秒</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>createtime<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>创建文件： <code>themes\\shokaX\\layout\\_partials\\create-time.pug</code> :</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>create-time.pug</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">div</span><span class=\"token punctuation\">(</span>style<span class=\"token operator\">=</span><span class=\"token string\">\"width: 100%; text-align: center;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token function\">span</span><span class=\"token punctuation\">(</span>id<span class=\"token operator\">=</span><span class=\"token string\">\"time\"</span><span class=\"token punctuation\">)</span> 此站已存活 <span class=\"token number\">0</span> 天 <span class=\"token number\">0</span> 小时 <span class=\"token number\">0</span> 分 <span class=\"token number\">0</span> 秒</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">script</span><span class=\"token punctuation\">(</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"/miyano/js/create-time.js\"</span> defer<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><div class=\"note info\">\n<p>这里由于我的博客的 <code>Github Pages</code>  部署在仓库 <code>miyano</code>  中，所以默认的地址一般有多个 <code>/miyano</code> 。需要加上否则找不到文件路径。</p>\n</div>\n<p>最后在 <code>themes\\shokaX\\layout\\_partials\\footer.pug</code>  中第一行新增代码 <code>include create-time.pug</code>  即可引入站点存活时间。</p>\n<h1 id=\"实现相册功能\"><a class=\"anchor\" href=\"#实现相册功能\">#</a> 实现相册功能</h1>\n<h2 id=\"相册主页面配置\"><a class=\"anchor\" href=\"#相册主页面配置\">#</a> <span class=\"blue\">相册</span>主页面配置</h2>\n<ol>\n<li>创建 <code>source\\_data\\gallery.yml</code>  用于存放相册数据，方便配置。格式为：</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"><span>相册数据格式gallery.yml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">gallery_groups</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> KON</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">descr</span><span class=\"token punctuation\">:</span> KON一生推，毕业不是终点，今后也都是朋友。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /miyano/gallery/kon/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">img</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/kon_16.webp\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">photos</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/kon_16.webp\"</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Summer Pockets</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">descr</span><span class=\"token punctuation\">:</span> 还记得那个夏天吗？那份炫目，别忘了口袋里的夏天。</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /miyano/gallery/sp/</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">img</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/sp_3.webp\"</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">photos</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/sp_4.webp\"</span></pre></td></tr></table></figure><p>注意这里配置了 <code>id</code>  为 <code>gallery_groups</code> 。</p>\n<ol start=\"2\">\n<li>创建 <code>themes\\shokaX\\layout\\gallery.pug</code>  生成一个相册页面，展示多个相册组。</li>\n</ol>\n<figure class=\"highlight pug\"><figcaption data-lang=\"pug\"><span>gallery.pug</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">extends ./_partials/layout.pug</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">block content</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token tag\">div<span class=\"token attr-id\">#gallery-container</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//- h1.page-title 相册</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\">div<span class=\"token attr-class\">.gallery-group-main</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token flow-control\"><span class=\"token each\"><span class=\"token keyword\">each</span> group <span class=\"token keyword\">in</span></span> page<span class=\"token punctuation\">.</span>posts </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\">a<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">href</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">group<span class=\"token punctuation\">.</span>url target<span class=\"token operator\">=</span><span class=\"token string\">\"_blank\"</span></span><span class=\"token punctuation\">)</span></span></span> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          <span class=\"token tag\">figure<span class=\"token attr-class\">.gallery-group</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token tag\">img<span class=\"token attr-class\">.gallery-group-img</span><span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">src</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">group<span class=\"token punctuation\">.</span>img alt<span class=\"token operator\">=</span>group<span class=\"token punctuation\">.</span>name</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token tag\">figcaption</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>              <span class=\"token tag\">div<span class=\"token attr-class\">.gallery-group-name</span></span><span class=\"token punctuation\">=</span><span class=\"token code\"> group<span class=\"token punctuation\">.</span>name</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>              <span class=\"token tag\">p</span><span class=\"token punctuation\">=</span><span class=\"token code\"> group<span class=\"token punctuation\">.</span>descr</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">include _partials/pagination.pug</span></pre></td></tr></table></figure><p>使用 <code>each</code>  循环遍历 <code>page.posts</code>  中的每个相册组，并为每个相册组生成一个链接和相应的内容； <code>a(href=group.url target=&quot;_blank&quot;)</code> ：为每个相册组生成一个链接，链接地址为 <code>group.url</code> ，并在新标签页中打开；定义一个 <code>figcaption</code>  元素，用于包含相册组的标题和描述；包含 <code>_partials/pagination.pug</code>  文件，用于添加分页功能。</p>\n<ol start=\"3\">\n<li>创建 <code>themes\\shokaX\\scripts\\inject-gallery.js</code>  用于在生成静态网站时注入相册数据。将相册组数据注入到当前页面的本地变量 <code>locals.page.gallery_groups</code>  中，从而实现了在相册页面中动态加载相册数据的功能。</li>\n</ol>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>inject-gallery.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> yaml <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'js-yaml'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'template_locals'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">locals</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>locals<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">.</span>layout <span class=\"token operator\">===</span> <span class=\"token string\">'gallery'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">const</span> galleryDataPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>hexo<span class=\"token punctuation\">.</span>source_dir<span class=\"token punctuation\">,</span> <span class=\"token string\">'_data/gallery.yml'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> yaml<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>galleryDataPath<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data <span class=\"token operator\">&amp;&amp;</span> data<span class=\"token punctuation\">.</span>gallery_groups<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        locals<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">.</span>gallery_groups <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>gallery_groups<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        locals<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">.</span>gallery_groups <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error loading gallery.yml:'</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      locals<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">.</span>gallery_groups <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><div class=\"note info\">\n<p>需要在 <code>gallery</code>  的 <code>index.md</code>  配置好 <code>layout: gallery</code></p>\n</div>\n<ol start=\"3\">\n<li>创建 <code>themes\\shokaX\\source\\css\\_common\\components\\tags\\gallery.styl</code>  用于设置相册页面的排列样式，效果是实现网格布局，每行最多显示三个相册，每个相册占据相等的宽度，鼠标悬停时有过渡效果显示相册描述。并对移动端单独适配，对于移动端一行只显示一个相册。该文件在 <code>themes\\shokaX\\source\\css\\_common\\components\\components.styl</code>  中引入： <code>@import 'tags/gallery';</code></li>\n</ol>\n<figure class=\"highlight stylus\"><figcaption data-lang=\"stylus\"><span>gallery.styl</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">/* 限制 Gallery 样式作用域 */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>.gallery-group-main</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">display</span> grid</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">grid-template-columns</span> <span class=\"token func\"><span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token unit\">fr</span><span class=\"token punctuation\">)</span> </span><span class=\"token comment\">// 每行最多三个相册</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">gap</span> <span class=\"token number\">20</span><span class=\"token unit\">px</span> <span class=\"token comment\">// 调整相册间距，确保布局更美观</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">justify-items</span> center <span class=\"token comment\">// 确保相册内容在单元格内居中</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">padding</span> <span class=\"token number\">20</span><span class=\"token unit\">px</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token comment\">/* 移动端适配 */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token atrule-declaration\"><span class=\"token atrule\">@media</span> <span class=\"token punctuation\">(</span>max-width<span class=\"token punctuation\">:</span> <span class=\"token number\">768</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 当屏幕宽度小于 768px 时</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">grid-template-columns</span> <span class=\"token number\">1</span><span class=\"token unit\">fr</span> <span class=\"token comment\">// 每行一个相册，按列排列</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">gap</span> <span class=\"token number\">15</span><span class=\"token unit\">px</span> <span class=\"token comment\">// 调整相册间距，适应窄屏布局</span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">padding</span> <span class=\"token number\">10</span><span class=\"token unit\">px</span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">/* 针对 Gallery 内的 Figure */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>.gallery-group-main figure.gallery-group</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">position</span> relative</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">width</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span> <span class=\"token comment\">// 使相册占满单元格宽度</span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">max-width</span> <span class=\"token number\">300</span><span class=\"token unit\">px</span> <span class=\"token comment\">// 设置最大宽度，避免相册过大</span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">aspect-ratio</span> <span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">1</span> <span class=\"token comment\">// 确保相册为正方形</span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">border-radius</span> <span class=\"token number\">8</span><span class=\"token unit\">px</span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">background</span> <span class=\"token hexcode\">#000000</span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">overflow</span> hidden</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">transition</span> transform <span class=\"token number\">0.3</span><span class=\"token unit\">s</span><span class=\"token punctuation\">,</span> box-shadow <span class=\"token number\">0.3</span><span class=\"token unit\">s</span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">box-shadow</span> <span class=\"token number\">0</span> <span class=\"token number\">4</span><span class=\"token unit\">px</span> <span class=\"token number\">6</span><span class=\"token unit\">px</span> <span class=\"token func\"><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">cursor</span> pointer</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token selector\">&amp;:hover</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">transform</span> <span class=\"token func\"><span class=\"token function\">translateY</span><span class=\"token punctuation\">(</span><span class=\"token number\">-5</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">box-shadow</span> <span class=\"token number\">0</span> <span class=\"token number\">8</span><span class=\"token unit\">px</span> <span class=\"token number\">12</span><span class=\"token unit\">px</span> <span class=\"token func\"><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token selector\">img</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      <span class=\"token property-declaration\"><span class=\"token property\">opacity</span> <span class=\"token number\">0.4</span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token selector\">figcaption</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      <span class=\"token property-declaration\"><span class=\"token property\">opacity</span> <span class=\"token number\">1</span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">/* Gallery 内的 Image */</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>.gallery-group-main img.gallery-group-img</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">width</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">height</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">object-fit</span> cover</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">transition</span> opacity <span class=\"token number\">0.3</span><span class=\"token unit\">s</span> ease</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">/* Gallery 的 Caption 容器 */</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>.gallery-group-main figcaption</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">position</span> absolute</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">bottom</span> <span class=\"token number\">0</span></span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">left</span> <span class=\"token number\">0</span></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">width</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span></span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">padding</span> <span class=\"token number\">15</span><span class=\"token unit\">px</span></span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">background</span> <span class=\"token func\"><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">color</span> <span class=\"token hexcode\">#fff</span></span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">opacity</span> <span class=\"token number\">0</span></span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">transition</span> opacity <span class=\"token number\">0.3</span><span class=\"token unit\">s</span> ease-<span class=\"token operator\">in</span>-out</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token selector\">.gallery-group-name</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">margin</span> <span class=\"token number\">0</span></span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">font-size</span> <span class=\"token number\">1.2</span><span class=\"token unit\">em</span></span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">line-height</span> <span class=\"token number\">1.4</span></span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">font-weight</span> bold</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">text-shadow</span> <span class=\"token number\">0</span> <span class=\"token number\">2</span><span class=\"token unit\">px</span> <span class=\"token number\">4</span><span class=\"token unit\">px</span> <span class=\"token func\"><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>  <span class=\"token selector\">.gallery-group-descr</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">margin</span> <span class=\"token number\">10</span><span class=\"token unit\">px</span> <span class=\"token number\">0</span> <span class=\"token number\">0</span></span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">font-size</span> <span class=\"token number\">0.9</span><span class=\"token unit\">em</span></span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">line-height</span> <span class=\"token number\">1.4</span></span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">text-shadow</span> <span class=\"token number\">0</span> <span class=\"token number\">2</span><span class=\"token unit\">px</span> <span class=\"token number\">4</span><span class=\"token unit\">px</span> <span class=\"token func\"><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr></table></figure><ol start=\"4\">\n<li>调整 <code>themes\\shokaX\\source\\css\\_common\\outline\\sidebar\\sidebar.styl</code>  对相册页面的侧边栏进行调整：取消侧边栏，位置由主页面占据。<br />\n大约在原文件<span class=\"green\"> 40-44</span> 新增:</li>\n</ol>\n<figure class=\"highlight stylus\"><figcaption data-lang=\"stylus\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">// 新增：gallery 页面隐藏 sidebar</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>body.gallery #sidebar <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>在原文件<span class=\"green\"> 74-89</span> 新增：</p>\n<figure class=\"highlight stylus\"><figcaption data-lang=\"stylus\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">// 新增：gallery 页面 pjax 全宽</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>body.gallery .pjax <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token property-declaration\"><span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token selector\"><span class=\"token comment\">// 如果需要支持 flex 布局的全宽调整</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>.inner <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token selector\"><span class=\"token comment\">//gallery 页面全宽覆盖逻辑</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  body.gallery &amp; > .pjax <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>第<span class=\"yellow\"> 4</span> 点需要指明相册页面的 body 的类 <code>class</code>  为 <code>gallery</code>  才能生效，且为了防止<em> PJAX</em> 导致的其他页面同步配置该效果，需要在 <code>themes\\shokaX\\source\\js\\_app\\pjax\\siteInit.ts</code>  中进行配置。</li>\n</ol>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"><span>siteinit.ts</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> domInit <span class=\"token keyword\">from</span> <span class=\"token string\">'./domInit'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> pjaxReload<span class=\"token punctuation\">,</span> siteRefresh <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./refresh'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> cloudflareInit <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/cloudflare'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token constant\">BODY</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">,</span> pjax<span class=\"token punctuation\">,</span> setPjax<span class=\"token punctuation\">,</span> setSiteSearch<span class=\"token punctuation\">,</span> siteSearch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../globals/globalVars'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> autoDarkmode<span class=\"token punctuation\">,</span> themeColorListener <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../globals/themeColor'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> resizeHandle<span class=\"token punctuation\">,</span> scrollHandle<span class=\"token punctuation\">,</span> visibilityListener <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../globals/handles'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> pagePosition <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../globals/tools'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> Pjax <span class=\"token keyword\">from</span> <span class=\"token string\">'theme-shokax-pjax'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> initVue <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../library/vue'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> $dom <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../library/dom'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createChild <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../library/proto'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> transition <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../library/anime'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">import</span> initializeGallery <span class=\"token keyword\">from</span> <span class=\"token string\">'../library/gallery'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 替换为实际路径</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">updateGalleryPageLayout</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"16\"></td><td><pre>  <span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">const</span> footer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"footer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">const</span> main <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"19\"></td><td><pre>  <span class=\"token keyword\">const</span> headerAlternate <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#header .artboard\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"20\"></td><td><pre>  <span class=\"token keyword\">const</span> headerTitle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#header .title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"21\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">const</span> HeaderMsgConfigPath <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取配置了 Header 参数的页面路径</span></pre></td></tr><tr class=\"marked\"><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">const</span> HeaderMsgConfig <span class=\"token operator\">=</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">[</span>HeaderMsgConfigPath<span class=\"token operator\">+</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 从页面元数据中获取当前页面配置</span></pre></td></tr><tr class=\"marked\"><td data-num=\"24\"></td><td><pre>  <span class=\"token comment\">//console.log (\"当前页面配置:\", HeaderMsgConfig);</span></pre></td></tr><tr class=\"marked\"><td data-num=\"25\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">const</span> DefaultHeaderMsgConfig <span class=\"token operator\">=</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>headerMsg</pre></td></tr><tr class=\"marked\"><td data-num=\"27\"></td><td><pre>  <span class=\"token comment\">//console.log (\"默认页面配置:\", DefaultHeaderMsgConfig);</span></pre></td></tr><tr class=\"marked\"><td data-num=\"28\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"29\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/gallery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"30\"></td><td><pre>    body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gallery\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"31\"></td><td><pre>    </pre></td></tr><tr class=\"marked\"><td data-num=\"32\"></td><td><pre>    <span class=\"token comment\">// 隐藏 footer</span></pre></td></tr><tr class=\"marked\"><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> footer<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"34\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"35\"></td><td><pre>    <span class=\"token comment\">// 调整 main 的 margin-bottom</span></pre></td></tr><tr class=\"marked\"><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">)</span> main<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginBottom <span class=\"token operator\">=</span> <span class=\"token string\">\"0px\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"37\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">// 如果页面配置了自定义字段，则动态更新 header</span></pre></td></tr><tr class=\"marked\"><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>HeaderMsgConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"40\"></td><td><pre>      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> alternate<span class=\"token punctuation\">,</span> headerTitle<span class=\"token operator\">:</span> pageTitle <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> HeaderMsgConfig<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"41\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerAlternate <span class=\"token operator\">&amp;&amp;</span> alternate<span class=\"token punctuation\">)</span> headerAlternate<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> alternate<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"42\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerTitle <span class=\"token operator\">&amp;&amp;</span> pageTitle<span class=\"token punctuation\">)</span> headerTitle<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> pageTitle<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"43\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"44\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"45\"></td><td><pre>    <span class=\"token function\">initializeGallery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"46\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"47\"></td><td><pre>    body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gallery\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"48\"></td><td><pre>    <span class=\"token comment\">// 恢复 footer 的显示</span></pre></td></tr><tr class=\"marked\"><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> footer<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"50\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"51\"></td><td><pre>    <span class=\"token comment\">// 恢复 main 的 margin-bottom</span></pre></td></tr><tr class=\"marked\"><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">)</span> main<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginBottom <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"53\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"54\"></td><td><pre>    <span class=\"token comment\">// 恢复默认 header 内容</span></pre></td></tr><tr class=\"marked\"><td data-num=\"55\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>DefaultHeaderMsgConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"56\"></td><td><pre>      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> alternate<span class=\"token punctuation\">,</span> headerTitle<span class=\"token operator\">:</span> pageTitle <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> DefaultHeaderMsgConfig<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"57\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerAlternate <span class=\"token operator\">&amp;&amp;</span> alternate<span class=\"token punctuation\">)</span> headerAlternate<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> alternate<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"58\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerTitle <span class=\"token operator\">&amp;&amp;</span> pageTitle<span class=\"token punctuation\">)</span> headerTitle<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> pageTitle<span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"59\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"60\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"61\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"62\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"63\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">updateAnimePageLayout</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"64\"></td><td><pre>  <span class=\"token keyword\">const</span> comment <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"comments\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"65\"></td><td><pre>  <span class=\"token keyword\">const</span> main <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"66\"></td><td><pre>  <span class=\"token keyword\">const</span> footer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"footer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"67\"></td><td><pre>  <span class=\"token keyword\">const</span> ffooter <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'footer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"68\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/anime'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"69\"></td><td><pre>    <span class=\"token comment\">// 隐藏 footer</span></pre></td></tr><tr class=\"marked\"><td data-num=\"70\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>comment<span class=\"token punctuation\">)</span> comment<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"71\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> footer<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"72\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ffooter<span class=\"token punctuation\">)</span> ffooter<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"73\"></td><td><pre>    <span class=\"token comment\">// 调整 main 的 margin-bottom</span></pre></td></tr><tr class=\"marked\"><td data-num=\"74\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">)</span> main<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginBottom <span class=\"token operator\">=</span> <span class=\"token string\">\"0px\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"75\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"76\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/gallery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"77\"></td><td><pre>      <span class=\"token comment\">// 恢复 footer 的显示</span></pre></td></tr><tr class=\"marked\"><td data-num=\"78\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>comment<span class=\"token punctuation\">)</span> comment<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"79\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> footer<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"80\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ffooter<span class=\"token punctuation\">)</span> ffooter<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"81\"></td><td><pre>      <span class=\"token comment\">// 恢复 main 的 margin-bottom</span></pre></td></tr><tr class=\"marked\"><td data-num=\"82\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">)</span> main<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginBottom <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"83\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"84\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"85\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre></pre></td></tr><tr><td data-num=\"87\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">siteInit</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token function\">initVue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>  <span class=\"token function\">domInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>  <span class=\"token function\">setPjax</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Pjax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    selectors<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>      <span class=\"token string\">'head title'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>      <span class=\"token string\">'.languages'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>      <span class=\"token string\">'.twikoo'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>      <span class=\"token string\">'.pjax'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>      <span class=\"token string\">'.leancloud-recent-comment'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>      <span class=\"token string\">'script[data-config]'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    cacheBust<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>  <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>quicklink<span class=\"token punctuation\">.</span>ignores <span class=\"token operator\">=</span> <span class=\"token constant\">LOCAL</span><span class=\"token punctuation\">.</span>ignores<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>  <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'quicklink'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> listen <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    <span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>quicklink<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>  <span class=\"token function\">autoDarkmode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>__shokax_VL__<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>    <span class=\"token function\">visibilityListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token function\">themeColorListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>__shokax_search__<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li.item.search > i'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>search <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>siteSearch<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token function\">setSiteSearch</span><span class=\"token punctuation\">(</span><span class=\"token function\">createChild</span><span class=\"token punctuation\">(</span><span class=\"token constant\">BODY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>          id<span class=\"token operator\">:</span> <span class=\"token string\">'search'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>          innerHTML<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;div class=\"inner\">&lt;div class=\"header\">&lt;span class=\"icon\">&lt;i class=\"ic i-search\">&lt;/i>&lt;/span>&lt;div class=\"search-input-container\">&lt;/div>&lt;span class=\"close-btn\">&lt;i class=\"ic i-times-circle\">&lt;/i>&lt;/span>&lt;/div>&lt;div class=\"results\">&lt;div class=\"inner\">&lt;div id=\"search-stats\">&lt;/div>&lt;div id=\"search-hits\">&lt;/div>&lt;div id=\"search-pagination\">&lt;/div>&lt;/div>&lt;/div>&lt;/div>'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>      <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../page/search'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> algoliaSearch <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>        <span class=\"token function\">algoliaSearch</span><span class=\"token punctuation\">(</span>pjax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>      $dom<span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.search'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>        element<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>          document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>overflow <span class=\"token operator\">=</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>          <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span>siteSearch<span class=\"token punctuation\">,</span> <span class=\"token string\">'shrinkIn'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>            <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.search-input'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLInputElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> once<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> capture<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>__shokax_fireworks__<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>    <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mouse-firework'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>firework<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>      firework<span class=\"token punctuation\">.</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>fireworks<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre></pre></td></tr><tr class=\"marked\"><td data-num=\"149\"></td><td><pre>  <span class=\"token comment\">// 初始化时更新 gallery 页面布局</span></pre></td></tr><tr class=\"marked\"><td data-num=\"150\"></td><td><pre>  <span class=\"token function\">updateGalleryPageLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"151\"></td><td><pre>  <span class=\"token function\">updateAnimePageLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll'</span><span class=\"token punctuation\">,</span> scrollHandle<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> resizeHandle<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pjax:send'</span><span class=\"token punctuation\">,</span> pjaxReload<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pjax:success'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre>    <span class=\"token function\">siteRefresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr class=\"marked\"><td data-num=\"158\"></td><td><pre>    <span class=\"token function\">updateGalleryPageLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// PJAX 切换完成后更新布局</span></pre></td></tr><tr class=\"marked\"><td data-num=\"159\"></td><td><pre>    <span class=\"token function\">updateAnimePageLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'beforeunload'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre>    <span class=\"token function\">pagePosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>  <span class=\"token keyword\">await</span> <span class=\"token function\">siteRefresh</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre></pre></td></tr><tr><td data-num=\"169\"></td><td><pre><span class=\"token function\">cloudflareInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'DOMContentLoaded'</span><span class=\"token punctuation\">,</span> siteInit<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre></pre></td></tr><tr><td data-num=\"173\"></td><td><pre><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%c Theme.ShokaX v'</span> <span class=\"token operator\">+</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>version <span class=\"token operator\">+</span> <span class=\"token string\">' %c https://github.com/theme-shoka-x/hexo-theme-shokaX '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'color: white; background: #e9546b; padding:5px 0;'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'padding:4px;border:1px solid #e9546b;'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>先只关注这里的：</p>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/gallery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gallery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gallery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>实现了动态切换类名。然后在 <code>siteInit</code>  函数中初始化时调用 <code>updateGalleryPageLayout();</code> ，在<em> PJAX</em> 切换完成后更新： <code>在 window.addEventListener('pjax:success', ...)</code>  中调用 <code>updateGalleryPageLayout();</code> ，确保切换页面时动态更新类名。<br />\n并且同时使相册页面不显示 <code>footer</code> ，使 <code>&lt;main&gt;...&lt;/main&gt;</code>  容器可以适当向下增加空间。当处于 <code>gallery</code>  界面时隐藏 <code>footer</code>  并使 <code>main</code>  和底部边缘为 <code>0</code> ，否则恢复原样。</p>\n<ol start=\"6\">\n<li>添加分页按钮<br />\n创建文件： <code>themes\\shokaX\\scripts\\generaters\\gallery.js</code> ，用于处理分页逻辑，前面已经在 <code>themes\\shokaX\\layout\\gallery.pug</code>  中引入了原来的分页布局： <code>include _partials/pagination.pug</code> ，并且已经有 <code>themes\\shokaX\\source\\css\\_common\\scaffolding\\pagination.styl</code>  文件。不用另外配置。</li>\n</ol>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>gallery.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> pagination <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hexo-pagination'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 主相册页面生成</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>generator<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gallery'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">locals</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token comment\">// 确保读取 gallery_groups 下的数据</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">const</span> galleryGroups <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>locals<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>gallery <span class=\"token operator\">&amp;&amp;</span> locals<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>gallery<span class=\"token punctuation\">.</span>gallery_groups<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>galleryGroups<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    hexo<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Gallery data is empty. Check your gallery.yml file.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token function\">pagination</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/gallery'</span><span class=\"token punctuation\">,</span> galleryGroups<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token literal-property property\">perPage</span><span class=\"token operator\">:</span> hexo<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>per_page <span class=\"token operator\">||</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token literal-property property\">layout</span><span class=\"token operator\">:</span> <span class=\"token string\">'gallery'</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">// 使用 gallery.pug 模板</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token literal-property property\">gallery</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 标记为相册页面</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>以上代码用于生成分页数据。在 <code>themes\\shokaX\\layout\\gallery.pug</code>  通过 <code>page.posts</code>  读取分页数据并渲染分页数据。</p>\n<h2 id=\"相册子页面配置\"><a class=\"anchor\" href=\"#相册子页面配置\">#</a> <span class=\"blue\">相册</span>子页面配置</h2>\n<ol>\n<li>创建文件： <code>themes\\shokaX\\layout\\gallery-item.pug</code> ，用于生成一个相册组页面，展示相册组中的所有照片。</li>\n</ol>\n<figure class=\"highlight pug\"><figcaption data-lang=\"pug\"><span>gallery-item.pug</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">extends ./_partials/layout.pug</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">block content</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token tag\">div<span class=\"token attr-class\">.gallery-container</span><span class=\"token attr-class\">.gallery-items</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token flow-control\"><span class=\"token each\"><span class=\"token keyword\">each</span> photo <span class=\"token keyword\">in</span></span> page<span class=\"token punctuation\">.</span>photos</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token tag\">a<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">href</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">photo <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"gallery-item\"</span> data<span class=\"token operator\">-</span>src<span class=\"token operator\">=</span>photo</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\">img<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">src</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">photo alt<span class=\"token operator\">=</span>page<span class=\"token punctuation\">.</span>group<span class=\"token punctuation\">.</span>name title<span class=\"token operator\">=</span>page<span class=\"token punctuation\">.</span>group<span class=\"token punctuation\">.</span>descr loading<span class=\"token operator\">=</span><span class=\"token string\">\"lazy\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr></table></figure><ol start=\"2\">\n<li><code>themes\\shokaX\\scripts\\generaters\\gallery.js</code>  中・增加代码传递 yml 的相册数据到 <code>gallery-item.pug</code>  被读取。</li>\n</ol>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>gallery.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 子相册页面生成</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>generator<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'galleryPages'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">locals</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> galleryGroups <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>locals<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>gallery <span class=\"token operator\">&amp;&amp;</span> locals<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>gallery<span class=\"token punctuation\">.</span>gallery_groups<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">return</span> galleryGroups<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">group</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// 确保 photos 是字符串数组</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">const</span> photos <span class=\"token operator\">=</span> group<span class=\"token punctuation\">.</span>photos <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 不再需要解析对象，直接返回数组内容</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">// 根据 URL 提取唯一标识符</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// const groupId = group.url.split('/').filter((part) => part).pop();</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/miyano'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 由于获取的 url 里已经含有 '/miyano' 导致重复，需要去掉。</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token literal-property property\">layout</span><span class=\"token operator\">:</span> <span class=\"token string\">'gallery-item'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 使用 gallery-item.pug 模板</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        group<span class=\"token punctuation\">,</span>      <span class=\"token comment\">// 传递 group 数据</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        photos<span class=\"token punctuation\">,</span>     <span class=\"token comment\">// 直接传递字符串数组的 photos</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">//id: groupId // 传递唯一的 id</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>实现相册集内图片的自动自适应布局以及灯箱功能，查看文档：<a href=\"https://github.com/miromannino/Justified-Gallery\">Justified-Gallery</a> 和<a href=\"https://www.lightgalleryjs.com/\"> lightgallery</a> 进行实现。<br />\n依赖的文件有：</li>\n</ol>\n<ul>\n<li><strong>CSS 文件</strong>:</li>\n</ul>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/lightgallery/css/lightgallery.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ul>\n<li><strong>JS 文件</strong>:</li>\n</ul>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/lightgallery/lightgallery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/lightgallery/plugins/zoom/lg-zoom.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/lightgallery/plugins/thumbnail/lg-thumbnail.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>需要创建文件 <code>themes\\shokaX\\source\\js\\_app\\library\\gallery.ts</code>  实现，动态导入了以上的 css 和 js 文件 (注意到其实 <code>shokaX</code>  已经实现的 <code>fancybox</code>  就是利用了 <code>justifiedGallery</code> ，并且已在 <code>_config.shokaX.yml</code>  中的 <code>vendors</code>  中引入了)。这里模仿了 <code>themes\\shokaX\\source\\js\\_app\\page\\fancybox.ts</code>  使用的方法。</p>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"><span>gallery.ts</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 动态加载 CSS</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> loadCss <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> link <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'link'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  link<span class=\"token punctuation\">.</span>rel <span class=\"token operator\">=</span> <span class=\"token string\">'stylesheet'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  link<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  document<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>link<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// 动态加载 JS</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">const</span> loadJs <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">const</span> script <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    script<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    script<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    script<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Failed to load script: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">const</span> destroyLightGallery <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">// 获取所有 LightGallery 容器</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">const</span> lightGalleryContainers <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.lg-container'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">// console.log('LightGallery containers found:', lightGalleryContainers);</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lightGalleryContainers<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token comment\">// console.log('No LightGallery instances found to destroy.');</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">// 遍历每个 LightGallery 容器</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    lightGalleryContainers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token comment\">// console.log('Destroying LightGallery instance for container:', container);</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token comment\">// 清理与 LightGallery 容器关联的事件</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      <span class=\"token keyword\">const</span> containerId <span class=\"token operator\">=</span> container<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>      <span class=\"token keyword\">const</span> backdrop <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lg-backdrop-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>containerId<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token keyword\">const</span> outer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lg-outer-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>containerId<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      <span class=\"token keyword\">const</span> content <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lg-content-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>containerId<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      <span class=\"token comment\">// 清理事件和相关子元素</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>backdrop<span class=\"token punctuation\">)</span> backdrop<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>outer<span class=\"token punctuation\">)</span> outer<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span> content<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>      <span class=\"token comment\">// 移除容器本身</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>      <span class=\"token comment\">// console.log('LightGallery instance and DOM elements destroyed for:', containerId);</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token comment\">// 确保没有遗留的全局实例</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgInstances<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>      <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgInstances <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgInstances<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>inst<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token keyword\">const</span> isDestroyed <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>inst<span class=\"token punctuation\">.</span>LGEl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isDestroyed<span class=\"token punctuation\">)</span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Removed destroyed instance:'</span><span class=\"token punctuation\">,</span> inst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span>isDestroyed<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token comment\">// console.log('All LightGallery instances and DOM cleaned up.');</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error destroying LightGallery instances:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token comment\">// 初始化 Justified Gallery 和 LightGallery</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token keyword\">const</span> initializeGallery <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token comment\">// 动态加载 CSS</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token function\">loadCss</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token function\">loadCss</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/lightgallery/css/lightgallery-bundle.css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token comment\">// 动态加载 JS</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/lightgallery/lightgallery.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/lightgallery/plugins/zoom/lg-zoom.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/lightgallery/plugins/thumbnail/lg-thumbnail.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/lightgallery/plugins/autoplay/lg-autoplay.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token keyword\">await</span> <span class=\"token function\">loadJs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cdn.jsdelivr.net/npm/lightgallery/plugins/rotate/lg-rotate.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    <span class=\"token keyword\">const</span> $ <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>jQuery<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    <span class=\"token comment\">//const pathSegments = window.location.pathname.split ('/').filter (segment => segment); // 提取路径段</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    <span class=\"token comment\">//const galleryId = pathSegments [pathSegments.length - 1]; // 获取最后一个路径段</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token keyword\">const</span> galleryContainer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.gallery-items'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLElement<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>galleryContainer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'No gallery container found.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    <span class=\"token comment\">// 销毁现有 LightGallery 实例，防止重复初始化</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token function\">destroyLightGallery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token comment\">// 初始化 Justified Gallery</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>galleryContainer<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">justifiedGallery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        rowHeight<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        margins<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        lastRow<span class=\"token operator\">:</span> <span class=\"token string\">'justify'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        captions<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jg.complete'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Justified Gallery layout complete.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>        <span class=\"token comment\">// 初始化 LightGallery</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>        <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">lightGallery</span><span class=\"token punctuation\">(</span>galleryContainer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>          plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>            <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgZoom<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>            <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgThumbnail<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>            <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgAutoplay<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>            <span class=\"token punctuation\">(</span>window <span class=\"token keyword\">as</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lgRotate<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>          speed<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>          thumbnail<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>          zoom<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LightGallery initialized.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error initializing gallery:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre></pre></td></tr><tr><td data-num=\"127\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> initializeGallery<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>首先，为了防止<em> PJAX</em> 的缓存问题，选择使用 ts 实现，并在 <code>siteinit.ts</code>  中导入该模块，实现 pjax 刷新，但遇到了 <code>lightgallery</code>  的对象没有清除，在切换相册时会叠加出现的问题，最后通过实现 <code>destroyLightGallery()</code>  方法，在每次初始化容器前都先清除对象防止对象叠加影响。<br />\n关于 <code>justifiedGallery</code>  和 <code>lightGallery</code>  的实例化的参数详见文档。注意 <code>lightgallery</code>  增加插件 plugins 需要导入对应的脚本，这些脚本也可在文档查到。<br />\n最后该模块 <code>initializeGallery</code>  在 <code>siteinit.ts</code>  中通过 <code>import initializeGallery from '../library/gallery';</code>  导入即可，放在 <code>updateGalleryPageLayout()</code>  内当处于 <code>gallery</code>  页面时。</p>\n<h1 id=\"页面标题自定义\"><a class=\"anchor\" href=\"#页面标题自定义\">#</a> 页面标题自定义</h1>\n<p>就是显示在大封面的每个页面的两行字，即：</p>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> headerAlternate <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#header .artboard\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> headerTitle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#header .title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>实现可以在 <code>index.md</code>  中自定义配置。通过 <code>siteinit.ts</code>  中的 <code>import &#123; BODY, CONFIG, pjax, setPjax, setSiteSearch, siteSearch &#125; from '../globals/globalVars';</code>  中的 <code>CONFIG</code>  追踪到 <code>themes\\shokaX\\scripts\\generaters\\script.js</code> ，在<span class=\"green\"> 31-64</span> 行中加入代码:</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>script.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 读取 gallery.yml 的数据</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> galleryData <span class=\"token operator\">=</span> hexo<span class=\"token punctuation\">.</span>locals<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>gallery <span class=\"token operator\">||</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  locals<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">page</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// galleryData.gallery_groups.forEach((group) => &#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//   // 去掉 Group URL 中的 \"miyano/\" 前缀</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">//   const groupUrl = group.url.replace(/^\\/?miyano\\//, \"\").replace(/\\/$/, \"\");</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">//   // 去掉 Page Path 中的 \"index.html\" 后缀</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">//   const pagePath = page.path.replace(/index\\.html$/, \"\").replace(/\\/$/, \"\");</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">//   console.log(\"Page Path:\", pagePath);</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">//   console.log(\"Group URL:\", groupUrl);</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// &#125;);</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">const</span> galleryItem <span class=\"token operator\">=</span> galleryData<span class=\"token punctuation\">.</span>gallery_groups<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">(</span><span class=\"token parameter\">group</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> page<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">index\\.html$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\/$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> group<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\/?miyano\\/</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\/$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>galleryItem<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      page<span class=\"token punctuation\">.</span>alternate <span class=\"token operator\">=</span> galleryItem<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      page<span class=\"token punctuation\">.</span>headerTitle <span class=\"token operator\">=</span> galleryItem<span class=\"token punctuation\">.</span>descr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token comment\">// 动态生成页面元数据</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token keyword\">const</span> pages <span class=\"token operator\">=</span> locals<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">acc<span class=\"token punctuation\">,</span> page</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">const</span> metadata <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>alternate<span class=\"token punctuation\">)</span> metadata<span class=\"token punctuation\">.</span>alternate <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span>alternate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>headerTitle<span class=\"token punctuation\">)</span> metadata<span class=\"token punctuation\">.</span>headerTitle <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span>headerTitle<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>metadata<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      acc<span class=\"token punctuation\">[</span>page<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> metadata<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 仅记录有自定义参数的页面</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token comment\">//console.log (\"页面数据：\",pages);</span></pre></td></tr></table></figure><p>其中，对于子相册页面，通过读取 <code>source\\_data\\gallery.yml</code>  中的 <code>name</code>  和 <code>descr</code>  参数作为该页面的 <code>alternate</code>  和 <code>headerTitle</code>  的数据。其中需要获取到和当前子页面路径匹配的 yml 中对应的 url 的数据。需要对两个路径分别进行处理才能得到一致的结构获取到对应的数据。<br />\n后面一步则是获取 <code>index.md</code>  中有配置 <code>alternate</code>  和 <code>headerTitle</code>  参数的页面，如果有配置，则返回该页面 <code>pages</code> （带有页面路径和配置的参数值的数据。）<br />\n在<span class=\"green\"> 66-69</span> 添加代码获取默认的 <code>alternate</code>  和 <code>title</code>  参数用于默认的页面标题。<br />\n在<span class=\"green\"> 110</span> 添加参数 pages.</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>script.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token literal-property property\">headerMsg</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      <span class=\"token literal-property property\">alternate</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>alternate<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> config<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    pages<span class=\"token punctuation\">,</span></pre></td></tr></table></figure><p>接着，在 <code>siteinit.ts</code>  中，加入下面代码:</p>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">updateGalleryPageLayout</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> footer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"footer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">const</span> main <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> headerAlternate <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#header .artboard\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">const</span> headerTitle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#header .title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">const</span> HeaderMsgConfigPath <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>root<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取配置了 Header 参数的页面路径</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">const</span> HeaderMsgConfig <span class=\"token operator\">=</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">[</span>HeaderMsgConfigPath<span class=\"token operator\">+</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 从页面元数据中获取当前页面配置</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">//console.log (\"当前页面配置:\", HeaderMsgConfig);</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">const</span> DefaultHeaderMsgConfig <span class=\"token operator\">=</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>headerMsg</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token comment\">//console.log (\"默认页面配置:\", DefaultHeaderMsgConfig);</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/gallery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gallery\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">// 隐藏 footer</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> footer<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">// 调整 main 的 margin-bottom</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">)</span> main<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginBottom <span class=\"token operator\">=</span> <span class=\"token string\">\"0px\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">// 如果页面配置了自定义字段，则动态更新 header</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>HeaderMsgConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> alternate<span class=\"token punctuation\">,</span> headerTitle<span class=\"token operator\">:</span> pageTitle <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> HeaderMsgConfig<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerAlternate <span class=\"token operator\">&amp;&amp;</span> alternate<span class=\"token punctuation\">)</span> headerAlternate<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> alternate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerTitle <span class=\"token operator\">&amp;&amp;</span> pageTitle<span class=\"token punctuation\">)</span> headerTitle<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> pageTitle<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token function\">initializeGallery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gallery\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token comment\">// 恢复 footer 的显示</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> footer<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token comment\">// 恢复 main 的 margin-bottom</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">)</span> main<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginBottom <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token comment\">// 恢复默认 header 内容</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>DefaultHeaderMsgConfig<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> alternate<span class=\"token punctuation\">,</span> headerTitle<span class=\"token operator\">:</span> pageTitle <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> DefaultHeaderMsgConfig<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerAlternate <span class=\"token operator\">&amp;&amp;</span> alternate<span class=\"token punctuation\">)</span> headerAlternate<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> alternate<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>headerTitle <span class=\"token operator\">&amp;&amp;</span> pageTitle<span class=\"token punctuation\">)</span> headerTitle<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> pageTitle<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>实现了页面的 <code>Header</code>  字段自定义，退出 <code>gallery</code>  页面时则恢复默认。</p>\n<h1 id=\"每天随机主题图片\"><a class=\"anchor\" href=\"#每天随机主题图片\">#</a> 每天随机主题图片</h1>\n<ol>\n<li><code>themes\\shokaX\\_images_index.yml</code>  为首页图片源文件， <code>themes\\shokaX\\_images.yml</code>  为首页的后备图片源和文章的图片源。创建一个 <code>themes\\shokaX\\images.json</code>  用于管理各个主题的图片集，格式为：</li>\n</ol>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"><span>images.json</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token property\">\"kon\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token property\">\"home\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/kon_14.webp\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token property\">\"articles\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/kon_28.webp\"</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token property\">\"eva\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token property\">\"home\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/eva_35.webp\"</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token property\">\"articles\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/eva_23.webp\"</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token property\">\"sp\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token property\">\"home\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/sp_3.webp\"</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token property\">\"articles\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/ghibli_31.webp\"</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token property\">\"articles\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>          <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/ghibli_9.webp\"</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>分别存储了用于首页和文章的图片。</p>\n<ol start=\"2\">\n<li>创建文件： <code>updateYaml.js</code> ，用于根据日期选择主题或者根据 <code>_config.shokaX.yml</code>  中配置的 <code>Mytheme</code>  选择主题。通过读取<em> json</em> 文件，将图片集写入两个<em> yml</em> 文件，运行 <code>node updateYaml.js</code>  实现更新。这一步在自动部署中定时实现。</li>\n</ol>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>updateYaml.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// JSON 文件路径</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">const</span> jsonFilePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"themes/shokaX/images.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// YAML 文件路径</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">const</span> indexYmlPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"themes/shokaX/_images_index.yml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> articleYmlPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"themes/shokaX/_images.yml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// 主题图片文件夹路径</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">const</span> coverImgDir <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"source/_data/coverimg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// 博客文章文件夹路径</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">const</span> postsDir <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"source/_posts\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">// 获取当前主题逻辑</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getTheme</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token keyword\">const</span> configPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"_config.shokaX.yml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>configPath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">const</span> match <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">MyTheme:\\s*(\\S+)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">return</span> match <span class=\"token operator\">?</span> match<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">// 随机从数组中选取 n 个元素</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getRandomElements</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">array<span class=\"token punctuation\">,</span> n</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">const</span> shuffled <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token number\">0.5</span> <span class=\"token operator\">-</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token keyword\">return</span> shuffled<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\">// 获取文件夹数量</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getSubfolderCount</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dir</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">return</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">const</span> itemPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">return</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>itemPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token comment\">// 更新 YAML 文件和生成封面图片</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">updateYmlFiles</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token keyword\">const</span> theme <span class=\"token operator\">=</span> <span class=\"token function\">getTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token keyword\">const</span> jsonData <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>jsonFilePath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token keyword\">let</span> selectedTheme <span class=\"token operator\">=</span> theme<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>theme <span class=\"token operator\">===</span> <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      <span class=\"token keyword\">const</span> themes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"kon\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"sp\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"eva\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ghibli\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>      <span class=\"token keyword\">const</span> currentDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>      <span class=\"token keyword\">const</span> beijingTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentDate<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">8</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// UTC 时间转为北京时间</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beijingTime:\"</span><span class=\"token punctuation\">,</span>beijingTime<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>      beijingTime<span class=\"token punctuation\">.</span><span class=\"token function\">setDate</span><span class=\"token punctuation\">(</span>beijingTime<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 在当前日期上加上 d_day, 为了与另一个网站主题同步</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>      <span class=\"token keyword\">const</span> formattedDate <span class=\"token operator\">=</span> beijingTime<span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取修改后的日期的 YYYY-MM-DD 格式</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>formattedDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sum<span class=\"token punctuation\">,</span> char</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> sum <span class=\"token operator\">+</span> char<span class=\"token punctuation\">.</span><span class=\"token function\">charCodeAt</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 计算日期字符串的哈希值</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>      <span class=\"token keyword\">const</span> themeIndex <span class=\"token operator\">=</span> hash <span class=\"token operator\">%</span> themes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 对主题数组长度取模</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>      selectedTheme <span class=\"token operator\">=</span> themes<span class=\"token punctuation\">[</span>themeIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"selectedTheme\"</span><span class=\"token punctuation\">,</span>selectedTheme<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>  <span class=\"token keyword\">const</span> homeImages <span class=\"token operator\">=</span> jsonData<span class=\"token punctuation\">[</span>selectedTheme<span class=\"token punctuation\">]</span><span class=\"token operator\">?.</span>home <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token keyword\">const</span> articleImages <span class=\"token operator\">=</span> jsonData<span class=\"token punctuation\">[</span>selectedTheme<span class=\"token punctuation\">]</span><span class=\"token operator\">?.</span>articles <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  <span class=\"token comment\">// 写入 YAML 文件</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>indexYmlPath<span class=\"token punctuation\">,</span> homeImages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>  fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>articleYmlPath<span class=\"token punctuation\">,</span> articleImages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">YAML files updated for theme: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>selectedTheme<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token comment\">// 获取主题对应的图片文件夹</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token keyword\">const</span> themeCoverDir <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>coverImgDir<span class=\"token punctuation\">,</span> selectedTheme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">existsSync</span><span class=\"token punctuation\">(</span>themeCoverDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Theme folder not found: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>themeCoverDir<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token comment\">// 获取主题图片列表</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  <span class=\"token keyword\">const</span> themeImages <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>themeCoverDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.(jpg|jpeg|png|webp)$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>themeImages<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">No images found in theme folder: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>themeCoverDir<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  <span class=\"token comment\">// 获取博客文章文件夹数量</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>  <span class=\"token keyword\">const</span> postFolders <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>postsDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token keyword\">const</span> itemPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>postsDir<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    <span class=\"token keyword\">return</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>itemPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>  <span class=\"token comment\">// 随机选取图片并生成 cover.jpg</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token keyword\">const</span> selectedImages <span class=\"token operator\">=</span> <span class=\"token function\">getRandomElements</span><span class=\"token punctuation\">(</span>themeImages<span class=\"token punctuation\">,</span> postFolders<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  postFolders<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">folder<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">const</span> postFolderPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>postsDir<span class=\"token punctuation\">,</span> folder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>    <span class=\"token keyword\">const</span> sourceImagePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>themeCoverDir<span class=\"token punctuation\">,</span> selectedImages<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token keyword\">const</span> outputImagePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>postFolderPath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"cover.jpg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    <span class=\"token comment\">// 复制图片为 cover.jpg</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    fs<span class=\"token punctuation\">.</span><span class=\"token function\">copyFileSync</span><span class=\"token punctuation\">(</span>sourceImagePath<span class=\"token punctuation\">,</span> outputImagePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cover.jpg created for </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>folder<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre><span class=\"token function\">updateYmlFiles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>注意：对于分类卡片的图片，需要先创建分类的文章文件夹，在每个分类文件夹下存入对应的文章，再加上一张 <code>cover.jpg</code> ，必须命名为该格式，才能渲染出卡片。要实现分类卡片的主题切换，于是新建 <code>source\\_data\\coverimg</code>  文件夹，里面再设置各个主题的子文件夹，每个主题下存入对应图片的 <code>jpg</code>  图片， <code>updateYaml.js</code>  则根据当天主题将该主题下的图片抽取重命名为 <code>cover</code>  后覆盖掉原来分类文件夹里的图片，作为当前主题的分类卡片图片。(注意每个主题下存入的图片数量需大于分类的类别数量。)<br />\n 附：首页的分类卡片，还需要在 <code>_config.yml</code>  中进行配置，如：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Category &amp; Tag</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">default_category</span><span class=\"token punctuation\">:</span> uncategorized</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">category_map</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">文献翻译</span><span class=\"token punctuation\">:</span> Literature<span class=\"token punctuation\">-</span>Translation</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">整活探索</span><span class=\"token punctuation\">:</span> Playful<span class=\"token punctuation\">-</span>Exploration</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">科研笔记</span><span class=\"token punctuation\">:</span> Scientific<span class=\"token punctuation\">-</span>Notes</pre></td></tr></table></figure><div class=\"note info\">\n<p>为了使部署后的网页的分类卡片能立即刷新，可以加入时间戳清除缓存，修改 <code>themes\\shokaX\\layout\\_mixin\\card.pug</code> ，第<span class=\"green\"> 2</span> 行修改为:</p>\n<figure class=\"highlight pug\"><figcaption data-lang=\"pug\"><span>card.pug</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">-</span><span class=\"token code\"> <span class=\"token keyword\">var</span> timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">-</span><span class=\"token code\"> cover <span class=\"token operator\">=</span> <span class=\"token function\">url_for</span><span class=\"token punctuation\">(</span>theme<span class=\"token punctuation\">.</span>statics <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>slug <span class=\"token operator\">+</span> <span class=\"token string\">'/cover.jpg'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'?v='</span> <span class=\"token operator\">+</span> timestamp</span></pre></td></tr></table></figure></div>\n<div class=\"note info\">\n<p>注意：js 获取的时间 <code>const currentDate = new Date();</code>  为<em> UTC</em> 时间，需要转为<em> UTC+8</em> 的北京时间，不然更新主题会出错。</p>\n</div>\n<h1 id=\"增改一些参数\"><a class=\"anchor\" href=\"#增改一些参数\">#</a> 增改一些参数</h1>\n<ol>\n<li><code>_config.shokaX.yml</code>  中 <code>widgets</code>  中增加参数：</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">widgets</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token comment\"># if true, will show random posts</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">random_posts</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">post_number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token comment\"># if true, will show recent comments</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">recent_comments</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">comment_number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span></pre></td></tr></table></figure><p>用于配置随机文章和最新评论的显示数量。<br />\n于是在 <code>themes\\shokaX\\scripts\\generaters\\script.js</code>  第<span class=\"green\"> 70</span> 增加代码：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>script.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token literal-property property\">recent_comments_count</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>widgets<span class=\"token punctuation\">.</span>recent_comments<span class=\"token punctuation\">.</span>comment_number<span class=\"token punctuation\">,</span></pre></td></tr></table></figure><p>修改 <code>themes\\shokaX\\source\\js\\_app\\components\\comments.ts</code> ，首先，为了点击最新评论后能正确跳转到该评论所在文章，需要修改第<span class=\"green\"> 32</span> 行为：</p>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> shokax_siteURL<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(https?:\\/\\/)?[^/]*(\\/miyano)?</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>防止重复的 <code>'/miyano'</code> 。接着，修改<span class=\"green\"> 34-37</span> 为：</p>\n<figure class=\"highlight typescript\"><figcaption data-lang=\"typescript\"><span>comment.ts</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> comments <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">RecentComments</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    serverURL<span class=\"token operator\">:</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>waline<span class=\"token punctuation\">.</span>serverURL<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\/+$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    count<span class=\"token operator\">:</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span>recent_comments_count <span class=\"token operator\">||</span> <span class=\"token number\">5</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>应用设置的参数作为评论数量。<br />\n修改 <code>themes\\shokaX\\layout\\_mixin\\widgets.pug</code> ，<span class=\"green\">19-22</span> 修改为:</p>\n<figure class=\"highlight pug\"><figcaption data-lang=\"pug\"><span>widgets.pug</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">-</span><span class=\"token code\"> <span class=\"token keyword\">var</span> postNumber <span class=\"token operator\">=</span> theme<span class=\"token punctuation\">.</span>widgets<span class=\"token punctuation\">.</span>random_posts<span class=\"token punctuation\">.</span>post_number <span class=\"token operator\">||</span> <span class=\"token number\">5</span> <span class=\"token comment\">// 默认值为 5</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">-</span><span class=\"token code\"> <span class=\"token keyword\">var</span> posts <span class=\"token operator\">=</span> site<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span>postNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 使用配置的 post_number</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token flow-control\"><span class=\"token each\"><span class=\"token keyword\">each</span> item <span class=\"token keyword\">in</span></span> posts</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token tag\">field<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">item</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr></table></figure><ol start=\"2\">\n<li>修改站点文章阅读时间的格式<br />\n修改 <code>themes\\shokaX\\scripts\\helpers\\symbols_count_time.js</code>  的<span class=\"green\"> 28-37</span> 为:</li>\n</ol>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>symbols_count_time.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">getFormatTime</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">minutes<span class=\"token punctuation\">,</span> suffix</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> fHours <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>minutes <span class=\"token operator\">/</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">let</span> fMinutes <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>minutes <span class=\"token operator\">-</span> fHours <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fMinutes <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    fMinutes <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token comment\">// return fHours &lt; 1 ? fMinutes + \" \" + suffix : fHours + \":\" + (\"00\" + fMinutes).slice(-2);</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token comment\">// 修改时间格式化方式为？h?min</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">return</span> fHours <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>fMinutes<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">min</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>fHours<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">h</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>fMinutes<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">min</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>显示时间的格式改为 <code>?h?min</code> 。</p>\n<ol start=\"3\">\n<li>\n<p>增加或修改图标<br />\n按照<a href=\"https://docs.kaitaku.xyz/\">文档</a>操作，组建自己的图标项目，生成 css 代码，将需要的图标代码加入 <code>themes\\shokaX\\source\\css\\_iconfont.styl</code>  文件中。</p>\n</li>\n<li>\n<p>增加或修改字段<br />\n修改文件 <code>themes\\shokaX\\languages\\zh-CN.yml</code> ，例如：</p>\n</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"><span>zh-CN.yml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">favicon</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token comment\"># show: （●´3｀●）やれやれだぜ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">show</span><span class=\"token punctuation\">:</span> （●´3｀●）萌え萌えキュン</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">hide</span><span class=\"token punctuation\">:</span> (´Д｀)大変だ！</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">menu</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">gallery</span><span class=\"token punctuation\">:</span> 相册</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> 宝箱</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">anime</span><span class=\"token punctuation\">:</span> 追番</pre></td></tr></table></figure><h1 id=\"移除头图模糊\"><a class=\"anchor\" href=\"#移除头图模糊\">#</a> 移除头图模糊</h1>\n<p>参考<a href=\"https://blog.minz.li/shokaX/ShokaX%E6%8F%92%E4%BB%B6-%E7%A7%BB%E9%99%A4%E9%A0%82%E9%83%A8%E9%9C%A7%E9%9D%A2%E6%95%88%E6%9E%9C/\">链接</a>，新建文件： <code>themes\\shokaX\\scripts\\removeTopBlur.js</code> ，内容为：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>removeTopBlur.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'theme_inject'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">injects</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    injects<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'themes/shokaX/source/views/removeTopBlur.styl'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>新建文件： <code>themes\\shokaX\\source\\views\\removeTopBlur.styl</code> ，内容为：</p>\n<figure class=\"highlight stylus\"><figcaption data-lang=\"stylus\"><span>removeTopBlur.styl</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\">#nav <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> <span class=\"token func\"><span class=\"token function\">saturate</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span> <span class=\"token func\"><span class=\"token function\">blur</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token selector\">&amp;.show <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token property-declaration\"><span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> <span class=\"token func\"><span class=\"token function\">saturate</span><span class=\"token punctuation\">(</span><span class=\"token number\">180</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span> <span class=\"token func\"><span class=\"token function\">blur</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>   </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"增加头图樱花特效\"><a class=\"anchor\" href=\"#增加头图樱花特效\">#</a> 增加头图樱花特效</h1>\n<p>参考<a href=\"https://blog.minz.li/shokaX/ShokaX%E6%8F%92%E4%BB%B6-%E6%AB%BB%E8%8A%B1/\">链接</a>，新建文件： <code>themes\\shokaX\\scripts\\sakura.js</code> ，内容为：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>sakura.js</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'theme_inject'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">injects</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    injects<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sakura'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'themes/shokaX/source/views/sakura.pug'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">cache</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>新建文件： <code>themes\\shokaX\\source\\views\\sakura.pug</code> ，内容为：</p>\n<figure class=\"highlight pug\"><figcaption data-lang=\"pug\"><span>sakura.pug</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\">script</span><span class=\"token punctuation\">.</span><span class=\"token multiline-script\"></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      window<span class=\"token punctuation\">.</span>sakuraConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token literal-property property\">sakura</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token literal-property property\">xSpeed</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token literal-property property\">ySpeed</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token literal-property property\">rSpeed</span><span class=\"token operator\">:</span> <span class=\"token number\">0.03</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token literal-property property\">direction</span><span class=\"token operator\">:</span> <span class=\"token string\">\"TopRight\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token literal-property property\">zIndex</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\">script<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">src</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"https://cdn.jsdelivr.net/gh/minz71/sakura-rain/sakura-rain.js\"</span> defer</span><span class=\"token punctuation\">)</span></span></span></pre></td></tr></table></figure><h1 id=\"设置音乐列表\"><a class=\"anchor\" href=\"#设置音乐列表\">#</a> 设置音乐列表</h1>\n<p>在 <code>_config.shokaX.yml</code>  中配置：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">audio</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> KON</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//music.163.com/<span class=\"token comment\">#/playlist?id=8881745341</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Summer Pockets</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>   <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//y.qq.com/n/ryqq/playlist/7784860213</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> EVA</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>   <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//y.qq.com/n/ryqq/playlist/1754837879</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Ghibli</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//y.qq.com/n/ryqq/playlist/2854515338</pre></td></tr></table></figure><h1 id=\"设置追番页面\"><a class=\"anchor\" href=\"#设置追番页面\">#</a> 设置追番页面</h1>\n<p>路径为： <code>source\\anime\\index.html</code> ，需要是 <code>html</code>  的格式。需要安装：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-bilibili-bangumi <span class=\"token parameter variable\">--save</span></pre></td></tr></table></figure><p>在 <code>_config.yml</code>  中进行配置：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 追番插件</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># https://github.com/HCLonely/hexo-bilibili-bangumi</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">bangumi</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 追番设置</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">source</span><span class=\"token punctuation\">:</span> bili</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> anime/index.html</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">vmid</span><span class=\"token punctuation\">:</span> <span class=\"token number\">397884429</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"追番列表\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">quote</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"生命不息，追番不止！\"</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token key atrule\">show</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">lazyload</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token key atrule\">loading</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token key atrule\">showMyComment</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token key atrule\">pagination</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token key atrule\">metaColor</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token key atrule\">color</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token key atrule\">webp</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token key atrule\">progress</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token key atrule\">extraOrder</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token key atrule\">proxy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"代理host\"</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"代理端口\"</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token key atrule\">extra_options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token key atrule\">top_img</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token key atrule\">lazyload</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr></table></figure><h1 id=\"文章图片管理\"><a class=\"anchor\" href=\"#文章图片管理\">#</a> 文章图片管理</h1>\n<p>新建文件夹 <code>themes\\shokaX\\source\\img\\post</code>  用于存储博客文章用到的图片，注意路径必须全英文才能转化为 <code>webp</code>  格式。引用格式例如：</p>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">loading</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>lazy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/miyano/img/post/trans/trans4/1.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50%<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h1 id=\"调试技巧\"><a class=\"anchor\" href=\"#调试技巧\">#</a> 调试技巧</h1>\n<p>要想比较某个版本的仓库代码和当前最新版本的仓库代码的区别时，可以如下命令：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> temp-branch <span class=\"token operator\">&lt;</span>commit_hash<span class=\"token operator\">></span>  <span class=\"token comment\"># 创建一个临时分支来操作旧版本</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> checkout shoka   <span class=\"token comment\"># 切回原分支</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-D</span> temp-branch   <span class=\"token comment\"># 如果临时分支不再需要，可以删除 </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 想将 main 的最新内容合并到当前分支，不引入完整的合并历史，如下操作：</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">git</span> checkout temp-branch    <span class=\"token comment\"># 确保在 temp-branch 分支</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token function\">git</span> merge <span class=\"token parameter variable\">--squash</span> shoka     <span class=\"token comment\"># 合并 shoka 分支的最新内容</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Merged shoka's latest commit into temp-branch\"</span>   <span class=\"token comment\"># 提交更改</span></pre></td></tr></table></figure>",
            "tags": [
                "整活探索",
                "Blog",
                "Hexo",
                "shokaX"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/2024-12-09-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%B8%83/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/2024-12-09-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%B8%83/",
            "title": "文献翻译(七)",
            "date_published": "2024-12-09T02:46:11.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">棕色铁矿型 SrCoO₂.₅ 向钙钛矿型 SrCoO₃–<sub>δ</sub> 的拓扑相变(Topotactic Phase Transformation of the Brownmillerite SrCoO₂.₅ to the Perovskite SrCoO₃–<sub>δ</sub>)</b></strong></p>\n<h2 id=\"正文\"><a class=\"anchor\" href=\"#正文\">#</a> 正文</h2>\n<p>氧化物中的氧化学计量比是决定过渡金属氧化物（TMO）物理性能的最重要因素之一。氧含量的微小变化会导致过渡金属的价态发生变化，从而极大地改变材料的功能特性。这些功能特性包括（超）导电性、磁性、铁电性、体离子传导性和催化表面反应等。特别地，在众多应用中，具有混合价态的 TMO 因其在环境保护和可再生能源领域的广泛用途而受到关注，包括催化剂、水分解制氢、可充电电池和固体氧化物燃料电池的阴极材料，以及氧分离膜等。例如，以往研究表明，控制 TMO 中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> 能带电子的数量和详细的自旋构型对于改善其催化性能至关重要。在此背景下，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2.5</mn><mo>≤</mo><mi>x</mi><mo>≤</mo><mn>3.0</mn></mrow><annotation encoding=\"application/x-tex\">2.5 \\leq x \\leq 3.0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7804em;vertical-align:-0.136em;\"></span><span class=\"mord\">2.5</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7719em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3.0</span></span></span></span>）是一类理想的材料，可通过改变过渡金属氧化物中的价态研究其物理性能的演变。这是因为其存在两种结构明显不同的拓扑相，即棕色铁矿型<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（BM-SCO，见图 1a）和钙钛矿型<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。特别是，BM-SCO 具有原子级有序的一维氧空位通道（见图 1a），当<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 的价态发生变化时，这些通道能够容纳额外的氧。此外，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的物理性能范围广泛，随着氧化学计量比的变化，从反铁磁绝缘体转变为铁磁金属。由于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 价态调节仅依赖于氧含量<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>，而无需进行阳离子掺杂，因此可以系统地研究价态（即氧含量）对物理性能的影响。然而，目前高质量单晶材料的制备仍面临挑战，原因在于难以准确控制氧化态。</p>\n<p>在本研究中，我们通过脉冲激光外延（PLE）技术，在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（STO）基底上成功生长了高质量的 BM-SCO 单晶薄膜。为了研究其向钙钛矿型<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mrow><mn>3</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_{3-\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>（P-SCO）的拓扑相变，我们对部分样品在不同的氧气压力（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(O_2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>）下进行了原位退火，以填充氧空位。尽管直接生长<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mn>3.0</mn></mrow><annotation encoding=\"application/x-tex\">x=3.0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3.0</span></span></span></span> 的 P-SCO 薄膜较为困难，但我们发现，在高氧气压力（超过数百托）的条件下进行后续退火，可以填充足够的氧空位，从而实现电子、磁性和热电性能的系统演变。</p>\n<p>图 1b 显示了 BM-SCO 薄膜（厚度为 25 nm）的 X 射线衍射（XRD）<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>−</mo><mn>2</mn><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta-2\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span> 扫描图案。需要注意的是，BM-SCO 为正交晶系，其晶格常数为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>o</mi></msub><mo>=</mo><mn>5.5739</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">a_o=5.5739 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">5.5739</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>b</mi><mi>o</mi></msub><mo>=</mo><mn>5.4697</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">b_o=5.4697 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">5.4697</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mi>o</mi></msub><mo>=</mo><mn>15.7450</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">c_o=15.7450 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">15.7450</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>，但为了估算晶格失配程度，可表示为伪四方晶系（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>=</mo><mn>3.905</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">a_t=3.905 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">3.905</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mi>t</mi></msub><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo>=</mo><mn>3.936</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">c_t/2=3.936 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">/2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">3.936</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>）。本文将全程使用正交晶系标记法。所有薄膜均在 (001) 取向的 STO 基底（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>=</mo><mn>3.905</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">a=3.905 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">3.905</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>）上生长。通过比较不同晶向的晶格失配，可以发现 BM-SCO 相倾向于以<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> 轴取向在 STO 基底上生长，因为面内失配几乎为零。从图 1b 的 XRD 扫描结果可以清晰地验证这一点。此外，起源于交替堆叠的八面体与四面体子层的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> 晶格常数的特征性增加（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo>=</mo><mn>7.860</mn><mtext> </mtext><mover accent=\"true\"><mtext>A</mtext><mo>˚</mo></mover></mrow><annotation encoding=\"application/x-tex\">c/2=7.860 \\, \\text{Å}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mord\">/2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord\">7.860</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\">A</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.375em;\"><span class=\"mord\">˚</span></span></span></span></span></span></span></span></span></span></span>）也显而易见。图 2a 中的 X 射线倒易空间映射（RSM）进一步证实了在与 STO 基底完美匹配的晶格上实现的相干生长，而图 1b 中清晰的 Kiessig 条纹和尖锐的衍射峰表明薄膜质量较高。X 射线摇摆曲线<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ω</span></span></span></span> 扫描显示，薄膜的全宽半高（FWHM）小于 0.04°，进一步表明其结晶质量优异（相比之下，STO 的 002 峰的 FWHM 约为 0.02°，数据未展示）。</p>\n<p>尽管我们展示了经过优化的高质量薄膜的 XRD 数据，值得一提的是，BM-SCO 薄膜只能在非常狭窄的生长窗口内合成。通过系统生长数十个样品（见图 2d），我们发现这可能与钴的多种氧化态密切相关。需要注意的是，最常见的两种价态为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><msup><mi>o</mi><mrow><mn>2</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Co^{2+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><msup><mi>d</mi><mn>7</mn></msup></mrow><annotation encoding=\"application/x-tex\">3d^7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">3</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">7</span></span></span></span></span></span></span></span></span></span></span>）和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><msup><mi>o</mi><mrow><mn>3</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Co^{3+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><msup><mi>d</mi><mn>6</mn></msup></mrow><annotation encoding=\"application/x-tex\">3d^6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">3</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span></span></span></span></span></span></span></span>）。特别是在低氧分压（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mn>10</mn><mtext> </mtext><mtext>mTorr</mtext></mrow><annotation encoding=\"application/x-tex\">P(O_2) &lt; 10 \\, \\text{mTorr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">10</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\">mTorr</span></span></span></span></span>）条件下生长时，XRD <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>−</mo><mn>2</mn><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta-2\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span> 扫描中容易检测到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">CoO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span></span></span></span> 杂质相。通过将<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(O_2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 提高到 200 mTorr，可以避免杂质相的形成。  此外，我们发现薄膜的相纯度对生长温度非常敏感，而生长温度在获得具有正确化学计量比的薄膜中起到了关键作用。实验表明，750°C 是 STO 基底上薄膜的最佳生长温度。在较低温度下生长的薄膜中，除了 BM 相外，我们经常观察到可能是菱方晶系<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><msub><mi>r</mi><mn>6</mn></msub><mi>C</mi><msub><mi>o</mi><mn>5</mn></msub><msub><mi>O</mi><mrow><mn>15</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Sr_6Co_5O_{15-\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">15</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span> 杂质相的存在。这可以解释为 BM 结构向低温多晶型相（如<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><msub><mi>r</mi><mn>6</mn></msub><mi>C</mi><msub><mi>o</mi><mn>5</mn></msub><msub><mi>O</mi><mrow><mn>15</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Sr_6Co_5O_{15-\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">15</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>）的容易发生的结构转变，这种转变在低生长温度和低<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(O_2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 条件下热力学上更为有利。需要注意的是，后续冷却的氧分压保持与生长时相同，以尽量减少氧含量的波动，因为钴酸盐薄膜的氧含量甚至在冷却过程中也可能发生变化。</p>\n<p>尽管我们能够优化 BM-SCO 薄膜的生长条件以获得高质量薄膜，但尝试直接生长具有较高氧含量的薄膜（即<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>2.5</mn></mrow><annotation encoding=\"application/x-tex\">x &gt; 2.5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.5</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）未获成功。如前所述，即使在极高氧分压条件下（例如，甚至几百毫托范围），也无法稳定钙钛矿相，而是生成了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi><mo>−</mo><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Co-O</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span></span></span></span> 杂质相。需要注意的是，大多数钙钛矿氧化物可以在如此高的氧分压下轻松生长，并且不含氧空位。这可能与形成含有<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><msup><mi>o</mi><mrow><mn>4</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Co^{4+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 的钙钛矿相的热力学势垒过高有关，在典型的脉冲激光沉积（PLE）条件下，更稳定的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><msup><mi>o</mi><mrow><mn>2</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Co^{2+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 和 / 或<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><msup><mi>o</mi><mrow><mn>3</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Co^{3+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 相更易形成。值得一提的是，对于其他钙钛矿（如锰酸盐薄膜），钙钛矿相的形成通常优于褐钙矿相。对于锰酸盐薄膜，即使在高真空条件下生长，也只会形成钙钛矿相。有趣的是，在锰酸盐薄膜旁边使用一个吸氧层被发现是一种稳定锰基褐钙矿相的方法。</p>\n<p>由于直接生长<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>2.5</mn></mrow><annotation encoding=\"application/x-tex\">x &gt; 2.5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.5</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 薄膜不可行，这一点也在之前的研究中得到了证实，我们尝试通过在更高氧分压下的原位氧气退火来诱导拓扑氧化，以形成<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>2.5</mn></mrow><annotation encoding=\"application/x-tex\">x &gt; 2.5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.5</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相。图 1c 和图 1d 显示了分别在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>300</mn><mtext> </mtext><mtext>Torr</mtext></mrow><annotation encoding=\"application/x-tex\">P(O_2) = 300 \\, \\text{Torr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">300</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\">Torr</span></span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>600</mn><mtext> </mtext><mtext>Torr</mtext></mrow><annotation encoding=\"application/x-tex\">P(O_2) = 600 \\, \\text{Torr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">600</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\">Torr</span></span></span></span></span> 条件下，于 600°C 退火 5 分钟的样品的 XRD <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>−</mo><mn>2</mn><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta-2\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span> 扫描结果。其对应的倒易空间映射（RSM）结果显示在图 2b 和图 2c 中。如图 1d 所示，当<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 薄膜在 600°C 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>600</mn><mtext> </mtext><mtext>Torr</mtext></mrow><annotation encoding=\"application/x-tex\">P(O_2) = 600 \\, \\text{Torr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">600</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\">Torr</span></span></span></span></span> 条件下退火时，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">BM</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span></span></span></span> 相的半阶衍射峰完全被抑制。该温度最低可为 400°C，但在更高温度（&gt;600°C）下退火会显著降低薄膜的结构质量，导致生成含<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi><mo>−</mo><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Co-O</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span></span></span></span> 杂质相的多晶薄膜。    在 XRD 图谱中出现了一组新的衍射峰，表明沿<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> 轴方向的晶格常数显著降低了约 3%。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> 轴晶格常数的减小表明成功地将氧插入<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">BM</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span></span></span></span> 相的四面体子晶格中。同时，半阶衍射峰的消失也表明通过氧插入消除了八面体和四面体子层之间的化学与结构差异。这一转变表明成功地形成了钙钛矿<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span>）结构。据文献报道，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 的特征 XRD 峰完全消失时，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 接近 2.75。</p>\n<p>此外，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相的形成对退火压力非常敏感。如图 1c 和图 2b 所示，当<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 薄膜在较低的氧分压条件下（100 &lt; <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><msub><mi>O</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo>≤</mo><mn>300</mn></mrow><annotation encoding=\"application/x-tex\">P(O_2) \\leq 300</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">300</span></span></span></span> Torr）进行退火时，薄膜中主要观察到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 的混合相（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>i</mi><mi>x</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Mix-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span>）。虽然尚不清楚这两种相在薄膜中的具体物理位置，但混合相薄膜中两种相的 XRD 衍射峰位置与单独<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 薄膜的衍射峰完全一致。此外，我们未能发现任何可能对应中间相的衍射峰，这表明<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">BM</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span></span></span></span> 相向<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相的结构转变类似于一级相变。将<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 转变为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 所需的高氧分压（&gt;300 Torr）似乎解释了为何无法直接在氧气中生长<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相。（需要注意的是，在如此高的氧分压下进行<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>L</mi><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">PLE</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> 生长是不切实际的，因为背景气体会显著增加对激光烧蚀物质的散射。）</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans7/img38.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图1.  \n(a) 沿c轴取向的BM-SCO薄膜在(001) STO基底上的外延生长示意图。  \n(b) BM-SCO、(c) Mix-SCO和(d) P-SCO薄膜在STO基底上的XRD theta-2theta图谱。  \n请注意，Mix-SCO和P-SCO薄膜分别在600°C、300和600 Torr的氧分压条件下原位退火5分钟。STO基底的衍射峰用星号（∗）标出。</strong></p>\n<p>我们还注意到，氧空位的填充似乎导致了薄膜的应变松弛，这可能是由于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 薄膜与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>T</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">STO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">STO</span></span></span></span> 衬底之间存在较大的晶格失配（约 2%）。如图 2a–c 所示对比，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相保持完全应变状态（图 2a,b），而<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相则表现为应变松弛（图 2b,c）。需要注意的是，图 2b 中所示的混合相薄膜仍然具有完全应变的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">BM</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span></span></span></span> 相。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans7/img37.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图2.  \n(a) BM-SCO薄膜、(b) Mix-SCO薄膜和(c) P-SCO薄膜在103 STO布拉格反射附近的倒空间图。  \n(d) 外延BM-SCO薄膜的生长相图，以氧分压和生长温度为变量。无杂相（主要是Co-O）的纯相BM-SCO外延薄膜仅能在窄的生长窗口内制备（蓝绿色区域，标有空心圆圈和三角形符号）。在标有叉号的条件下生长的薄膜不是外延的或包含杂相。空心三角形表示尽管未观察到杂相，但薄膜的结晶质量较差。</strong></p>\n<p>尽管通过氧插入确认了整体的结构演变，但从 XRD 数据中精确确定价态或氧含量的具体变化仍然具有挑战性。因此，我们使用了偏振 X 射线吸收光谱（XAS）来探测元素分辨的化学价态细节。由于氧空位的形成会改变<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 的价态，通过检测<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 的价态变化可以追踪氧化学计量比的变化。如图 3a 所示，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> L 边的 XAS 数据显示，与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 相比，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 的峰位向更高能量方向发生了偏移。该峰位能量的偏移明确表明，随着氧插入，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 的价态从 3 + 向 4 + 发生了变化。正如预期的那样，总体趋势表明，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 薄膜中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 离子的价态高于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span>。   我们进一步比较了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 薄膜的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">O</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span></span></span></span> K 边 XAS 数据。该数据反映了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo>−</mo><mn>2</mn><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">O-2p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">p</span></span></span></span> 与相邻阳离子轨道（例如<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi><mo>−</mo><mn>3</mn><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Co-3d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">d</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mo>−</mo><mn>4</mn><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Sr-4d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">4</span><span class=\"mord mathnormal\">d</span></span></span></span>）之间的不同杂化。在这些杂化中，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">O</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span></span></span></span> K 边约 526.5 eV 处的预峰（pre-peak）来源于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo>−</mo><mn>2</mn><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">O-2p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">p</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi><mo>−</mo><mn>3</mn><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Co-3d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">d</span></span></span></span> 之间的杂化。需要注意的是，该预峰对氧含量非常敏感，即随着<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 价态从 3 + 向 4 + 变化，预峰强度显著增加。如图 3b 所示，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">P-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 在约 527 eV 处的预峰明显可见，而在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 中，该预峰几乎完全被抑制。这清楚地表明，通过氧插入成功实现了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>C</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SCO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SCO</span></span></span></span> 的氧化以及随后的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 价态变化。需要指出的是，该 XAS 测量采用了对体敏感的荧光产额模式，而较高能量处的特征由于衬底的贡献而被遮蔽。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans7/img49.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图3.  \n(a) BM-SCO和P-SCO薄膜的XAS Co L边谱图，显示出氧化过程中峰位向高能方向的偏移，证实了Co价态的变化。  \n(b) 相应样品的XAS O K边谱图。在P-SCO薄膜中，由于氧的插入，可以清晰观察到氧预峰的增强（见箭头所示）。</strong></p>\n<p>通过测量温度相关的磁化强度（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M(T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span>）和磁滞回线（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M(H)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mclose\">)</span></span></span></span>），进一步验证了通过价态改变引起的磁性变化。这些测量是使用超导量子干涉装置（SQUID）磁强计完成的。如图 4a 所示，BM-SCO 的磁化强度接近零，并且<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M(T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span> 中没有明显的变化，即未观察到磁相变。此外，在 10 K（图 4b）和 250 K（数据未显示）进行的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M(H)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mclose\">)</span></span></span></span> 测量表明，磁滞回线具有相似的特征，并且无矫顽场。由于 BM-SCO 薄膜的生长不存在晶格失配，其磁性行为与体相 BM-SCO 材料中的反铁磁性一致（注意到后者的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mi>N</mi></msub><mo>=</mo><mn>570</mn><mtext> </mtext><mtext>K</mtext></mrow><annotation encoding=\"application/x-tex\">T_N = 570 \\, \\text{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">570</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord text\"><span class=\"mord\">K</span></span></span></span></span>）。这种体相行为清楚地表明，我们的 BM-SCO 外延薄膜均匀生长，没有氧丰富的 SCO 相或顺磁性杂相，这与 XRD 结果一致。另一方面，经过氧退火处理的薄膜清晰地显示出铁磁性证据（图 4a,b）。这种铁磁性源于氧插入引起的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><msup><mi>o</mi><mrow><mn>4</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Co^{4+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\">o</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 的出现，从而增强了铁磁交换作用。假设纯 P-SCO 已稳定下来，我们可以从<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mi>C</mi></msub></mrow><annotation encoding=\"application/x-tex\">T_C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和饱和磁化强度估算 P-SCO 薄膜中的氧含量。需要注意的是，由于 P-SCO 是松弛状态，本估算未考虑应变的影响。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mi>C</mi></msub></mrow><annotation encoding=\"application/x-tex\">T_C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 处于 SCO 体相材料中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mn>2.75</mn></mrow><annotation encoding=\"application/x-tex\">x = 2.75</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.75</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mn>2.88</mn></mrow><annotation encoding=\"application/x-tex\">x = 2.88</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.88</span></span></span></span> 的值之间。此外，饱和磁化强度（约<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0.7</mn><mtext> </mtext><msub><mi>μ</mi><mi>B</mi></msub><mi mathvariant=\"normal\">/</mi><mtext>Co</mtext></mrow><annotation encoding=\"application/x-tex\">0.7 \\, \\mu_B/\\text{Co}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0.7</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord text\"><span class=\"mord\">Co</span></span></span></span></span>，在 6 T 下）大于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mn>2.75</mn></mrow><annotation encoding=\"application/x-tex\">x = 2.75</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.75</span></span></span></span> 的体相 SCO。因此，我们得出结论，在不破坏外延性的情况下，通过原位氧退火在 STO 上获得的 P-SCO 最大氧化态（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>）为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2.75</mn><mo>&lt;</mo><mi>x</mi><mo>&lt;</mo><mn>2.88</mn></mrow><annotation encoding=\"application/x-tex\">2.75 &lt; x &lt; 2.88</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"></span><span class=\"mord\">2.75</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.88</span></span></span></span>。进一步研究与应变（或晶格失配）相关的氧化行为将有助于深入理解应变对氧化及其相关物理性质的影响。</p>\n<p>此外，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M(T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span> 测量表明，Mix-SCO 和 P-SCO 薄膜的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mi>C</mi></msub></mrow><annotation encoding=\"application/x-tex\">T_C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 相近（约 200 K），这表明 Mix-SCO 确实是 BM 和 P 相的物理混合体，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">Co</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span></span></span></span> 离子中存在混合价态。这进一步表明，从 BM-SCO 到 P-SCO 的相转换或氧插入是一级相变，如前所述，即使完全氧化似乎具有挑战性。然而，值得注意的是，不通过阳离子掺杂即可实现具有混合价态的外延薄膜。通过比较纯 P-SCO 和 Mix-SCO 薄膜的剩磁（分别是<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>r</mi></msub><mo>=</mo><mn>47</mn><mtext> </mtext><msup><mtext>emu/cm</mtext><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">M_r = 47 \\, \\text{emu/cm}^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.204em;vertical-align:-0.25em;\"></span><span class=\"mord\">47</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">emu/cm</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>22</mn><mtext> </mtext><msup><mtext>emu/cm</mtext><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">22 \\, \\text{emu/cm}^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.204em;vertical-align:-0.25em;\"></span><span class=\"mord\">22</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">emu/cm</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span>），我们估算 Mix-SCO 薄膜中 P-SCO 的比例约为 47%。</p>\n<p>为了进一步研究 SCO 的电子传输特性，我们对其进行了温度相关的直流传导和热电性质的表征。如图 4c 所示，BM-SCO 薄膜表现出高度绝缘的行为。根据电子传输数据，计算得出其热激活能为 0.19 eV，该值接近于体相<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的激活能（0.24 eV）。另一方面，P-SCO 薄膜在室温下的电阻率显著降低（减少了三个数量级以上）。其温度依赖性表现明显不同于 BM-SCO。然而，在 STO 上的 P-SCO 并未表现出清晰的金属行为（即电阻率随温度降低而减少的特性）。类似的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ρ</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rho(T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">ρ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span> 行为也出现在 Mix-SCO 薄膜中，尽管其整体电阻率略高于 P-SCO，如图 4c 所示。基于两种<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ρ</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rho(T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">ρ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span> 曲线的相似性，我们认为 P-SCO 中的绝缘特性源于前述的不完全氧化引起的长程有序缺失。</p>\n<p>尽管在 STO 上的 P-SCO 未显示出明确的金属性，但 SCO 薄膜的特征结构可能提供其他有用的物理性质。因此，如图 4d 所示，我们测量了 SCO 薄膜在 300 K 下的热电势。需要注意的是，热电测量对空穴掺杂和 / 或氧含量变化引起的载流子浓度变化特别敏感。首先，随着 SCO 薄膜中氧含量或空穴掺杂的增加，热电势系统性地降低。这表明氧插入时 SCO 的载流子浓度增加，这与图 4c 中电子电导率的增强趋势相一致。此外，在室温下，所有样品的正热电势值清楚地表明 SCO 薄膜为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> 型导电。该现象由氧插入引起的空穴掺杂导致，这与化学计量比<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 中空穴载流子的特性一致。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans7/img55.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图4.  \n(a) SCO薄膜的温度依赖磁化强度。尽管P-SCO薄膜的磁化强度高于Mix-SCO薄膜，但两者的居里温度 (Tc) 均相同（约200 K）。这证实了Mix-SCO薄膜包含BM相和P相的混合物，这一点在XRD结果中已有体现。  \n(b) 在10 K时三种SCO薄膜的面内磁滞回线。需要注意的是，对于P-SCO样品，100 emu cm⁻³对应于0.62 μB/Co。  \n(c) 温度依赖电阻率数据，表明氧化过程中电阻率显著降低。  \n(d) 300 K下SCO薄膜的热电动势。正的热电动势值证实了SCO薄膜的p型导电特性。</strong></p>\n<p>综上所述，高质量的 BM-SCO 外延薄膜通过脉冲激光沉积法（PLE）在 STO 基底上成功生长 (于狭窄的生长窗口内)。生长在晶格匹配 STO 上的 BM-SCO 单晶薄膜清晰地展示了交替的八面体和四面体层结构。我们还发现，在高氧压（&gt;300 Torr O<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>）下进行的原位后退火处理表现出从棕色钙钛矿 SrCoO<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2.5</mn></mrow><annotation encoding=\"application/x-tex\">{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\"><span class=\"mord\">2.5</span></span></span></span></span> 到钙钛矿 SrCoO<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow></mrow><mrow><mn>3</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">_{3-\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5444em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>δ</mi><mo>&gt;</mo><mn>0.12</mn></mrow><annotation encoding=\"application/x-tex\">\\delta &gt; 0.12</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.12</span></span></span></span>）的明显相变。在 100 &lt; P (O<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow></mrow><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4511em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>) ≤ 300 Torr 范围内的退火条件下，还观察到了混合价态。总体而言，氧空位通道的填充（即相变）显著改变了包括电子传输、磁基态和电子结构在内的物理性质。因此，基于我们对成功外延合成和拓扑相控制的展示，进一步研究具有显著不同氧浓度和 Co 价态的两种拓扑相薄膜在电化学或表面催化效应方面的潜力，可能为开发高性能钙钛矿基氧化物离子器件提供新的机会。</p>\n<h2 id=\"实验部分\"><a class=\"anchor\" href=\"#实验部分\">#</a> 实验部分</h2>\n<p>SrCoOₓ（SCO）薄膜通过脉冲激光沉积法（PLE，KrF 激光器，波长 λ = 248 nm）在 SrTiO₃（STO）基底上生长。为实现 TiO₂终止表面，对基底进行了刻蚀和热处理。BM-SCO 薄膜的生长条件为温度 650–800°C，氧气压力为 0.1–500 mTorr。激光能量密度和重复频率分别固定为 1.7 J/cm² 和 5 Hz。对于原位氧后退火处理，生长后的 BM-SCO 薄膜被冷却至 600°C，并在不同氧压下退火 5 分钟。  薄膜的结构通过高分辨率四轴 X 射线衍射仪（X'Pert, Panalytical Inc.）进行表征。SCO 中价态的详细信息通过位于阿贡国家实验室先进光子源 4-ID-C 光束线的 X 射线吸收光谱（XAS）进行表征，使用了表面敏感的电子产额模式和体敏感的荧光产额模式。  磁性测量采用 7 T 超导量子干涉器（SQUID，Quantum Design）完成。温度相关的直流传输测量由 14 T 物性测量系统（Quantum Design）完成。热电势的测量采用传统的稳态方法，利用两个放置在薄膜下方的佩尔帖器件产生温差（ΔT ≈ 10 K）。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/2024-12-06-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E5%85%AD/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/2024-12-06-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E5%85%AD/",
            "title": "文献翻译(六)",
            "date_published": "2024-12-06T08:23:11.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">外延 SrCoOₓ 薄膜在拓扑相变附近的结构演化(Structural evolution of epitaxial SrCoOₓ films near topotactic phase transition)</b></strong></p>\n<!-- 修复以下内容，不要用\\(\\)的方式表示符号，而采用普通的方法表示，例如SrCoO\\(_x\\)写为SrCoOₓ，\\(400^\\circ \\mathrm{C}\\)写为400°C\n使用<span style=\"color:red\"> </strong></p>的方式使这段文字显示红色 -->\n<h1 id=\"摘要\"><a class=\"anchor\" href=\"#摘要\">#</a> 摘要</h1>\n<p>通过拓扑相变调控复杂氧化物中的氧化学计量比，不仅是改变物理性质的有趣途径，还在许多能源技术（如能源存储和催化剂）中具有广泛应用。然而，目前针对多价氧化物中接近拓扑相变的详细结构演化的研究相对较少。在本研究中，我们以脉冲激光外延（PLE）生长的钴酸锶（SrCoOₓ）作为模型体系，研究氧化驱动的结构、电子和磁性性质的演变。我们制备了具有共格应变的 SrCoO₂.₅ 薄膜，并通过不同温度的后退火处理实现了向钙钛矿相（SrCoO₃₋δ）的拓扑相变。研究清晰地显示，在棕色钙钛矿相向钙钛矿相的拓扑相变临界温度附近，电子输运、磁性和微观结构发生了显著变化。然而，整体晶体质量保持良好，未出现明显的结构退化。这表明，通过氧化还原反应反复实现物理性质调控的拓扑相变控制，是一种非常有前景的工具。</p>\n<h1 id=\"正文\"><a class=\"anchor\" href=\"#正文\">#</a> 正文</h1>\n<p>外延氧 “海绵” 材料作为一类新兴材料重新受到关注，因为它们能够在低至 200°C 的温度下快速实现晶体结构的转变。这种结构转变伴随着晶体对称性和化学成分的变化，表现为组成元素的得失。由于其晶体结构和化学计量比的可逆性，能够经历拓扑相变的复杂氧化物被认为是用于电池和固体氧化物燃料电池的潜在能源材料。除了氧化学计量比驱动的结构转变外，这类拓扑氧化还原反应还会改变过渡金属的氧化态，从而调控包括磁性和电子基态在内的物理性质。因此，拓扑氧化物在传感器和开关领域也显示出应用潜力，因为氧化学计量比的变化可显著改变其电子导电性。此外，通过可逆的拓扑还原或氧化反应，这类材料的基态可以恢复至初始状态。</p>\n<p>为了利用具有多功能性的氧 “海绵” 材料，深入理解其在拓扑相变过程中的结构与物理性质的演变至关重要。作为这类研究的一部分，已有学者通过原位衍射和热重分析研究揭示了平均结构与质量的变化。这些原位探测手段提供了关于长程有序性和相变温度的信息。然而，目前关于结构与离子 / 电子导电性在拓扑相变中的关联的理解仍然有限。由于拓扑相变通过组成元素的移除发生，研究在相变每个阶段中电子和磁性性质以及晶体结构的变化，可以为理解原子级氧化过程提供重要信息。在这方面，外延氧 “海绵” 材料 SrCoOₓ（SCO, 2.5 ≤ x ≤ 3.0）被认为是一个有前景的研究体系，因为其具有低温氧化还原特性，并展现了结构、输运和磁性之间的耦合行为，这在最近的研究中已被报道。</p>\n<p>在本研究中，我们通过脉冲激光外延（PLE）制备了 SrCoO₂.₅ 薄膜，并在不破坏真空的情况下进行氧化条件下的后退火，以捕捉不同温度下 SrCoO₂.₅ 的各个状态。对制备的薄膜进行的 X 射线衍射、输运和磁化测量表明，在接近拓扑相变温度时，薄膜的结构发生了显著变化，并伴随着电阻率的显著改变。</p>\n<p>为了系统研究温度依赖的拓扑氧化过程，我们通过脉冲激光外延（PLE）在 (001) 面的 (LaAlO₃)₀.₃(SrAl₀.₅Ta₀.₅O₃)₀.₇ (LSAT) 基底上生长了 30 nm 厚的棕色钙钛矿 SrCoO₂.₅ (BM-SCO) 外延薄膜。选择 LSAT（晶格常数 a = 3.868 Å）作为基底，是因为其晶格常数位于高度氧化的钙钛矿 SrCoO₃ (P-SCO, a = 3.8289 Å) 和 BM-SCO (a = 3.905 Å, c = 3.936 Å，伪四方标记) 之间，可有效避免拓扑相变前后出现过大的晶格失配。这种晶格失配导致完全氧化的 P-SCO 中产生 1% 的拉伸应变，而在 BM-SCO 相中则形成 -0.95% 的压缩应变。 我们使用了相同的生长参数（可参考其他文献），薄膜厚度保持在 30 nm。此外，需要特别指出的是，这种厚度的薄膜能够在 LSAT 基底上维持完全应变状态，而不像其他基底（如 LaAlO₃、SrTiO₃ 和 GdScO₃）中会出现应变松弛，导致完全拓扑相变变得困难。</p>\n<p>在确认 BM-SCO 薄膜的外延生长及其应变状态后，我们在相同的生长条件下制备了 BM-SCO 薄膜，并在不破坏真空的情况下进行后氧化处理，以避免表面污染。这种措施对于实现较低的氧化温度显得尤为重要。不同于我们之前通过调节氧分压（P (O₂)）进行氧化的方法，这次我们在固定的氧分压（约 500 Torr）下，对冷却后的 BM-SCO 薄膜进行了不同温度的退火处理。为了保持一致性并尽量减少其他可能影响退火过程的因素（如向腔室引入氧气所需的时间），我们将生长完成的 BM-SCO 样品冷却至 50°C 以下后，引入 500 Torr 的纯氧（O₂）。随后，以每分钟 10°C 的升温速率将温度升至目标退火温度。在每个退火温度下保持 5 分钟，然后在相同的氧气压力下将薄膜样品冷却至室温。 此外，为了确保氧能够扩散穿透整个薄膜，我们将退火时间固定为 5 分钟，并将薄膜厚度保持在 30 nm，这一时间和厚度已通过优化实验确定为足够。为了确定从棕色钙钛矿结构到钙钛矿结构的拓扑氧化临界温度，我们使用了多种表征方法，包括 X 射线衍射（XRD）、基于 Quantum Design 14T PPMS 的温度依赖性直流输运测量，以及基于 Quantum Design 7T 超导量子干涉器件（SQUID）的磁化测量。XRD 的 θ-2θ 扫描用于检查外延性、相纯度以及取向，同时测量了 BM-SCO 的 008 反射和 P-SCO 的 002 反射的 XRD 摆动曲线，以分析晶体质量和拓扑转变过程中的结构演变。电子输运测量采用范德堡（Van der Pauw）几何结构完成，测量电流则通过室温下的 I-V 曲线测试确定。</p>\n<p>图 1 展示了在不同退火温度（Ta）下后退火处理的 SrCoOₓ（SCO）薄膜的 XRD θ-2θ 扫描结果。我们发现，在 50°C 退火的样品与生长完成的 c 轴取向 BM-SCO 薄膜结构基本一致，且所有衍射峰都非常尖锐。此外，除 00l 衍射峰外未检测到其他衍射峰。值得注意的是，c 轴方向的晶格常数为 3.963 Å，比体相 BM-SCO（伪四方标记下 c = 3.936 Å）膨胀了 0.7%。这种膨胀由基底引起的压缩应变导致。根据晶格失配计算，预期的双轴应变为 0.95%。这一结果表明薄膜保持了完全 (连贯) 应变状态，而 XRD 倒易空间映射（RSM，数据未展示）进一步清晰地确认了这一点。此外，通过摇摆曲线扫描获得的半高宽 (Δω) 值约为 0.05°，与任何生长完成的 BM-SCO 薄膜的数值相当。这一结果表明，50°C 的退火温度不足以引起结构变化。 以 50°C 作为 BM-SCO 薄膜的基准温度后，我们在不同温度下进行了后退火实验，并检查了因氧掺入导致的结构演变的转变温度。图 1 显示了在 50 至 400°C 不同温度退火后的 XRD θ-2θ 衍射图。我们观察到，退火温度高达 175°C 的样品保持了 BM-SCO 相，其特征性半阶衍射峰来源于八面体和四面体层交替堆叠的结构。而在 200°C 以上退火的样品中，清晰地出现了钙钛矿相的特征，表明由于氧化作用发生了拓扑相变。<br />\n由于退火温度较低，我们未观察到任何杂相或中间相（例如 Co-O 和 Sr₆Co₅O₁₅）。这一结果表明氧化确实是拓扑性的，因此较大的元素（如 Sr 和 Co）未受影响，而氧原子则较为自由地迁移。值得注意的是，即使发生了这种拓扑相变，薄膜的应变状态仍得以保持，这也得到了 RSM 的确认。此外，与 BM-SCO 相比，P-SCO 薄膜的 c 轴晶格常数因氧化作用显著减少了约 4%，这一现象表明氧空位对晶格膨胀起到了重要作用。</p>\n<p>为了评估氧化过程对结晶度的影响，我们对每个退火样品的 X 射线摇摆曲线进行了测量【19】。图 2 展示了图 1 中样品的 008 棕褐铁矿（brownmillerite）衍射峰和 002 钙钛矿（perovskite）衍射峰的全宽半高（FWHM）值。对于低温退火（Ta ≤ 100°C）的棕褐铁矿薄膜，FWHM 值的变化可以忽略不计。然而，在 150°C 和 175°C 退火的薄膜中，FWHM 值显著增加，即镶嵌性（mosaicity）增强，这表明 BM-SCO 薄膜的微观结构处于拓扑相变的边缘。这种变化是由于 BM-SCO 中的氧空位通道被氧原子填充所导致。  这一拓扑过程在微观层面上引发了结构的不稳定性，改变了键长和键角。值得注意的是，我们未在这些样品中观察到任何混合相。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans6/img397.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 1.在 (001) LSAT 衬底上 SrCoOₓ 薄膜的 XRD θ-2θ 扫描结果。薄膜在最高 400°C 的温度下进行后退火，以观察从棕褐铁矿 SrCoO₂.₅ 到钙钛矿 SrCoO₃₋δ 的拓扑相变。钙钛矿相在 200°C 或更高温度下形成。</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans6/img414.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 2.通过 XRD 摇摆曲线扫描得到的 FWHM 值，分别使用 008 反射对棕褐铁矿薄膜和 002 反射对钙钛矿薄膜进行测量(使用 008 衍射峰分析褐铁矿薄膜，002 衍射峰分析钙钛矿薄膜)。在拓扑转化临界点（约 175°C）从 BM-SCO 到 P-SCO 的过程中，FWHM 值明显增加。插图显示了在 200°C 下退火的 P-SCO 薄膜的摇摆曲线。</strong></p>\n<p>然而，对于在 175°C 以上退火的薄膜，我们清楚地观察到了 P-SCO 相的形成，同时其结晶度显著提高，这通过摇摆曲线扫描中减小的 FWHM 值得到了验证。这一结果表明，BM-SCO 的氧化引起的无序现象与棕褐铁矿结构中键角和键长的变化导致的结构重排密切相关。  当拓扑氧化在低至 200°C 时完成时，处于拓扑相变边缘的不稳定结构变得稳定。此外，XRD 扫描所揭示的这种低温转变表明氧化过程的能垒相当低。</p>\n<p>为了阐明结构转变与电子结构演化之间的关系，我们进行了直流传输测量。如图 3 所示，退火温度高于 200°C 的样品一致表现出金属行为。这些退火于 200°C 以上的薄膜的传输数据为钙钛矿相的稳定化提供了明确证据，这与 XRD 结果一致。而退火于 150 和 175°C 的薄膜仍表现为绝缘行为，但其电阻率相较于原始棕褐铁矿薄膜显著降低。该结果表明，随着 BM-SCO 中氧含量的增加导致钴离子的价态从 Co³⁺ 转变为 Co⁴⁺，氧化物化学计量比可能发生了变化。  由于热电测量显示 SCO 是一种 p 型导体【1】，氧的嵌入可以增加导电电荷的数量。此外，为了研究热诱导激活能（Ea）在棕褐铁矿结构中的变化，我们计算了非金属样品的热激活能，其结果汇总于图 3 的插图中。生长在 LSAT 基底上的 BM-SCO 薄膜的 Ea 为 140 meV，这一值低于生长在 STO 基底上的 BM-SCO（190 meV）和块体 BM-SCO（240 meV）【14,20】。我们将较低的激活能归因于 BM-SCO/LSAT 中由双轴压应变引起的平面内跳跃距离的减少，特别是在过渡金属氧化物中，晶体结构与电子特性密切相关【10,21,22】。   此外，图 3 的插图清楚显示，随着局部氧化过程达到绝缘体 - 金属转变，Ea 显著降低。这种急剧的激活能下降表明，退火于 175°C 的样品可能在技术应用中具有潜力，例如固体氧化物燃料电池和催化剂，因为亚稳态 (易变的) 氧化物化学计量比在这些应用中起关键作用。  根据 XRD 和传输数据，我们估计该样品的氧浓度（SrCoOₓ）约为 x ∼ 2.75 或略低于此值。在这种化学计量比下，磁性和电子基态已知会显著变化【14,23】。</p>\n<p>我们进一步研究了薄膜的磁性，以观察拓扑氧化过程中磁性转变的特性。与 XRD 结果类似，当宏观晶体结构从棕褐铁矿转变为钙钛矿时，我们观察到了明显的磁性基态变化。需要注意的是，在退火于 150 和 175°C 的薄膜中，并未发现因局部氧化引起的低温铁磁性迹象。如图 3 和图 4 所示，对退火于 200°C 以上的 P-SCO 薄膜的电子传输测量显示出了明显的金属特性和铁磁性。尽管与臭氧生长的 P-SCO 薄膜相比，拓扑氧化的薄膜的磁性临界温度有所降低【1】，但拓扑氧化的 P-SCO 在约 220 K 以下表现为明显的铁磁金属。 最后，我们注意到在 400°C 退火的 P-SCO 薄膜中，电阻率略有上升（见图 3）。这可能归因于随着热跳变增加，晶格氧克服背景氧压而逸出，导致氧化程度降低。正如图 4 所示，退火温度为 400°C 的样品表现出磁化强度的降低。这一结果表明，退火温度为 400°C 的薄膜可能由于局部氧空位的形成，其氧浓度低于 x = 2.90。(这一现象可能归因于热激发增强氧原子迁移能力，导致在高温下克服背景氧压从而形成局部氧空位，产生一个氧含量低于 x = 2.90 的状态。这一点也可以从 400°C 退火样品中观察到的磁化强度降低（见图 4）得到支持。)</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans6/img441.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 3.不同退火温度下 SCO 薄膜的温度依赖电阻率数据。退火温度低于 150°C 的样品表现出明显的绝缘行为，表明氧插层受限。而退火温度为 200°C 或更高的样品则显示出明显的金属基态。有趣的是，尽管该样品的结晶性是所有样品中最差的，但在 175°C 退火的样品中仍然观察到不同程度的半导体行为，这是由于部分氧插层。插图显示了绝缘薄膜的热激活能（E<sub>a</sub>）。作为拓扑氧插层的结果，E<sub>a</sub> 观察到明显下降。需要注意的是，退火温度为 300°C 的 SCO 薄膜的电阻率数据来自于文献 [1]。</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans6/img434.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 4.SCO 薄膜在不同退火温度下(50, 175, 200, 300, 400°C)的磁性表征：  \n(a) 0.1 T 下的磁化强度与温度的关系；  \n(b) 10 K 下的磁化滞回曲线。  \n退火温度为 400°C 的薄膜相较于 200°C 和 300°C 退火的样品显示出较低的磁化强度和较高的电阻率，这反映出由于氧的热跳跃增加而导致氧浓度的降低。</strong></p>\n<p>结论：通过研究外延 SrCoOₓ（氧海绵）薄膜的结构及相关传输特性，我们清晰地观察到在拓扑相变温度（约 175°C）附近结构无序的增强。在该温度附近，氧插层显著降低了样品的热激活能，但薄膜仍表现为绝缘体且无铁磁性。相变温度以上，薄膜清晰地转变为钙钛矿相，并恢复了与原始外延棕褐铁矿薄膜相当的高结晶性。 这些结果表明，通过调控氧化物化学计量比实现的拓扑相控制，不仅能够制备高质量的晶体，还可以在无需化学掺杂重元素的情况下调控其物理特性。此外，由于即使在结构相变后薄膜仍保持良好的结晶性，氧海绵的相状态可以反复转换，这对于开发新型电化学器件（如固体氧化物燃料电池和可充电电池）具有重要的应用价值。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Playful-Exploration/2024-12-05-2dfan%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%88%B0/",
            "url": "https://ei4869.github.io/miyano/Playful-Exploration/2024-12-05-2dfan%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%88%B0/",
            "title": "2dfan自动签到",
            "date_published": "2024-12-05T09:17:45.000Z",
            "content_html": "<details class=\"info\"><summary>编辑记录</summary><div>\n<div class=\"note info\">\n<p>2024-12-05 18:11:45 第一次编辑</p>\n</div>\n<ul>\n<li>正文</li>\n</ul>\n<div class=\"note info\">\n<p>2024-12-06 15:51:45 第二次编辑</p>\n</div>\n<ul>\n<li>完善主代码，设置无痕模式 (防止保存密码窗口弹出)，并改进登录机制 (报错尝试重新登录)。</li>\n</ul>\n<div class=\"note info\">\n<p>2025-01-13 11:51:45 第三次编辑</p>\n</div>\n<ul>\n<li>解决 bug：别人 fork 时运行出问题</li>\n</ul>\n</div></details>\n<h2 id=\"开发历程\"><a class=\"anchor\" href=\"#开发历程\">#</a> 开发历程</h2>\n<p>  一开始使用 selenium 进行网页自动化任务，但后面发现会被 cloudflare 检测到，导致验证失败，而且该方法还需要下载对应的 chromedriver，麻烦且不适用。<br />\n  但后面打算放弃时，逛 github 项目无意中发现一个好用的网页自动化的库 DrissonPage，比 selenium 简单且功能强大，尝试性地去进行 cloudflare 验证后，发现居然可以验证通过。于是后续用此库进行开发。</p>\n<h3 id=\"点击验证框\"><a class=\"anchor\" href=\"#点击验证框\">#</a> 点击验证框</h3>\n<p>  作为最关键的一步，因为 cloudflare 里的元素无法通过普通的网页定位获得，所有难以点击。最简单的就是通过其在屏幕坐标的形式点击，但受限很大。通过 AI 在 github 找到一个项目，是用 opencv 模板匹配做的，我居然忘了还有这个。运行后发现，确实能获取到 checkbox 的位置并点击。只需要提供一张模板图片和网页截图，再根据情况修改下点击的位置通过验证了。主要代码如下：</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token string\">\"Hansimov/captcha-bypass\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> cv2</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> pyautogui</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">from</span> mss <span class=\"token keyword\">import</span> mss</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">from</span> pathlib <span class=\"token keyword\">import</span> Path</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> ImageGrab</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">ImageMatcher</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> source_image_path<span class=\"token punctuation\">,</span> template_image_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        self<span class=\"token punctuation\">.</span>source_image <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>imread<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>source_image_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        self<span class=\"token punctuation\">.</span>template_image <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>imread<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>template_image_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        self<span class=\"token punctuation\">.</span>detected_image_path <span class=\"token operator\">=</span> source_image_path<span class=\"token punctuation\">.</span>parent <span class=\"token operator\">/</span> <span class=\"token string\">\"screenshot_detected.png\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">match</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        res <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>matchTemplate<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            self<span class=\"token punctuation\">.</span>source_image<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>template_image<span class=\"token punctuation\">,</span> cv2<span class=\"token punctuation\">.</span>TM_CCOEFF_NORMED</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        _<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">,</span> match_location <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>minMaxLoc<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        match_left <span class=\"token operator\">=</span> match_location<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        match_top <span class=\"token operator\">=</span> match_location<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        match_right <span class=\"token operator\">=</span> match_location<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> self<span class=\"token punctuation\">.</span>template_image<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        match_bottom <span class=\"token operator\">=</span> match_location<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> self<span class=\"token punctuation\">.</span>template_image<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        match_region <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>match_left<span class=\"token punctuation\">,</span> match_top<span class=\"token punctuation\">,</span> match_right<span class=\"token punctuation\">,</span> match_bottom<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        self<span class=\"token punctuation\">.</span>match_region <span class=\"token operator\">=</span> match_region</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">return</span> match_region</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">draw_rectangle</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        cv2<span class=\"token punctuation\">.</span>rectangle<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            img<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>source_image<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            pt1<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>match_region<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            pt2<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>match_region<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            color<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            thickness<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        cv2<span class=\"token punctuation\">.</span>imwrite<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>detected_image_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>source_image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">CaptchaBypasser</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        self<span class=\"token punctuation\">.</span>captcha_image_path <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            Path<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>parent <span class=\"token operator\">/</span> <span class=\"token string\">\"captcha-verify-you-are-human-eg.png\"</span>  <span class=\"token comment\"># 自动部署图片加 eg，本地不加</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        self<span class=\"token punctuation\">.</span>screen_shot_image_path <span class=\"token operator\">=</span> Path<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>parent <span class=\"token operator\">/</span> <span class=\"token string\">\"screenshot.png\"</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">get_screen_shots</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        ImageGrab<span class=\"token punctuation\">.</span>grab<span class=\"token punctuation\">(</span>all_screens<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>screen_shot_image_path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">get_captcha_location</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">with</span> mss<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> sct<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            all_monitor <span class=\"token operator\">=</span> sct<span class=\"token punctuation\">.</span>monitors<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            monitor_left_offset <span class=\"token operator\">=</span> all_monitor<span class=\"token punctuation\">[</span><span class=\"token string\">\"left\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            monitor_top_offset <span class=\"token operator\">=</span> all_monitor<span class=\"token punctuation\">[</span><span class=\"token string\">\"top\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        image_matcher <span class=\"token operator\">=</span> ImageMatcher<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            source_image_path<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>screen_shot_image_path<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            template_image_path<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>captcha_image_path<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        match_region <span class=\"token operator\">=</span> image_matcher<span class=\"token punctuation\">.</span><span class=\"token keyword\">match</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        image_matcher<span class=\"token punctuation\">.</span>draw_rectangle<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        match_region_in_monitor <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            match_region<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> monitor_left_offset<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            match_region<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> monitor_top_offset<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            match_region<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> monitor_left_offset<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>            match_region<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> monitor_top_offset<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        checkbox_center <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>match_region_in_monitor<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">#本地 60 自动部署 40</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>            <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>match_region_in_monitor<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> match_region_in_monitor<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token comment\"># 该处画点并保存图片</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        cv2<span class=\"token punctuation\">.</span>circle<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            img<span class=\"token operator\">=</span>image_matcher<span class=\"token punctuation\">.</span>source_image<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            center<span class=\"token operator\">=</span>checkbox_center<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>            radius<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>            color<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            thickness<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        cv2<span class=\"token punctuation\">.</span>imwrite<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>image_matcher<span class=\"token punctuation\">.</span>detected_image_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image_matcher<span class=\"token punctuation\">.</span>source_image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token keyword\">return</span> checkbox_center</pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">click_target_checkbox</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        captcha_checkbox_center <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_captcha_location<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        pyautogui<span class=\"token punctuation\">.</span>moveTo<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>captcha_checkbox_center<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        pyautogui<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        self<span class=\"token punctuation\">.</span>get_screen_shots<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        self<span class=\"token punctuation\">.</span>get_captcha_location<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        self<span class=\"token punctuation\">.</span>click_target_checkbox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre></pre></td></tr><tr><td data-num=\"95\"></td><td><pre><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    captcha_bypasser <span class=\"token operator\">=</span> CaptchaBypasser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>    captcha_bypasser<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>  在本地运行时，使用显示中文的模板图片，自动部署时则使用英文的模板图片，另外本地的间距是 60，自动部署的间距是 40。<br />\n  在主代码中，只需要引入该代码，运行：</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>captcha_bypasser <span class=\"token operator\">=</span> CaptchaBypasser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>captcha_bypasser<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>就能实现点击 checkbox 通过验证。</p>\n<h3 id=\"自动部署\"><a class=\"anchor\" href=\"#自动部署\">#</a> 自动部署</h3>\n<p>  还是在 github actions 中实现，借助 gpt 得到了代码并修改完整吧。在 <code>.github\\workflows</code>  里创建 yml 文件。主要代码为：</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 2dfan Task Runner</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> main</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 19 * * *'</span>  <span class=\"token comment\"># UTC 时间 19 点对应北京时间 3 点.</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 22 * * *'</span>  <span class=\"token comment\"># UTC 时间 22 点对应北京时间 6 点.</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 手动触发</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token key atrule\">run-task</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout code</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v3</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up Python</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>python@v4</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token key atrule\">python-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3.9</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install dependencies</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        sudo apt-get update</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        sudo apt-get install -y xvfb libx11-dev xauth fonts-noto-cjk  # 安装中文字体</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        python -m pip install --upgrade pip</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        pip install -r requirements.txt</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Start Xvfb</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        nohup Xvfb :99 -screen 0 1280x1024x24 &amp;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set DISPLAY and XAUTHORITY environment variables</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        echo \"DISPLAY=:99\" >> $GITHUB_ENV</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        echo \"XAUTHORITY=/home/runner/.Xauthority\" >> $GITHUB_ENV</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        touch /home/runner/.Xauthority  # 创建一个空的 Xauthority 文件</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run Python script</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token key atrule\">USER_EMAIL</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼0<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        USER_PASSWORD: $</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        python 2dfan_DrissionPage.py</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Upload screenshots as artifacts</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v3</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> screenshots</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>          ./screenshot.png</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>          ./screenshot_detected.png</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>          ./pic1.png</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>          ./pic2.png</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>          ./pic3.png</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>          ./pic4.png</span></pre></td></tr></table></figure><p>  自动部署遇到的难点之一是自动化需要一个屏幕，所有这里使用了虚拟屏幕 Xvfb，在安装依赖性里，安装了虚拟屏幕以及中文字体（使网页中文能正常显示），以及需要使用到的包（包含在 requirements.txt 里）。后面就是虚拟屏幕的一些关键配置保证屏幕能正常运行。接下来就是运行 python 代码，这里先添加了 github actions 的 secrets，分别是 2dfan 网站的邮箱和密码用于登录。最后一步就是用于调试，由于看不到屏幕情况，在代码中添加截图代码，再在自动部署代码中获取这些图片，这些图片会下载到 <code>screenshots.zip</code>  中，这里图片保存在代码同一目录，所以路径为 <code>./xxx.png</code> 。  触发方式为推送代码、定时、手动。<br />\n  补充：后续需要批量删除过多的 workflow 时，可以使用命令行，步骤为：</p>\n<ol>\n<li>安装  <code>GitHub CLI</code></li>\n<li>cmd 终端运行<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>gh auth login</pre></td></tr></table></figure>按提示登录，并确保选择正确的权限。</li>\n<li>验证登录成功<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>gh auth status</pre></td></tr></table></figure></li>\n<li>执行命令批量删除，这里是在 git bash 里执行，因为 cmd 不支持 xargs<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>gh api repos/<span class=\"token environment constant\">USER</span>/REPO/actions/runs <span class=\"token parameter variable\">--paginate</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>jq <span class=\"token parameter variable\">-r</span> <span class=\"token string\">'.workflow_runs[].id'</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">tr</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">'\\r'</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">xargs</span> <span class=\"token parameter variable\">-I</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> gh api <span class=\"token parameter variable\">-X</span> DELETE repos/<span class=\"token environment constant\">USER</span>/REPO/actions/runs/<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>其中的 <code>USER</code>  是 github 用户名， <code>REPO</code>  是要进行操作的仓库名 (注意有两处修改)，执行命令后会批量删除该仓库下 actions 的所有 workflow。<br />\n单个的删除命令为：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>gh api <span class=\"token parameter variable\">-X</span> DELETE repos/<span class=\"token environment constant\">USER</span>/REPO/actions/runs/123456789</pre></td></tr></table></figure>最后的数字为 Workflow Run ID。</li>\n</ol>\n<h3 id=\"主代码\"><a class=\"anchor\" href=\"#主代码\">#</a> 主代码</h3>\n<p>  其实难点就在于那个 cloudflare 的元素获取吧，普通的方式难以获取，受 <code>https://github.com/sarperavci/CloudflareBypassForScraping.git</code>  启发，找到了定位的思路。完成全部代码并由 gpt 优化结构和命名等，代码为：</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> time<span class=\"token punctuation\">,</span> os</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> logging</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">from</span> DrissionPage <span class=\"token keyword\">import</span> ChromiumPage</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">from</span> bypass_captcha <span class=\"token keyword\">import</span> CaptchaBypasser</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">from</span> DrissionPage <span class=\"token keyword\">import</span> ChromiumOptions</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 配置日志记录</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>logging<span class=\"token punctuation\">.</span>basicConfig<span class=\"token punctuation\">(</span>level<span class=\"token operator\">=</span>logging<span class=\"token punctuation\">.</span>DEBUG<span class=\"token punctuation\">,</span> <span class=\"token builtin\">format</span><span class=\"token operator\">=</span><span class=\"token string\">'%(asctime)s - %(levelname)s - %(message)s'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 全局变量</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>LOGIN_URL <span class=\"token operator\">=</span> <span class=\"token string\">\"https://2dfan.com/users/421136/recheckin\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>MAX_RETRIES <span class=\"token operator\">=</span> <span class=\"token number\">3</span>     <span class=\"token comment\"># 最大重试次数</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>MAX_LOGIN_ATTEMPTS <span class=\"token operator\">=</span> <span class=\"token number\">3</span>  <span class=\"token comment\"># 最大重新登录次数</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">locate_button</span><span class=\"token punctuation\">(</span>ele<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span><span class=\"token string\">\"tag:svg\"</span><span class=\"token punctuation\">,</span> retries<span class=\"token operator\">=</span>MAX_RETRIES<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    尝试定位按钮，最多尝试 `retries` 次。</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">for</span> attempt <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>retries<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            button <span class=\"token operator\">=</span> ele<span class=\"token punctuation\">.</span>parent<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>shadow_root<span class=\"token punctuation\">.</span>child<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"tag:body\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>shadow_root<span class=\"token punctuation\">(</span>tag<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token keyword\">if</span> button<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"按钮定位成功 (尝试次数: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>attempt <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">)\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token keyword\">return</span> button</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"按钮为空，重新尝试定位 (尝试次数: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>attempt <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">)\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"定位按钮时出错: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> (尝试次数: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>attempt <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">)\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">raise</span> RuntimeError<span class=\"token punctuation\">(</span><span class=\"token string\">\"按钮定位失败，已达到最大重试次数\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">process_captcha</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> eles<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span><span class=\"token string\">\"tag:circle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    定位验证码中相关元素并返回该元素。</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">for</span> ele <span class=\"token keyword\">in</span> eles<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token string\">\"name\"</span> <span class=\"token keyword\">in</span> ele<span class=\"token punctuation\">.</span>attrs <span class=\"token keyword\">and</span> <span class=\"token string\">\"type\"</span> <span class=\"token keyword\">in</span> ele<span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token string\">\"turnstile\"</span> <span class=\"token keyword\">in</span> ele<span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">and</span> ele<span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">[</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                button <span class=\"token operator\">=</span> locate_button<span class=\"token punctuation\">(</span>ele<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span>tag<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"验证相关按钮：</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>button<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                <span class=\"token keyword\">return</span> button</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">raise</span> RuntimeError<span class=\"token punctuation\">(</span><span class=\"token string\">\"未找到验证码相关按钮\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">login_process</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    执行登录的输入账号、密码和验证码绕过的流程。</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token comment\"># 输入账号</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    user_email <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>getenv<span class=\"token punctuation\">(</span><span class=\"token string\">\"USER_EMAIL\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> user_email<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">raise</span> ValueError<span class=\"token punctuation\">(</span><span class=\"token string\">\"环境变量 USER_EMAIL 未设置\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"输入账号: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>user_email<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>ele<span class=\"token punctuation\">(</span><span class=\"token string\">'@name=login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span>user_email<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token comment\"># 输入密码</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    user_password <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>getenv<span class=\"token punctuation\">(</span><span class=\"token string\">\"USER_PASSWORD\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> user_password<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">raise</span> ValueError<span class=\"token punctuation\">(</span><span class=\"token string\">\"环境变量 USER_PASSWORD 未设置\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"输入密码\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>ele<span class=\"token punctuation\">(</span><span class=\"token string\">'@name=password'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span>user_password<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token comment\"># 验证验证码</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>eles_loaded<span class=\"token punctuation\">(</span><span class=\"token string\">\"tag:input\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    eles <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>eles<span class=\"token punctuation\">(</span><span class=\"token string\">\"tag:input\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    button <span class=\"token operator\">=</span> process_captcha<span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> eles<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span><span class=\"token string\">\"tag:svg\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>ele_hidden<span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"开始验证\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token comment\"># 初始化验证码绕过程序</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"初始化验证码绕过程序...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    captcha_bypasser <span class=\"token operator\">=</span> CaptchaBypasser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"运行验证码绕过程序...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    captcha_bypasser<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token comment\"># 检验是否成功</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    button <span class=\"token operator\">=</span> process_captcha<span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> eles<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span><span class=\"token string\">\"tag:circle\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>ele_displayed<span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"验证成功\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    tab<span class=\"token punctuation\">.</span>get_screenshot<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'pic1.png'</span><span class=\"token punctuation\">,</span> full_page<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    <span class=\"token comment\"># 点击登录按钮</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"查找并点击登录按钮...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    login_button <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>ele<span class=\"token punctuation\">(</span><span class=\"token string\">'@type=submit'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token keyword\">if</span> login_button<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        login_button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"登录按钮已点击\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token keyword\">raise</span> RuntimeError<span class=\"token punctuation\">(</span><span class=\"token string\">\"未找到登录按钮\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"93\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token comment\"># 启动浏览器</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"启动浏览器...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        co <span class=\"token operator\">=</span> ChromiumOptions<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token comment\"># 禁止所有弹出窗口</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        <span class=\"token comment\"># co.set_pref(arg='profile.default_content_settings.popups', value='0')</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        <span class=\"token comment\"># # 隐藏是否保存密码的提示</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        <span class=\"token comment\"># co.set_pref('credentials_enable_service', False)</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>        <span class=\"token comment\">#设置无痕模式，防止弹出是否保存密码的提示.</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        co<span class=\"token punctuation\">.</span>incognito<span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        tab <span class=\"token operator\">=</span> ChromiumPage<span class=\"token punctuation\">(</span>co<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>        <span class=\"token comment\"># 跳转到登录页面</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"跳转到登录页面...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        tab<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>LOGIN_URL<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"已跳转到登录页面\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>        login_attempts <span class=\"token operator\">=</span> <span class=\"token number\">0</span>  <span class=\"token comment\"># 登录尝试计数</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>        <span class=\"token keyword\">while</span> login_attempts <span class=\"token operator\">&lt;</span> MAX_LOGIN_ATTEMPTS<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>            login_attempts <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"执行登录流程（尝试第 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>login_attempts<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> 次）...\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>            </pre></td></tr><tr><td data-num=\"117\"></td><td><pre>            <span class=\"token comment\"># 执行登录流程</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>            <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>                login_process<span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>                <span class=\"token comment\"># 检查当前页面 URL</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>                tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>new_tab<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>                current_url <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>url</pre></td></tr><tr><td data-num=\"124\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"当前页面URL: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>current_url<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>                <span class=\"token keyword\">if</span> current_url <span class=\"token operator\">==</span> <span class=\"token string\">\"https://2dfan.com/users/sign_in\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>                    logging<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span><span class=\"token string\">\"仍处于登录页面，重新尝试登录...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>                    tab<span class=\"token punctuation\">.</span>refresh<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>                    tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>doc_loaded<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>                    tab<span class=\"token punctuation\">.</span>get_screenshot<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'pic_error.png'</span><span class=\"token punctuation\">,</span> full_page<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>                    logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"成功跳转到主页，继续后续操作...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>                    <span class=\"token keyword\">break</span>  <span class=\"token comment\"># 登录成功，退出循环</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>            <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"登录尝试失败: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">(</span><span class=\"token string\">\"达到最大登录尝试次数，退出程序\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>            <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>        <span class=\"token comment\"># 等待页面加载</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>        tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>eles_loaded<span class=\"token punctuation\">(</span><span class=\"token string\">\"tag:input\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>        eles <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>eles<span class=\"token punctuation\">(</span><span class=\"token string\">\"tag:input\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"登录成功\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>        tab<span class=\"token punctuation\">.</span>get_screenshot<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'pic2.png'</span><span class=\"token punctuation\">,</span> full_page<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>        <span class=\"token comment\"># 检测签到状态</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>        checkin_status <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>ele<span class=\"token punctuation\">(</span><span class=\"token string\">'text:今日已签到'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>        <span class=\"token keyword\">if</span> checkin_status<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"今日已签到！\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"未签到，尝试签到...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>            <span class=\"token comment\"># 再次运行验证码绕过程序</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"再次运行验证码绕过程序...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>            captcha_bypasser <span class=\"token operator\">=</span> CaptchaBypasser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre>            captcha_bypasser<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre></pre></td></tr><tr><td data-num=\"159\"></td><td><pre>            <span class=\"token comment\"># 检验是否成功</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>            button <span class=\"token operator\">=</span> process_captcha<span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> eles<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span><span class=\"token string\">\"tag:circle\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>ele_displayed<span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"验证成功\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>get_screenshot<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'pic3.png'</span><span class=\"token punctuation\">,</span> full_page<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>            <span class=\"token comment\"># 点击签到按钮</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"查找并点击签到按钮...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>            checkin_button <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>ele<span class=\"token punctuation\">(</span><span class=\"token string\">'@type=submit'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre>            <span class=\"token keyword\">if</span> checkin_button<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre>                checkin_button<span class=\"token punctuation\">.</span>click<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"签到按钮已点击\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre>            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre>                <span class=\"token keyword\">raise</span> RuntimeError<span class=\"token punctuation\">(</span><span class=\"token string\">\"未找到签到按钮\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>refresh<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">.</span>doc_loaded<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>            tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre>            logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"刷新页面成功\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre></pre></td></tr><tr><td data-num=\"181\"></td><td><pre>            <span class=\"token comment\"># 检测签到状态</span></pre></td></tr><tr><td data-num=\"182\"></td><td><pre>            checkin_status <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>ele<span class=\"token punctuation\">(</span><span class=\"token string\">'text:今日已签到'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"183\"></td><td><pre>            <span class=\"token keyword\">if</span> checkin_status<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"184\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"签到成功！\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"185\"></td><td><pre>            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"186\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"签到失败！\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"187\"></td><td><pre></pre></td></tr><tr><td data-num=\"188\"></td><td><pre>    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"189\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"运行过程中发生错误: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"190\"></td><td><pre>    <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"191\"></td><td><pre>        <span class=\"token comment\"># 确保浏览器关闭</span></pre></td></tr><tr><td data-num=\"192\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"关闭浏览器...\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"193\"></td><td><pre>        tab<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"194\"></td><td><pre>        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"浏览器已关闭\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"195\"></td><td><pre></pre></td></tr><tr><td data-num=\"196\"></td><td><pre><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"197\"></td><td><pre>    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>  主要解决不知道什么时候进行下一步的问题，通过 sleep 来延时和下一步的时间间隔，会使在自动部署下每次运行不稳定，难以确定合适的间隔。于是，通过 cloudflare 的加载变化来确定时间点。验证刚加载时会一直转圈，获取对应的元素 &quot;tag:svg&quot;，当其变为隐藏时，开始验证，使用了 <code>tab.wait.ele_hidden(button)</code>  函数等待。点击验证后，获取元素 &quot;tag:circle&quot;(就是成功的圈圈)，当其变为显示时，使用了 <code>tab.wait.ele_displayed(button)</code>  函数等待，表明验证成功，之后稍微间隔下 <code>tab.wait(1)</code>  再点击登录按钮。此时会切换界面，使用了函数 <code>tab.wait.new_tab()</code>  等待页面加载完成。之后就是先检测是否已签到，如果没有则直接开始点击验证，验证是否成功使用前面的方法等待 &quot;tag:circle&quot; 显示。验证成功后则点击签到按钮，之后刷新网页验证是否签到成功。<br />\n  其中还加入了多次检测机制，因为可能第一次定位不到，需要多次定位，于是写了 <code>locate_button(ele, tag=&quot;tag:svg&quot;, retries=MAX_RETRIES)</code>  函数。定位 cloudflare 内元素采用了 <code>process_captcha(tab, eles, tag=&quot;tag:circle&quot;)</code>  函数，原理就是先 <code>eles = tab.eles(&quot;tag:input&quot;)</code>  找所有 input 标签，这些 eles 判断是否有属性 name 和 type，再进一步判断 name 的值中是否有 &quot;turnstile&quot;，type 的值是否为 &quot;hidden&quot;，同时满足时则为对应的 cloudflare 区域，使用 <code>locate_button()</code>  设置其中的参数 tag 来获取到需要的元素。部分代码：</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">process_captcha</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> eles<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span><span class=\"token string\">\"tag:circle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    定位验证码中相关元素并返回该元素。</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">for</span> ele <span class=\"token keyword\">in</span> eles<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token string\">\"name\"</span> <span class=\"token keyword\">in</span> ele<span class=\"token punctuation\">.</span>attrs <span class=\"token keyword\">and</span> <span class=\"token string\">\"type\"</span> <span class=\"token keyword\">in</span> ele<span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token string\">\"turnstile\"</span> <span class=\"token keyword\">in</span> ele<span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">and</span> ele<span class=\"token punctuation\">.</span>attrs<span class=\"token punctuation\">[</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                button <span class=\"token operator\">=</span> locate_button<span class=\"token punctuation\">(</span>ele<span class=\"token punctuation\">,</span> tag<span class=\"token operator\">=</span>tag<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"验证相关按钮：</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>button<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                tab<span class=\"token punctuation\">.</span>wait<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token keyword\">return</span> button</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">raise</span> RuntimeError<span class=\"token punctuation\">(</span><span class=\"token string\">\"未找到验证码相关按钮\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"结语\"><a class=\"anchor\" href=\"#结语\">#</a> 结语</h3>\n<p>  至此，代码相对稳定，在自动部署下，各环节没有异常，都能实现预计的操作并完成签到任务。</p>\n<h2 id=\"解决bug\"><a class=\"anchor\" href=\"#解决bug\">#</a> 解决 bug</h2>\n<p>别人运行时报错：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">2025</span>-01-11 <span class=\"token number\">22</span>:14:18,172 - ERROR - 运行过程中发生错误: </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>The browser connection fails.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Address: <span class=\"token number\">127.0</span>.0.1:44774</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Tip: </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">1</span>, the user folder does not conflict with the <span class=\"token function\">open</span> browser </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">2</span>, <span class=\"token keyword\">if</span> no interface system, please <span class=\"token function\">add</span> <span class=\"token string\">'--headless=new'</span> startup parameter </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">3</span>, <span class=\"token keyword\">if</span> the system is Linux, try adding <span class=\"token string\">'--no-sandbox'</span> boot parameter </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>The port and user folder paths can be <span class=\"token builtin class-name\">set</span> using ChromiumOptions.</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Version: <span class=\"token number\">4.1</span>.0.17</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token number\">2025</span>-01-18 <span class=\"token number\">22</span>:14:18,172 - INFO - 关闭浏览器<span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Traceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  File <span class=\"token string\">\"/home/runner/work/2dfan_autosign/2dfan_autosign/2dfan_DrissionPage.py\"</span>, line <span class=\"token number\">204</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  File <span class=\"token string\">\"/home/runner/work/2dfan_autosign/2dfan_autosign/2dfan_DrissionPage.py\"</span>, line <span class=\"token number\">200</span>, <span class=\"token keyword\">in</span> main</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    tab.close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>UnboundLocalError: <span class=\"token builtin class-name\">local</span> variable <span class=\"token string\">'tab'</span> referenced before assignment</pre></td></tr></table></figure><p>解决方法：<br />\n在主程序中添加代码:</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>co <span class=\"token operator\">=</span> ChromiumOptions<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>set_paths<span class=\"token punctuation\">(</span>user_data_path<span class=\"token operator\">=</span><span class=\"token string\">r'/tmp/chrome_user_data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>auto_port<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>co<span class=\"token punctuation\">.</span>incognito<span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 启用无痕模式</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>co<span class=\"token punctuation\">.</span>set_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'--no-sandbox'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>co<span class=\"token punctuation\">.</span>set_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'--disable-gpu'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>co<span class=\"token punctuation\">.</span>set_argument<span class=\"token punctuation\">(</span><span class=\"token string\">'--disable-dev-shm-usage'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>成功解决！</p>\n",
            "tags": [
                "整活探索",
                "Python"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-25-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%BA%94/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-25-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%BA%94/",
            "title": "文献翻译(五)",
            "date_published": "2024-11-25T08:22:11.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">利用La0.7Sr0.3MnO3（LSMO）底电极改进SrFeOx拓扑相变忆阻器的循环稳定性和开关比(Improved cycling stability and ON/OFF ratio of SrFeOx topological phase transition memristors using a La0.7Sr0.3MnO3 bottom electrode)</b></strong></p>\n<h1 id=\"摘要\"><a class=\"anchor\" href=\"#摘要\">#</a> 摘要</h1>\n<p>在 SrFeOx（SFO）拓扑相变（TPT）忆阻器中，电阻功能层通常外延生长在钙钛矿底电极上，因此底电极在 SFO 功能层的微观结构和电阻切换性能中起着重要作用。不幸的是，底电极中氧的过度扩散导致 SrFeOx 的电阻功能层微结构发生不可控的畸变，从而损害了器件的整体性能。本研究通过脉冲激光沉积（PLD）技术，在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（LSMO）和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SRO）两种不同的底电极上外延生长了 SFO 膜。结果表明，采用 LSMO 电极的 SFO 忆阻器表现出优异的循环稳定性、开关比、数据保持性和耐久性能。此外，通过 X 射线衍射（XRD）、透射电子显微镜（TEM）和 X 射线光电子能谱（XPS）分别对 SFO/LSMO 和 SFO/SRO 异质结构的相组成、超晶格条纹和元素价态进行了表征。此外，通过第一性原理计算得出了两种器件中底电极的氧迁移自由能垒。上述研究结果表明，LSMO 电极不易扩散氧离子，显著提高了 SFO/LSMO 异质结构的结构稳定性和性能。最后，通过紫外光电子能谱（UPS）和紫外可见光谱（UV-Vis）分析了 BM-SFO 与 Au 顶电极及 LSMO 底电极之间的能带结构和肖特基势垒，为解释其导电机制提供了实验依据。</p>\n<h1 id=\"引言\"><a class=\"anchor\" href=\"#引言\">#</a> 引言</h1>\n<p>对于拓扑相变（TPT）材料，通过提取某些组成元素可以在两种具有不同晶体结构和物理化学性质的相之间实现可逆转换，同时保持整体晶体结构的相对稳定性。作为一种典型的 TPT 材料，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SFO）由于氧化学计量比的不同而具有多种状态。当<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mn>2.5</mn></mrow><annotation encoding=\"application/x-tex\">x = 2.5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.5</span></span></span></span> 时，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是一种缺氧的布朗米勒相（BM-SFO），其价带由<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mtext> </mtext><mn>2</mn><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">O\\ 2p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\"> </span><span class=\"mord\">2</span><span class=\"mord mathnormal\">p</span></span></span></span> 轨道组成，导带由<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><mtext> </mtext><mn>3</mn><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Fe\\ 3d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mspace\"> </span><span class=\"mord\">3</span><span class=\"mord mathnormal\">d</span></span></span></span> 轨道组成。此时，电荷转移能量为正，表现为绝缘体的特性。而当<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">x = 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> 时，材料完全氧化，转变为具有负电荷转移能量的导电钙钛矿相（PV-SFO）。   值得注意的是，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 具有较高的氧迁移能力，并且在 TPT 材料中 BM 相到 PV 相的吉布斯自由能变化小于钴基和锰基过渡金属氧化物（TMO）材料，这有助于在室温下实现相变。因此，SFO 在忆阻器领域具有广阔的应用前景，并逐渐成为研究热点。</p>\n<p>忆阻器的典型结构为 “夹心 (三明治)” 配置，包括两个电极和一个功能层。电极主要促进电子在电极和功能层之间的传输。特别是，SFO 忆阻器的制备需要将 SFO 功能层外延生长在导电钙钛矿电极上。因此，SFO 薄膜的结构和性能容易受到钙钛矿底电极的影响。目前，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SRO）被广泛用作 TPT 忆阻器的底电极，并在研究中取得了显著进展。然而，有研究表明，在 SRO 沉积过程中，大量氧离子或空位会富集在 SRO 层表面。在 SFO 功能层外延生长过程中，氧离子 / 氧空位自发扩散到 SFO 薄膜中，最终在 SFO/SRO 界面形成富氧 / 缺氧缓冲层，从而导致功能层晶体结构的畸变，并对忆阻器件的整体性能产生不可控的影响。  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（LSMO）因其半金属性、铁磁性和高居里温度（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mi>c</mi></msub><mo>=</mo><mn>369</mn><mtext> K</mtext></mrow><annotation encoding=\"application/x-tex\">T_c = 369\\ \\text{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">369</span><span class=\"mspace\"> </span><span class=\"mord text\"><span class=\"mord\">K</span></span></span></span></span>）在自旋电子器件中得到了广泛应用。最近的研究表明，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub><mo>−</mo><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3-\\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span></span></span></span> 也是一种 TPT 材料，能够在导电钙钛矿相和绝缘布朗米勒相之间发生相变。此外，与其他 TPT 材料相比，LSMO 对氧具有更高的亲和性，这使得<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mrow><mn>3</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_{3-\\delta}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span> 的非完全氧化高阻结构易于吸收氧并转变为完全氧化的导电钙钛矿结构<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。这一特性表明 LSMO 有潜力替代 SRO 作为 TPT 忆阻器的底电极。   目前，关于以 LSMO 为底电极的 TPT 忆阻器的研究仍然较少。尽管在 LSMO 电极上成功外延生长了高质量的 BM-SFO 层，但现有研究主要集中于器件的磁性特性，而较少系统性地探索 BM-SFO/LSMO 器件的电阻切换性能和导电机制。因此，有必要对基于 SFO 的 TPT 忆阻器采用 LSMO 底电极的电阻切换特性进行全面研究。</p>\n<p>在本研究中，通过外延生长成功制备了具有水平超晶格状（SLL）条纹的纯相布朗米勒相<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（BM-SFO）电阻层，并进一步构建了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>T</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO/STO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">STO</span></span></span></span> 忆阻器。由于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（LSMO）底电极中氧离子具有更稳定的特性，该器件表现出良好的循环稳定性、开关比、数据保持性和耐久性能。为对比研究，还制备了在相同条件下的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>T</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/SRO/STO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">STO</span></span></span></span> 忆阻器。此外，通过 X 射线衍射（XRD）、X 射线光电子能谱（XPS）和高分辨透射电子显微镜（HRTEM）表征，研究了两种不同底电极上外延生长 BM-SFO 的微观结构差异和氧离子迁移效率。通过第一性原理计算进一步分析了氧离子从两种底电极迁移到 SFO 层的自由能障。最后，通过紫外 - 可见光谱（UV-vis）和紫外光电子能谱（UPS）表征方法研究了生长在 LSMO 上的 BM-SFO 薄膜的能带结构，以探讨器件的电阻切换机制。</p>\n<h1 id=\"实验细节\"><a class=\"anchor\" href=\"#实验细节\">#</a> 实验细节</h1>\n<p>在本研究中，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（LSMO）底电极通过脉冲激光沉积（PLD）方法沉积在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（001）衬底上，沉积温度为 700℃，氧气压力为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">3 \\times 10^{-1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> mTorr。在沉积过程中，激光能量和频率分别保持在 250 mJ 和 5 Hz。沉积完成后，氧气压力提高至 10 mTorr，并进行原位退火 10 分钟，以填补底电极中的氧空位，达到足够的氧化化学计量比，进而获得具有改善导电性的完全氧化 LSMO 底电极。随后，在相同条件下沉积了完全氧化的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SRO）电极。沉积完这两个电极后，激光能量和重复频率保持不变，且以 650℃沉积了 30 nm 的 BM-SFO 功能层。为了获得纯净的 BM-SFO，将氧气压力降至<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>2</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">1 \\times 10^{-2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span> mTorr，并进行原位退火 10 分钟。沉积完成后，所合成的 BM-SFO 薄膜在相同的氧气压力下冷却至室温。Au 顶电极通过电子束蒸发制备，厚度为 120 nm，尺寸为 80×80 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>μ</mi><msup><mi>m</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\mu m^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0085em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">μ</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>。</p>\n<p>所合成薄膜的晶体结构通过 X 射线衍射（XRD，Bruker D2 PHASER）表征。器件的横截面微观结构通过高分辨率透射电子显微镜（HRTEM，Tecnai G2 F30）观察。通过 X 射线光电子能谱（XPS，AXIS-ULTRA DLD-600W）分析了所合成的 BM-SFO 薄膜的结合能，结合能校准采用 C 1s = 284.6 eV 作为参考。带隙和功函数通过紫外 - 可见光谱（UV-vis，SolidSpec-3700）和紫外光电子能谱（UPS，AXIS-ULTRA DLD-600W）分别研究。直流和脉冲的 I-V 特性通过半导体分析仪（Agilent B1500A）进行测试。</p>\n<p>第一性原理计算通过维也纳自洽模拟软件包（VASP）进行，采用广义梯度近似（GGA）和 PW91 功能。平面波扩展的截止能量设置为 520 eV。为了确保计算的准确性，每个单元格的能量收敛到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>5</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">10^{-5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">5</span></span></span></span></span></span></span></span></span></span></span></span> eV 以下，每个离子的力收敛到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0.02</mn></mrow><annotation encoding=\"application/x-tex\">0.02</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.02</span></span></span></span> eV/Å 以下。为了进行布里渊区积分，采用了 Γ 中心的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">4 \\times 4 \\times 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> Monkhorst-Pack 网格 k 点。考虑到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi mathvariant=\"normal\">/</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">d/f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> 轨道电子的强库仑相互作用，本文采用了 GGA+U 方法，并选择了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">La</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">a</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> 轨道电子<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mrow><mi>e</mi><mi>f</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">U_{eff}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">ff</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 值为 6 eV，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">Mn</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> 轨道电子<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mrow><mi>e</mi><mi>f</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">U_{eff}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">ff</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 值为 4 eV，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">Fe</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> 轨道电子<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mrow><mi>e</mi><mi>f</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">U_{eff}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">ff</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 值为 3.2 eV，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">Ru</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span></span></span></span> 的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> 轨道电子<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mrow><mi>e</mi><mi>f</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">U_{eff}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">ff</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 值为 1.5 eV。</p>\n<h1 id=\"结果和讨论\"><a class=\"anchor\" href=\"#结果和讨论\">#</a> 结果和讨论</h1>\n<p>图 1 (a) 展示了外延生长在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（LSMO）上的布朗米勒相<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（BM-SFO）和外延生长在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SRO）上的混合相 SFO 的 X 射线衍射（XRD）图谱。生长在 LSMO 上的 BM-SFO 薄膜衍射图谱显示了典型的 BM 相，除了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（STO）衬底和 LSMO 底电极的衍射峰外，没有其他杂质相的峰。特别地，衍射图谱中可以检测到对应于 (020)、(060) 和 (0100) 晶面的衍射峰，定义为 BM-SFO 的指纹特征。在 SFO/SRO 薄膜的衍射图谱中，虽然可以看到 (020) 的弱特征峰，但 (060) 和 (0100) 晶面的特征峰的缺失表明单晶性较差。此外，SFO 薄膜中还出现了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的 (001) 和 (002) 晶面特征峰，表明该薄膜中存在 BM-SFO 和 PV-SFO 的混合相。另一个在 31.51 度处出现的低而宽的衍射峰表明 SFO/SRO 薄膜由于混合相的存在而晶化较差。   图 1 (b) 展示了 BM-SFO/LSMO 和 SFO/SRO 薄膜的 Fe 2p 能级 XPS 谱图。BM-SFO 结构中的 Fe<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mrow><mn>3</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">^{3+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 对应的双峰特征分别出现在 710.0 eV 和 723.6 eV 的位置。第二组双峰位于 711.9 eV 和 725.5 eV，归因于 Fe<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mrow><mn>4</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">^{4+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span>，表明薄膜表面略微氧化。值得注意的是，在 Fe 2p3/2 和 Fe 2p1/2 的双峰之间出现了 718.9 eV 的卫星峰，与 BM-SFO 薄膜中的 Fe<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mrow><mn>3</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">^{3+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 特征一致，表明薄膜中 Fe 离子的价态主要为三价。此外，BM-SFO/LSMO 薄膜中 Fe<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mrow><mn>3</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">^{3+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 的比例高于 SFO/SRO 薄膜，表明 BM-SFO 在 LSMO 底电极上的化学结构比 SFO/SRO 薄膜更简单。  图 1 (c) 展示了 BM-SFO/LSMO 和 SFO/SRO 薄膜的 O 1s 能级 XPS 谱图。能谱显示出不对称的 O 1s 峰，表明系统中存在不同的氧化学态。通过拟合谱图，发现了 529 eV 和 530.8 eV 的两个明显峰。其中，529 eV 的峰归因于 BM-SFO 中的晶格氧（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>O</mi><mi>o</mi></msub></mrow><annotation encoding=\"application/x-tex\">O_o</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>），530.8 eV 的峰则归因于氧空位（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mi>o</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_o</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）。BM-SFO/LSMO 中的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mi>o</mi></msub><mi mathvariant=\"normal\">/</mi><msub><mi>O</mi><mi>o</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_o/O_o</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 比值高于 SFO/SRO 薄膜，与 Fe 2p 能谱一致。这进一步支持了 BM-SFO 在 LSMO 底电极上的生长以及 SFO/SRO 薄膜中 BM-SFO 和 PV-SFO 的混合相。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/img109.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图1\n(a)合成的BM-SFO/LSMO/STO(001)和BM-SFO/SRO/STO(001)薄膜的X射线衍射（XRD）θ-2θ图谱\n(b)SFO/LSMO和SFO/SRO薄膜的Fe 2p核心能级XPS谱图\n(c)SFO/LSMO和SFO/SRO薄膜的O 1s核心能级XPS谱图</strong></p>\n<p>图 2 (a) 和 (b) 展示了 SFO 拓扑相变（TPT）忆阻器的两种状态，即初始高电阻状态（HRS）和低电阻状态（LRS），在 LRS 中形成了导电丝状结构（CFs）。图 2 (a) 中，电阻功能层由<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 四面体（蓝色）层和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 八面体（红色）层交替堆叠，称为具有水平超晶格状（SLL）结构的 BM-SFO。在没有外加偏压的情况下，由于氧离子在八面体和四面体层之间的迁移屏障较高，氧离子更倾向于沿氧空位通道（OVCs）水平扩散，而非垂直迁移形成导电丝状结构。当在电极上施加偏压时，如图 2 (b) 所示，氧离子在电场方向上垂直迁移，从而形成连接顶底电极的 PV-SFO 导电丝，导致器件开启。有关 BM-SFO TPT 忆阻器电阻切换性能的更多细节将在后续图中讨论。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/img156.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图2\n(a)Au/BM-SFO/LSMO(SRO)器件的示意图，显示水平有序的氧空位通道，器件处于高电阻状态（HRS）\n(b)在电场作用下，形成PV-SFO导电丝的示意图，器件处于低电阻状态（LRS）。红色和蓝色球体分别表示FeO6八面体和FeO4四面体</strong></p>\n<p>图 3 (a) 展示了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 器件的循环特性，设置为 - 3 V 的负电压，并且 100 次 I-V 循环曲线没有出现开关窗口的退化，显示出优异的循环稳定性。插图显示了在 0.1 V 和 - 0.1 V 偏压下从器件提取的电阻累积分布图。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mtext>-</mtext><mi>R</mi><mi>H</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">P\\text{-}RHRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mtext>-</mtext><mi>R</mi><mi>L</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">P\\text{-}RLRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>）和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mtext>-</mtext><mi>R</mi><mi>H</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">N\\text{-}RHRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mtext>-</mtext><mi>R</mi><mi>L</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">N\\text{-}RLRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>）的相对波动（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>σ</mi><mi mathvariant=\"normal\">/</mi><mi>μ</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma/\\mu</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">μ</span></span></span></span>）分别为 0.07（0.03）和 0.09（0.04），表明在电阻切换过程中具有鲁棒的循环稳定性。图 3 (b) 展示了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/SRO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span></span></span></span> 器件的循环特性，器件的设置电压极性为正（+2.5 V）。100 次 I-V 循环曲线的重叠较差，显示出该忆阻器较差的循环一致性。插图展示了器件的 HRS 和 LRS 值的累积分布，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mtext>-</mtext><mi>R</mi><mi>H</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">P\\text{-}RHRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mtext>-</mtext><mi>R</mi><mi>L</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">P\\text{-}RLRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>）和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mtext>-</mtext><mi>R</mi><mi>H</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">N\\text{-}RHRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mtext>-</mtext><mi>R</mi><mi>L</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">N\\text{-}RLRS</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">RS</span></span></span></span>）的离散度较大，分别为 0.19（0.87）和 0.18（0.86），表明循环稳定性较差。  图 3 (c) 和 (d) 展示了具有两种不同底电极的 BM-SFO 忆阻器的保持性能。对于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span>，图 3 (c) 表明，在 10 mV 的读出电压下，器件的高低电阻值可以在 1<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\times 10^4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\">×</span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span> 秒内保持良好，并且几乎没有可见的波动。因此，器件具有良好的数据保持特性，可以与当前高性能电阻切换器件进行比较，并显示出在长期数据存储中的潜在应用。器件的开关比约为 100，且与电阻积累曲线相符。在 10 mV 的读出电压下，HRS 的电阻表现出不稳定的行为和较小的开关比（≈11），这可能是由于在功能层中存在 BM-SFO 和 PV-SFO 的混合相结构，表明器件的保持性能较弱。图 3 (e) 展示了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 器件的耐久性特性。施加在器件上的写（擦除）脉冲的幅度和宽度分别为 - 5 V（+2.8 V）和 5 ms（500 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>μ</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">\\mu s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">μ</span><span class=\"mord mathnormal\">s</span></span></span></span>）。该器件在 1000 次脉冲下表现出良好的稳定性，且开关比约为 23。与保持测试相比，耐久性测试中表现出的开关比有所降低，认为是 (suggest) BM-SFO 电阻层中自由移动氧的影响。在单次短时设置脉冲下，氧离子难以迁移到原位置，从而难以形成稳固的导电丝，导致器件的 LRS 值较高。相反，在重置脉冲过程中，氧离子更倾向于返回原位置，因此导电丝更容易且更彻底地断裂，器件的 HRS 电阻与直流扫描模式下的电阻相等。图 3 (f) 进一步测量了 11 个不同器件单元在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 器件上的电阻切换特性，并统计了相应的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mrow><mi>H</mi><mi>R</mi><mi>S</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">R_{HRS}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">RS</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mrow><mi>L</mi><mi>R</mi><mi>S</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">R_{LRS}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">L</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">RS</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 值，以及开关比。如图 3 (f) 所示，器件的高低电阻值及其相应的开关比的波动较小，表明<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 作为电极的 BM-SFO 器件具有良好的均匀性。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/img47.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图3\n(a)Au/BM-SFO/LSMO器件的100次I-V循环曲线\n(b)Au/BM-SFO/SRO器件的100次I-V循环曲线。插图为两种器件中电阻的累积分布概率\n(c)Au/BM-SFO/LSMO器件的保持性能\n(d)Au/BM-SFO/SRO器件的保持性能\n(e)Au/BM-SFO/LSMO器件的耐久性能\n(f)11个不同$Au/BM-SFO/LSMO$器件单元的R_HRS、R_LRS以及对应的开关比（ON/OFF ratio）</strong></p>\n<p>图 4 (a) 和 (b) 分别展示了具有两种不同底电极的 BM-SFO 忆阻器的高角环形暗场（HAADF）透射电子显微镜（TEM）图像及其相应的能量色散谱（EDS）元素映射图。横截面图像显示了器件中各层的均匀分布及清晰的界面边界。为了消除功能层厚度对器件整体电阻性能的影响，两种器件的功能层厚度均约为 30 nm。值得注意，在 LSMO 的 EDS 映射图中，Sr 元素的含量低于 BM-SFO 和 STO 中的 Sr，这与 LSMO 的化学计量比（约 0.3）一致。  图 4 (c) 显示了 BM-SFO/LSMO 异质结构的高分辨透射电子显微镜（HRTEM）图像，在 BM-SFO 层中可以观察到清晰的水平超晶格状（SLL）条纹，并且底电极界面处没有由于氧扩散形成的 PV-SFO 区域。SLL 条纹的宽度为 0.778 nm，与报道的宽度（0.78 nm）非常接近。图 4 (d) 展示了 BM-SFO/LSMO 异质结构中选定区域 A 的快速傅里叶变换（FFT）图像，显示了垂直排列的 SLL 条纹，证实了 BM-SFO 薄膜中的 SLL 条纹沿面内方向分布。图 4 (e) 表明 LSMO 电极薄膜是具有晶格常数 0.384 nm 的标准钙钛矿结构。   对于 BM-SFO/SRO，异质层结构如图 4 (f) 所示，SRO 电极薄膜仍为钙钛矿结构（见图 4 (h)）。然而，由于氧的自发扩散，在底电极界面附近形成了富氧的 PV-SFO 区域，从而在某些研究中报道的沿面外方向生成了 SLL 条纹，条纹间距为 0.783 nm。此外，在 SFO 薄膜中还可以观察到水平 SLL 条纹以及一些交叉区域，这导致了 SFO 薄膜的晶体质量较差，与之前的 XRD 结果一致。图 4 (g) 显示了 SFO/SRO 薄膜中选定区域 C 的 FFT 图像，其中水平排列的超晶格条纹证实了垂直方向的 SLL 条纹的存在。   结合 TEM 图像和之前的讨论，可以解释这两种器件在电阻切换过程中表现出相反的极性。在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 忆阻器中，BM-SFO 薄膜的表面轻微氧化，底电极界面处没有氧扩散，也没有多余的氧离子。当在顶电极施加适当的负电压时，氧离子被驱动向下迁移，最终形成导电丝（CFs），完成设定过程。相应地，正电压驱使氧离子从 CFs 中逸出并返回初始位置，使器件恢复到高电阻状态（HRS）。   相比之下，对于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/SRO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span></span></span></span> 器件，大量氧从底电极扩散到 SFO 薄膜中，导致 SFO 底电极附近富集氧离子。在顶电极施加正电压会促使大量氧离子向上迁移，形成稳固的导电丝并完成设定过程，而负电压则完成重置过程。然而，在施加重置电压后，HRS 中的导电丝并未完全且均匀地断裂。结果，在连续的读出电压下，导电丝逐渐断裂或产生额外的断裂，导致器件 HRS 值逐渐增加。因此，两种器件性能的差异归因于底电极的氧扩散行为。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/img178.jpg\" width=\"50%\">\n <p align=\"center\"><strong>图4\n(a)Au/BM-SFO/LSMO器件的高角环形暗场（HAADF）TEM图像及相应的EDS映射图\n(b)Au/BM-SFO/SRO器件的HAADF TEM图像及相应的EDS映射图\n(c)BM-SFO/LSMO层的高分辨率透射电子显微镜（HRTEM）图像\n(d)选定区域A的快速傅里叶变换（FFT）图像\n(e)选定区域B的FFT图像\n(f)BM-SFO/SRO层的HRTEM图像\n(g)选定区域C的FFT图像\n(h)选定区域D的FFT图像</strong></p>\n<p>为了更好地理解氧离子从两种不同电极（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><msub><mi>a</mi><mn>0.7</mn></msub><mi>S</mi><msub><mi>r</mi><mn>0.3</mn></msub><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">La_{0.7}Sr_{0.3}MnO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.7</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0.3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，LSMO 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，SRO）迁移到 BM-SFO 薄膜的过程，采用密度泛函理论（DFT）计算了在两电极间氧迁移过程中自由能的变化。图 5 (a) 展示了在没有底电极氧扩散的情况下异质结构的示意图，此时界面的四面体层仅由<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 四面体组成。图 5 (b) 展示了底电极中的氧离子迁移至 BM-SFO 四面体层后异质结构的示意图，形成了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 五面体，同时在原位置留下了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>n</mi><msub><mi>O</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">MnO_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 或<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">RuO_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 五面体。此外，放大的图显示了氧离子的迁移路径。氧离子的迁移并非直接从位置 1 到位置 3，而是先从位置 1 移动到位置 2，然后位置 2 的氧离子迁移到位置 3 以填补现有氧空位。    进一步计算了氧迁移前后每个状态的吉布斯自由能及其变化，如表 1 所示。对于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span>，氧迁移前的吉布斯自由能为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mn>774.975</mn></mrow><annotation encoding=\"application/x-tex\">-774.975</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord\">774.975</span></span></span></span> eV，迁移后的自由能为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mn>772.749</mn></mrow><annotation encoding=\"application/x-tex\">-772.749</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord\">772.749</span></span></span></span> eV，对应的自由能变化<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi><mi>G</mi><mo>=</mo><mn>2.226</mn></mrow><annotation encoding=\"application/x-tex\">\\Delta G = 2.226</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Δ</span><span class=\"mord mathnormal\">G</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2.226</span></span></span></span> eV。在<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SFO/SRO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span></span></span></span> 异质结构中，自由能分别为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mn>736.738</mn></mrow><annotation encoding=\"application/x-tex\">-736.738</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord\">736.738</span></span></span></span> eV 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mn>735.185</mn></mrow><annotation encoding=\"application/x-tex\">-735.185</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord\">735.185</span></span></span></span> eV，对应的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi><mi>G</mi><mo>=</mo><mn>1.553</mn></mrow><annotation encoding=\"application/x-tex\">\\Delta G = 1.553</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Δ</span><span class=\"mord mathnormal\">G</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1.553</span></span></span></span> eV，比 LSMO 电极的器件更小。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">\\Delta G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Δ</span><span class=\"mord mathnormal\">G</span></span></span></span> 的差异表明，SRO 中的氧比 LSMO 中的更活跃，因此更容易迁移。在两种底电极的制备过程中，薄膜在 10 mTorr 的高氧压下退火，以填补表面的氧空位并形成富氧界面。在后续 BM-SFO 沉积过程中，SRO 表面的氧自发扩散至 BM-SFO，形成了富氧的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>V</mi><mtext>-</mtext><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">PV\\text{-}SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord text\"><span class=\"mord\">-</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span> 层，这导致垂直方向的 SLL 形成，使最终晶体结构较为无序，且<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SFO/SRO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span></span></span></span> 器件的电阻切换性能不稳定。相比之下，LSMO 底电极即使在相同的高氧压下退火，其氧向 BM-SFO 薄膜的自发扩散量也少得多。因此，最终合成的薄膜为纯的 BM-SFO 相，整体结构不会产生不可控的变化，从而使器件表现出更稳定的电阻性能。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/1.jpg\" width=\"50%\">\n<p align=\"center\"><strong>表1\n两种异质结构中氧从底电极界面迁移至BM-SFO四面体层时的初始和最终吉布斯自由能及对应的自由能变化（$\\Delta G$）</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/img214.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图5\n(a)无氧离子迁移时BM-SFO与钙钛矿结构底电极的结构示意图\n(b)底电极的氧迁移到BM-SFO中并填补四面体层氧空位后的异质界面结构示意图（放大图显示了氧离子的迁移路径）</strong></p>\n<p>图 6 (a) 显示了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 器件导电机制的拟合曲线。在整个正负电压扫描过程中，器件表现出欧姆导电、肖特基发射和空间电荷限制电流（SCLC）导电机制。在 HRS 中，器件仅通过肖特基发射导电。当器件切换到 LRS 时，仅表现出欧姆导电和 SCLC 导电机制，表明此时形成了导电丝（CFs）。当器件恢复到 HRS 时，导电机制再次表现为肖特基发射，表明导电丝已断裂。基于典型的肖特基发射模型，图中展示了电压扫描范围 0 至 - 0.81 V 和 0.9 至 - 0.125 V 内<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msqrt><mi>V</mi></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sqrt{V}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.1133em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9267em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span><span style=\"top:-2.8867em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"1.08em\" viewBox=\"0 0 400000 1080\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1133em;\"><span></span></span></span></span></span></span></span></span> 与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ln</mi><mo>⁡</mo><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">\\ln I</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mop\">ln</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span></span></span></span> 的线性拟合曲线。负电压扫描下的拟合曲线斜率和截距大于正电压扫描下的对应值，表明肖特基势垒有所降低。   此外，通过 Kubelka-Munk 函数对扩散反射光谱进行外推获得了外延生长在 LSMO 上的 BM-SFO 薄膜的带隙（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>E</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">E_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>），如图 6 (b) 所示。根据 Kubelka-Munk 函数绘制了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>h</mi><mi>ν</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">(F(R)\\cdot h\\nu)^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\" style=\"margin-right:0.06366em;\">ν</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> 与光子能量<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mi>ν</mi></mrow><annotation encoding=\"application/x-tex\">h\\nu</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\" style=\"margin-right:0.06366em;\">ν</span></span></span></span> 的曲线，带隙<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>E</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">E_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 约为 2.07 eV，与先前报道一致。图 6 (c) 显示了 BM-SFO 和 LSMO 的高结合能，分别为 16.45 eV 和 16.49 eV。He 激发源的结合能为 21.22 eV，得出 BM-SFO 和 LSMO 的功函数分别为 4.77 eV 和 4.73 eV。图 6 (d) 展示了 BM-SFO 的低结合能截止点，表明价带顶部（VBM）与费米能级之间的能量差为 1.25 eV。此外，已有研究表明 LSMO 是一种无带隙导电材料，Au 的功函数为 5.1 eV。因此，基于上述能带测试结果，图 6 (e) 和 (f) 分别示意了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 异质结的能带结构。图 6 (e) 显示，当 Au 与 BM-SFO 接触时，由于功函数的差异，BM-SFO 的能带下移 0.33 eV，形成 1.15 eV 的肖特基势垒。类似地，图 6 (f) 显示当 BM-SFO 与 LSMO 接触形成异质结时，形成了 0.78 eV 的肖特基势垒，这与图 6 (a) 中插图所示的线性拟合斜率和截距相吻合。BM-SFO 与顶电极和底电极之间肖特基势垒的差异影响了 I-V 循环中正负偏压下累积曲线的一致性。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans5/img248.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图6\n(a)Au/BM-SFO/LSMO器件的导电机制拟合曲线（插图为$\\sqrt{V}$与$\\ln I$的拟合曲线\n(b)合成的BM-SFO薄膜的(F(R)hμ)^2与光子能量hμ的关系曲线\n(c)通过UPS光谱获得的BM-SFO和LSMO的功函数\n(d)通过UPS光谱分析的BM-SFO价带能量\n(e)Au/BM-SFO异质结构的能带结构示意图\n(f)BM-SFO/LSMO异质结构的能带结构示意图</strong></p>\n<h1 id=\"结论\"><a class=\"anchor\" href=\"#结论\">#</a> 结论</h1>\n<p>综上所述，成功制备了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>T</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO/STO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">STO</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>T</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/SRO/STO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">STO</span></span></span></span> 拓扑相变（TPT）忆阻器，并详细研究了采用两种不同底电极的 SFO 忆阻器的微观结构和电阻切换性能。XRD 图谱表明，基于 LSMO 底电极制备的 BM-SFO 表现出优于 SRO 基器件的单晶格结构。TEM 及其对应的 FFT 图像进一步确认，在采用 LSMO 底电极的 SFO 薄膜中仅出现水平的超晶格状（SLL）条纹，且 BM-SFO/LSMO 界面处氧扩散较少，而在 SRO 上生长的 SFO 薄膜不仅存在水平和垂直 SLL 条纹，还由于氧扩散形成了 PV-SFO 相，表明 BM-SFO 更倾向于在 LSMO 上实现外延生长。   XPS 谱图显示，与 SRO 相比，在 LSMO 底电极上合成的 BM-SFO 薄膜具有更高的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><msup><mi>e</mi><mrow><mn>3</mn><mo>+</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">Fe^{3+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span> 和氧空位（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mi>o</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_o</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">o</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）含量，化学结构更加一致。此外，第一性原理计算结果表明，LSMO 薄膜中的氧迁移能量较高，因此氧在 LSMO 中的稳定性优于 SRO 中的氧。因此，与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>S</mi><mi>R</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/SRO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SRO</span></span></span></span> 器件相比，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 器件展现出更优异的循环稳定性，且其开关比提高了 9 倍，这归因于 LSMO 底电极中氧的增强稳定性。  此外，还分析了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>u</mi><mi mathvariant=\"normal\">/</mi><mi>B</mi><mi>M</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi><mi>S</mi><mi>M</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">Au/BM-SFO/LSMO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">u</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">BM</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SMO</span></span></span></span> 器件的能带结构，并计算了 BM-SFO 与顶电极（Au）和底电极（LSMO）之间的肖特基势垒，较好地解释了正负偏压下的肖特基导电机制。总之，本文提出的基于 LSMO 底电极的 BM-SFO 忆阻器，其改进的电阻切换特性为设计新型 SFO TPT 忆阻器提供了有价值的参考。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-24-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E5%9B%9B/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-24-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E5%9B%9B/",
            "title": "文献翻译(四)",
            "date_published": "2024-11-24T03:25:34.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">基于拓扑相变的模拟忆阻突触：用于高性能神经形态计算和神经网络剪枝(Analog memristive synapse based on topotactic phase transition for high-performance neuromorphic computing and neural network pruning)</b></strong></p>\n<h1 id=\"摘要\"><a class=\"anchor\" href=\"#摘要\">#</a> 摘要</h1>\n<p>受人脑启发，基于非易失性存储器（NVM）的神经形态计算被认为是构建高能效人工智能计算硬件的一个有前途的范式。然而，现有的 NVM 仍然存在物理器件特性不完善的问题。在本研究中，我们展示了一种基于 SrCoO (_x) 的拓扑相变随机存取存储器（TPT-RAM），其具有独特的扩散性非易失双模式特性。通过沿高度有序的氧空位通道的氧离子迁移，可精确控制 SrCoO (_x) 的可逆相变，从而实现可重复的模拟开关特性并减少变异性。结合密度泛函理论和动力学蒙特卡罗模拟，系统研究了 TPT-RAM 的方向依赖型开关机制。此外，双模式 TPT-RAM 被用来模拟突触选择性稳定过程，并实现神经网络剪枝，成功减少了约 84.2% 的冗余突触，同时将图像分类精度提升至 99%。本研究为设计神经形态计算中仿生忆阻突触提供了新的方向。</p>\n<h1 id=\"引言\"><a class=\"anchor\" href=\"#引言\">#</a> 引言</h1>\n<p>数字硬件（包括中央处理器和图形处理器）算力的增长推动了人工智能的快速发展。然而，这反过来也对硬件性能提出了越来越高的要求，甚至超出了摩尔定律的发展速度。其中的一个关键瓶颈来源于广泛采用的冯・诺依曼架构中存储单元与计算单元的物理分离，这导致了内存墙问题这一重大挑战。受神经生物系统的启发，神经形态计算作为一种极具前景的计算范式出现，其特点是在存储器中实现大规模并行计算，从而打破了所谓的冯・诺依曼瓶颈（参考文献 1, 2）。各种非易失性存储器（NVM），例如阻变随机存取存储器（RRAM）（参考文献 3, 4）和相变存储器（PCM）（参考文献 5），已经被广泛研究，用作人工突触和神经元以构建人工智能芯片原型（参考文献 6-8）。与数字存储应用不同，在这里需要可重复的模拟开关特性（例如，多级电导状态、权重更新的线性和对称性以及低变异性），以满足高计算精度和能效的要求（参考文献 9, 10）。</p>\n<p>不幸的是，目前的非易失性存储器（NVMs）仍然存在非理想的器件特性（如图 S1 所示），这是大规模神经形态计算系统硬件实现中的主要挑战之一。例如，传统的细丝型阻变存储器（RRAM）依赖于无定形切换氧化物中的随机氧空位（Vo）迁移，导致器件固有的高变异性；而界面型 RRAM 由于缺乏局部焦耳热效应，通常表现出较差的保持特性和较低的速度（参考文献 11）。对于相变存储器（PCM），由于晶态到无定形相变中的骤冷过程，其切换通常表现出不对称性，并且还存在电导漂移问题（参考文献 12）。这些不理想的器件特性源自其内在的工作机制，因此难以通过简单优化器件结构来消除（参考文献 13, 14）。此外，目前这些器件主要限于模拟单个神经元或突触的功能（例如突触可塑性、神经元触发等），而许多重要的网络级特性的生物模拟（如在生物认知学习中关键的神经网络修剪）尚未被探索。因此，为实现未来高性能的神经形态计算，亟需在材料和器件工作机制方面的创新，以获得更可控的模拟切换特性并构建更符合生物学的神经网络（参考文献 15, 16）。</p>\n<p>为了寻求低变异模拟切换忆阻器的新材料和结构，我们提出了一种基于拓扑相变的新型突触，即拓扑相变随机存取存储器（TPT-RAM），其使用棕米勒氧化物（BM）[如 SrCoO₂.₅（SCO）（参考文献 17, 18）和 SrFeO₂.₅（参考文献 19-21）] 作为阻变切换氧化物。我们选择了 SCO 作为示例材料，其独特的晶体结构由氧八面体和氧四面体交替堆叠而成，提供了实现均匀模拟切换的有利条件：<br />\n(i) 高度有序的一维氧空位通道（OVCs）为氧离子的迁移提供了预定义的 “高速通道”，从而诱导相变和阻变切换（参考文献 22）。相比于通过金属掺杂（参考文献 23）或位错工程（参考文献 15）等方法限制离子迁移，BM 氧化物中高度有序且原子级精确的 OVCs 更加均匀且易于操控，而无需额外的外部工艺（参考文献 24）。<br />\n(ii) 多价态的钴离子在调整氧化学计量比的基础上，可在 BM 和钙钛矿（PV）结构之间可逆变化，而不会失去本征的晶格结构，从而实现渐进切换（参考文献 25-27）。<br />\n(iii) 作为阻变切换层的高质量、稳定的 BM 氧化物，确保了多级电导状态下的优异保持特性以及增强的耐久性。</p>\n<p>在本研究中，为了实现低功耗的神经形态计算，我们设计并制造了基于 SCO 的 TPT-RAM，其具有可调的 OVCs，作为忆阻突触。这样的 TPT-RAM 提供了一个绝佳的平台，通过关联电学与结构表征以及全面的原子器件建模和仿真（参考文献 28-30），深入研究与拓扑相变相关的切换机制。然而，这对于使用无定形氧化物（如 HfO₂）的传统 RRAM 来说是困难的（参考文献 31）。实验表明，通过操控顶部和底部电极（BEs）的 OVC，可以实现高速且均匀的模拟 TPT-RAM。此外，受生物神经网络中突触选择性稳定的启发，我们实现了通过自动修剪在线训练稀疏神经网络，从而大幅减少了网络规模和功耗。</p>\n<h1 id=\"结果\"><a class=\"anchor\" href=\"#结果\">#</a> 结果</h1>\n<h2 id=\"tpt-ram的取向依赖性切换特性\"><a class=\"anchor\" href=\"#tpt-ram的取向依赖性切换特性\">#</a> TPT-RAM 的取向依赖性切换特性</h2>\n<p><strong>图 1 (A 和 B)</strong> 展示了具有可调节氧空位通道 (OVCs) 的 TPT-RAM 突触示意图及其相变机制。首先，通过脉冲激光沉积 (PLD) 方法，在 (001)- 和 (110)- 取向的 SrTiO3 (STO) 衬底上外延生长了厚度分别为 35 nm 和 17 nm 的单晶棕镁矿 SrCoO₂.₅ (BM-SCO)/SrRuO₃ (SRO) 薄膜。BM-SCO 中氧八面体和四面体的交替堆叠形成了高度有序的氧空位通道。由于外延应变和晶体对称性，OVCs 在 SCO (001) pc 取向的薄膜中主要沿面内方向排列，而在 SCO (110) pc 取向的薄膜中则具有明显的面外分量【32–34】。  金属 SRO 用作底电极 (BE)，实现了无错配位错的原子级洁净外延界面（图 S2）【35】。在薄膜生长完成后，在 BM-SCO 层顶部沉积了一层厚度为 20 nm 的 Al₂O₃ 保护层。随后，通过在 Al₂O₃ 中刻蚀接触孔，定义了 TPT-RAM 器件的区域，面积范围从 (4 µm)² 到 (100 µm)² 不等。最后，通过溅射工艺在顶部制作了 100 nm 厚的金 (Au) 电极。Au 和 SRO 均能与 BM-SCO 形成欧姆接触【36】，这一特性对消除界面势垒的影响并获得对称的 I-V 特性至关重要。  通过 X 射线衍射 (XRD)（图 1C）和球差校正扫描透射电子显微镜 (STEM)（图 1D）进一步验证了这两种 BM-SCO 薄膜的不同晶体结构，其中氧四面体层（有序 OVCs）用粉色箭头标注。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans4/1.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 1. 基于 SCO 的 TPT-RAM 突触器件设计及其可调的氧空位链（OVCs）取向  \n(A) 基于不同晶体取向的 SCO 制备的 TPT-RAM 示意图。  \n(B) 依赖于氧化学计量比的可逆场驱动的 BM-SCO 和 PV-SCO 之间的拓扑相变。  \n(C) 两种外延 SCO 薄膜的 XRD θ-2θ 图谱，分别生长在 SRO 缓冲的 STO (110) 和 (001) 衬底上（上方为 STO (110)，下方为 STO (001)）。  \n(D) 原子分辨率扫描透射电子显微镜图像展示了 SCO (110)pc（上）和 SCO (001)pc（下）的两种不同 OVC 取向，其中氧四面体层用粉色箭头标注。插图为相应的结构模型。  \na.u. 表示任意单位</strong></p>\n<p>为研究器件的开关机制，我们对比了 SCO (001) pc 和 SCO (110) pc TPT-RAM 的开关特性。<strong>图 2A</strong> 展示了两种 SCO 器件的典型成形过程以及后续连续的 I-V 扫描曲线。<strong>图 2B</strong> 显示了从 30 个器件测得的成形电压的统计分布，用以关联氧离子的迁移。SCO (001) pc 器件的成形电压（5.04 ± 0.07 V）明显高于 SCO (110) pc 器件（3.98 ± 0.05 V），同时 SCO (110) pc 器件表现出了显著的均匀性提升。  <strong>图 2C</strong> 显示了 TPT-RAM 器件在 500 次开关循环中电导率的均匀性（在 0.2 V 读出电压下测得）。附图 S3（A 和 B）显示，SCO (110) pc TPT-RAM 的循环间变异系数（σ/μ）非常低：设定电压的变异系数仅为 1.8%，复位电压为 0.9%，而高阻态（HRS）和低阻态（LRS）的变异 (variation) 系数分别为 2.25% 和 13.74%。这种循环间均匀性归因于各向异性 SCO 晶体结构中高度各向异性的离子迁移路径。此外，附图 S3（C 和 D）显示了优异的可再现性，器件间差异 (variation) 小（低至 4.9%）且批次间均匀性良好，这主要得益于高质量的外延 SCO 薄膜。</p>\n<p>此外，我们开发了一种脉冲测试方案来评估这两种不同 SCO 器件的工作速度（附图 S4）。测试从相似的低电导状态（(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>G</mi><mo>&lt;</mo></msub><mo stretchy=\"false\">!</mo><mo>−</mo><mo>−</mo><mi>s</mi><mi>w</mi><mi>i</mi><mi>g</mi><mtext>￼</mtext><mn>0</mn><mo>−</mo><mo>−</mo><mo>&gt;</mo><mo>=</mo><mn>40</mn><mi>μ</mi><mi>S</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">G_ = 40  \\mu S)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8718em;vertical-align:-0.1774em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2274em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mrel mtight\">&lt;</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1774em;\"><span></span></span></span></span></span></span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\">￼0</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">40</span><span class=\"mord mathnormal\">μ</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span></span></span></span>）开始，随后连续施加一系列固定幅值（0.8 至 4 V）但脉冲宽度不同（100 ns 至 10 ms）的脉冲。每次操作脉冲后读取器件导电值，直至其达到目标导电值 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>G</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">G_{target}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>(80 和 160 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>μ</mi><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">\\mu S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">μ</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span>)，对应的导电开关比 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><msub><mi>G</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mi mathvariant=\"normal\">/</mi><msub><mi>G</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>a</mi><mi>l</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">n = G_{target} / G_{initial}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">ini</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">ia</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> = 2 和 4）。之后，将器件复位为初始低导电状态，并改变脉冲幅值以再次编程。  通过将器件从初始状态编程到目标状态的脉冲宽度累加，我们可以估算达到目标状态所需的脉冲操作条件。这种测试方法可以避免不同初始电阻状态的影响，并测试尽可能多的脉冲条件。<strong>图 2D</strong> 的结果表明，与 SCO (001) pc 相比，SCO (110) pc 的电导率变化更为容易，其操作电压更低（最低至 0.8 V），速度更快（最快达到 100 ns，受限于测量设备），而 SCO (001) pc 的相应值约为 2.0 V 和 10 µs。</p>\n<p>为更好地理解 TPT-RAM 器件的电学特性，我们建立了一种协同建模方法来研究其潜在的开关机制（图 2E 和 2F 及附图 S5 至 S8）。首先，利用密度泛函理论（DFT）计算在原子级上评估了 SCO 中不同方向的氧离子迁移势垒（附图 S5）【22】。<strong>图 2E</strong> 显示了氧离子在氧四面体层内的两种不同迁移路径。以两个相邻位置分别作为初始状态和最终状态，沿氧空位通道（OVCs）的迁移势垒估算为 0.56 eV。相比之下，垂直于 OVCs 方向的最低迁移势垒为 0.97 eV，其中 X 位置的氧离子迁移到 Y 位置，同时 Y 位置的另一个氧离子跃迁至 Z 位置。此外，<strong>图 2F</strong> 显示了氧离子通过氧八面体层从一个四面体层迁移到另一个四面体层的势垒为 1.84 eV，此过程中涉及三个氧离子。附图 S6 中的计算值表明，氧离子更倾向于沿 OVCs 方向迁移。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans4/2.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 2. 可调 OVC 对 TPT-RAM 开关特性的影响\n(A) 典型的直流形成过程及 100 次连续扫描的 I-V 曲线。  \n(B) 从每种 SCO 取向的 32 个不同器件中提取的形成电压的统计分析。  \n(C) 以 0.2 V 读电压进行 500 次 I-V 扫描后器件电导的累计概率分布图。  \n(D) 从相同初始电导值 $ G_{initial}$ 编程至目标电导值$ G_{target}$所需的脉冲操作条件，其中开关比定义为 $ n = G_{\\text{target}} / G_{\\text{initial}} $</strong></p>  \n<p align=\"center\"><strong>(E) 在 SCO 中氧四面体层内的氧迁移路径，以及 (F) 跨越氧四面体层的氧迁移路径</strong></p>\n<p>此外，我们进行了动力学蒙特卡罗（KMC）模拟，以捕捉电阻切换的完整物理过程（附图 S7）【37-39】。在 SCO (110) pc 器件中，OVCs 与顶部电极（TE）和底部电极（BE）电场方向一致，为氧离子提供了优先迁移路径，因此 BM（褐钙钛矿）到 PV（钙钛矿）相变更容易发生，并形成多个导电细丝。相比之下，SCO (001) pc 器件中的氧离子受垂直于 OVCs 的电场驱动，沿电场方向迁移的概率较低，导致不利的随机相变（附图 S8 和视频 S1）。因此，SCO (110) pc 器件更容易形成导电细丝，表现出更高的速度和更低的工作电压（如图 2D 所示）。这与 SCO (110) pc 器件观察到的较小写入电压变异系数（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>σ</mi><mi mathvariant=\"normal\">/</mi><mi>μ</mi><mo>=</mo><mn>0.9</mn><mi mathvariant=\"normal\">%</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma/\\mu = 0.9\\%</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">μ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8056em;vertical-align:-0.0556em;\"></span><span class=\"mord\">0.9%</span></span></span></span>)，附图 S3）一致。结果表明，导电细丝的形成依赖于 SCO (110) pc 中沿 OVCs 方向的定向氧离子迁移。  此外，与传统的基于无定形氧化物的 RRAM 器件相比，SCO (110) pc 的原子级空间均匀性显著提高，后者因随机氧空位（Vo）的生成和迁移会引入更大的开关变化【38】。附图 S9A 表明，SCO (110) pc 低阻态（LRS）对器件面积的依赖性较弱，这表明其切换机制为细丝型，这与 KMC 模拟结果一致。在细丝形成后，局部电场在细丝顶端增强，导致器件区域内形成局部化的细丝。相反，SCO (001) pc 的器件电导率与面积的明确依赖性（附图 S9B）表明，其相变不像 SCO (110) pc 那样局限于小区域【18】。</p>\n<h2 id=\"tpt-ram的模拟开关特性\"><a class=\"anchor\" href=\"#tpt-ram的模拟开关特性\">#</a> TPT-RAM 的模拟开关特性</h2>\n<p>基于上述结果，我们利用基于 SCO (110) pc 的 TPT-RAM 进一步研究了其用于神经形态计算的高性能模拟切换特性。测试了该器件的长时程增强（LTP）和长时程抑制（LTD）特性，使用了相同的设置脉冲和复位脉冲（图 3A）。每个循环包含 50 个设置脉冲和 50 个复位脉冲，脉冲宽度为 1 μs，随后是 0.2 V、1 μs 的读取脉冲。结果表明，TPT-RAM 的模拟切换可以通过相同的低电压脉冲（1 V）实现，同时表现出几乎理想的线性切换，非线性因子分别为 ($\\nu = 0.20\\)（LTP）和\\(\\nu$ = 1.29)（LTD）（附图 S10A）。这两个值远低于典型细丝型 RRAM 的非线性因子【9】。此外，<strong>图 3B</strong> 中显示的逐周期脉冲编程测试表明，该器件在使用相同幅度脉冲和逐渐增加幅度脉冲的情况下均表现出可重复的模拟切换特性。测试表明，后者的编程方案可实现更好的线性度（附图 S10）和更高的开关比【40】。</p>\n<p>TPT-RAM 的可逆相变在不破坏母晶体结构的情况下实现，这使其具有优异的保持特性和耐久性。<strong>图 3C</strong> 显示，该器件在 85°C 下具有超过 3000 秒的长时间保持性能。此外，根据温度依赖性测量提取的活化能，可预测器件在室温下的保持时间超过 10 年（附图 S11）【41】。SCO (110) pc 中定向氧空位通道（OVCs）的存在，使得该器件可以通过更低的迁移势垒轻松编程，同时由于更高的扩散势垒，具备优异的保持特性（附图 S12）。<strong>图 3D</strong> 显示，该器件在超过<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding=\"application/x-tex\">10^8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span></span></span></span></span></span></span></span> 个脉冲下表现出可靠的多级切换，具有不同的电阻切换窗口。  这些结果表明，基于 SCO (110) pc 薄膜开发的 TPT-RAM 可以作为一种高性能的突触器件（与其他器件的比较见附图 S1 和表 S1）。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans4/3.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 3. 基于 SCO (110)pc 的 TPT-RAM 在类脑计算中的模拟开关特性\n(A) 相同设置和复位脉冲下的长时程增强 (LTP) 和长时程抑制 (LTD)。写入脉冲列由 50 个设置脉冲（幅值分别为 1、1.5 和 2 V，宽度为 1 微秒）组成，随后是 50 个复位脉冲（幅值分别为 −1、−1.5 和 −2 V，宽度为 1 微秒）。每个写入脉冲后，通过读脉冲（幅值为 0.2 V，宽度为 1 微秒）测量器件电导。  \n(B) 多次循环下的可重复且均匀的模拟开关行为：在相同脉冲下，幅值为 1 V，宽度为 1 微秒（上图）；以及脉冲幅值从 1 V 增加至 2.89 V，宽度为 100 纳秒（下图）。  \n(C) 在 85°C 下对五个电导等级进行 3000 秒的保持测试。  \n(D) 不同阻变开关窗口的器件耐久性测试（固定的高电阻态 HRS 和变化的低电阻态 LRS）。在每个循环中，使用幅值为 1.8 至 3.2 V、宽度为 1 微秒的脉冲将器件编程至期望的 HRS 和 LRS，并在 0.2 V 读电压下记录。无论在何种情况下，器件都在 108 次循环后保持稳定，展示了出色的可靠性</strong></p>\n<p>上述非易失性模拟切换特性是在器件经历成型过程后测得的，而在成型之前，器件表现为扩散性忆阻特性【42】。<strong>图 4A</strong> 示意了器件在不同脉冲条件下的工作机制。起初，由于 BM 相的绝缘特性，器件表现出高电阻（&gt;1 MΩ）。当施加低于成型电压的弱激励（例如，2 V，见<strong>图 4C</strong>）时，氧离子从 SRO 层被提取到 SRO/SCO 界面，降低了器件电阻。然而，这种激励不足以支持 SCO 完成稳定的相变，因为稳定相变需要足够多的氧离子【27, 43】。一旦移除电压偏置，界面处的化学势差会驱动氧离子回流至 SRO 层，导致器件逐渐恢复至初始的高阻态（HRS）。在写入脉冲前后，施加了 0.2 V 的读取脉冲记录器件的电导状态。器件首先被编程至相对低电阻态，但随后在约 1 秒内自发恢复至初始状态（<strong>图 4C</strong>）。因此，在弱激励条件下，TPT-RAM 表现为扩散性忆阻器行为。此外，附图 S13 中的耐久性测试显示，在扩散模式下器件可以承受超过 1500 次循环操作。</p>\n<p>相对而言，在强激励下（例如，约 4 V 的直流成型电压，见<strong>图 3A</strong>），大量氧离子被驱入 SCO，触发稳定相变。此后，小的正电压可以吸引更多氧离子迁移，诱导 SCO 从 BM 相向 PV 相的稳定相变（<strong>图 3A</strong>），从而增加器件电导（设置过程）。当施加负电压时，氧离子被驱回 SRO，发生反向相变，降低器件电导（复位过程）。因此，在这种非易失模式下，器件表现出相对较低的电阻和优异的保持性能（85°C 下超过 3000 秒）。两种不同模式下的电气测试结果分别展示在<strong>图 4C</strong> 和 <strong>图 4D</strong> 中。   为进一步研究成型过程，我们使用不同数量的相同脉冲（Vpulse = 3 V，脉冲宽度 = 10 ms）对器件进行了测试（<strong>图 4B</strong>）。结果表明，器件可以从扩散模式转变为非易失模式。起始于相同的初始电导状态，10 和 50 个脉冲可以引发增量电导变化，但在脉冲操作后逐渐衰减，表明器件工作在扩散模式。然而，当连续脉冲的数量增加至 100 时，观察到突发的电导变化，使 TPT-RAM 进入非易失模式。这些结果表明，器件既可以通过单一高电压成型，也可以通过足够多的小电压重复脉冲成型。  此外，使用 50 个 3 V、10 ms 的设置脉冲进行的循环测试（<strong>图 4E</strong>）显示出良好的均匀性（变异率降至<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>σ</mi><mi mathvariant=\"normal\">/</mi><mi>μ</mi><mo>=</mo><mn>1.35</mn><mi mathvariant=\"normal\">%</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma/\\mu = 1.35\\%</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">μ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8056em;vertical-align:-0.0556em;\"></span><span class=\"mord\">1.35%</span></span></span></span>)）和模拟切换特性（TPT-RAM 的非线性因子低至 1.8，见附图 S14）即使在扩散模式下也是如此。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans4/4.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 4. TPT-RAM 突触的扩散性非易失性双模式\n(A) 记忆电阻开关机制示意图。在初始状态下，弱激励无法引起稳定的相变，器件表现为扩散性记忆电阻器。经过强激励后，足够数量的氧离子跨越 SRO/SCO 界面迁移，从而形成导电丝，并使器件表现出非易失性特性。  \n(B) 脉冲形成过程。少量（≤50）脉冲只能诱导扩散性开关行为，但更多的脉冲（≥100）则能够电形成器件并将其转变为非易失性记忆电阻器。  \n(C) 强激励前（形成）脉冲测试显示在弱脉冲下的扩散性特征。PN，脉冲数；PW，脉冲宽度。  \n(D) 强激励后（形成）脉冲测试显示非易失性记忆电阻特性，脉冲条件与（C）相同。  \n(E) 在扩散模式下的多周期脉冲测试也展示了良好的周期间均匀性（低变异性，$\\sigma/\\mu = 1.35\\%$）和模拟开关特性</strong></p>\n<h2 id=\"进行神经网络剪枝\"><a class=\"anchor\" href=\"#进行神经网络剪枝\">#</a> 进行神经网络剪枝</h2>\n<p>此外，我们想特别强调，<strong>图 4</strong> 所揭示的 TPT-RAM 忆阻突触的独特扩散性 - 非易失性双模式特性，可以实现对神经生物学功能的更好模拟，不仅限于突触权重的表示【12】。在过去的十年里，关于通过新型忆阻器件模拟生物突触行为的研究得到了广泛关注，例如突触可塑性、短期记忆和长期记忆【42, 44】。然而，这些研究主要集中于器件层面的生物模拟，对于许多重要的网络层面属性的模拟（例如在人脑发育过程中起关键作用的神经网络剪枝【45】），目前的探索仍然不足【2】。这导致了生物神经网络与人工神经网络之间仍存在巨大的差距。因此，未来需要更系统地优化结构设计与符合生物学特性的硬件性能【2】。  此外，在资源受限的应用场景中（如便携式电子设备和物联网），高功耗和缺乏实时处理能力严重限制了深度神经网络的部署。神经网络剪枝被认为是降低网络复杂性和避免过拟合的有效途径【46】。然而，这通常会导致网络连接的不规则性，可能需要额外的努力来表示稀疏位置，从而增加硬件开销和计算成本【47】。因此，基于忆阻突触的神经网络剪枝技术尚未实现。</p>\n<p>在本研究中，我们利用开发的 TPT-RAM 实现了结合深度学习算法的神经网络自动剪枝过程【46】。这种自动剪枝过程受到人脑中突触发育过程的启发（<strong>图 5A</strong>）。在人脑中，突触连接数量在幼儿时期达到最大值，随后活跃的突触被选择性稳定，而很少使用的冗余突触逐渐被消除。这种自然的突触剪枝过程对于优化神经网络并提高网络效率至关重要。  在研究中，一个 TPT-RAM 差分对 (即 2 个 TPT-RAM 器件构成) 被用于表示一个突触权重。初始时，所有突触器件都工作在扩散模式。在训练过程中，频繁更新的器件会经历电成型并最终进入非易失态（代表稳定的突触连接），而其他器件则自然衰减至关闭状态。通过这种方式，神经网络可以强化重要的突触权重连接，同时去除其他无关的连接，最终在训练后形成一个稀疏网络。  <strong>图 5B 和 5C</strong> 中的仿真结果展示了基于 TPT-RAM 的训练与使用常规非易失性突触的基线进行比较，在多层感知器（MLP）和卷积神经网络（CNN）中的应用表现。仿真中考虑了从实验中提取的器件循环变化特性。结果表明，利用扩散性 - 非易失性双模式特性的训练过程，剪枝网络的突触数量减少高达 84.2%，同时在功耗方面节省高达 63%，并通过避免过拟合将 MNIST 识别任务的准确率提高到约 99%。这些由 TPT-RAM 带来的计算优势在训练更大规模的自动剪枝神经网络时可能更为显著。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans4/5.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 5.类生物的神经网络修剪实现\n(A) 基于 SCO 的 TPT-RAM 突触的在线训练类似于人脑中突触发展的选择性稳定化。首先，神经网络中的所有突触设备都处于扩散模式。在训练过程中，如果某个突触设备被频繁更新且电导达到某一阈值，则它会被电形成非易失性模式（这意味着突触连接已稳定）。否则，设备的电导会自发地衰减回几乎为零，连接则被修剪。  (B) 在修剪后的神经网络中（蓝色和红色曲线），通过避免过拟合，识别误差率得到了降低。对于MNIST的识别，最高准确率约为 99%。  \n(C) 训练后的模拟突触权重分布。对于 MLP 和 CNN，修剪率分别为 73.8% 和 84.2%。此外，修剪后的 MLP 和 CNN 网络的突触功耗分别降低了 38% 和 63%</strong></p>\n<h1 id=\"讨论\"><a class=\"anchor\" href=\"#讨论\">#</a> 讨论</h1>\n<p>综上所述，我们展示了基于 SCO 拓扑相变的 TPT-RAM 作为一种新型忆阻突触。独特的沿高度有序氧空位链（OVCs）进行的氧迁移使其具有以下优异特性：循环间变异性仅约为 0.9%，器件间变异性约为 4.9%，低操作电压（0.8 V），以及小于 100 ns 的快速切换速度。密度泛函理论（DFT）计算和动力学蒙特卡洛（KMC）模拟进一步证实了其电阻切换机制与实验测得的电学特性一致性。这些结果突出了控制离子迁移路径在提高 RRAM 均一性方面的重要性，为未来神经形态器件的优化提供了指导。  为与硅晶体管集成以构建基于 TPT-RAM 的功能性突触阵列，可采用远程外延和牺牲层辅助薄膜转移等新技术【48, 49】。此外，基于 SCO 的突触展现出独特的弥散性 - 非易失性双模式特性，被用于模拟人脑中发育中的突触，并在在线训练中实现神经网络剪枝，减少多达 82.5% 的冗余突触，同时将 MNIST 识别精度提升至 99%。本研究为设计和探索高性能神经形态计算的类生物模拟忆阻突触指明了新的方向。</p>\n<h1 id=\"材料和方法\"><a class=\"anchor\" href=\"#材料和方法\">#</a> 材料和方法</h1>\n<h2 id=\"sco-薄膜的生长和表征\"><a class=\"anchor\" href=\"#sco-薄膜的生长和表征\">#</a> SCO 薄膜的生长和表征</h2>\n<p>35 nm 厚的 SCO 薄膜和 17 nm 厚的 SRO 薄膜通过反射式高能电子衍射辅助脉冲激光沉积（PLD）系统沉积在 STO (001) 和 STO (110) 基板上。优化的生长条件为：温度 750°C，氧气环境压力 100 mtorr。激光波长为 248 nm（KrF 激光器），能量密度为 1.2 J/cm²，重复频率为 2 Hz。薄膜生长完成后，样品在 100 mtorr 氧气环境中以 7°C/min 的冷却速率冷却至室温。薄膜厚度通过生长时间控制，其晶体结构通过 X 射线衍射（XRD）和倒易空间映射（RSM）表征。SCO 薄膜的原子结构则使用 ARM 200CF 型透射电子显微镜（JEOL，日本东京）进行表征。</p>\n<h2 id=\"器件制造与测试\"><a class=\"anchor\" href=\"#器件制造与测试\">#</a> 器件制造与测试</h2>\n<p>通过原子层沉积（ALD）方法形成了 20 nm 厚的 Al₂O₃隔离介电层，并开设了尺寸范围为 4 × 4 到 100 × 100 μm² 的接触孔，定义了器件的活性区域面积。在接触孔顶部使用磁控溅射法沉积了厚度为 100 nm 的 Au 电极，其尺寸为 100 × 100 μm²。器件的电学性能测试使用了半导体参数分析仪（Agilent B1500）、脉冲发生器（Agilent 81110A）和开关矩阵（Keithley 707）进行。</p>\n<h2 id=\"神经网络模拟\"><a class=\"anchor\" href=\"#神经网络模拟\">#</a> 神经网络模拟</h2>\n<p>一个 784 × 100 × 10 的多层感知机（MLP）和一个典型的卷积神经网络（CNN）LeNet-5 (50) 被用来验证神经网络剪枝的效果。在这项工作中，模拟了 LeNet-5，该网络由三个卷积层、两个池化层、一个全连接层和一个径向基函数（RBF）层组成。输入数据为 32 × 32 像素的图像。第一个卷积层（C1）经过一个 1 × 5 × 5 × 6 的卷积核计算后，输出尺寸为 28 × 28 × 6。结果通过一个池化层（S2）进行 2 × 2 平均池化，滑动步长为 2，并经过一个 sigmoid 函数处理。第二个卷积层（C3）使用一个 6 × 5 × 5 × 16 的卷积核处理后，输出尺寸为 10 × 10 × 6。接着，通过类似于 C1 和 S2 的方式形成另一个池化层（S4）。第三个卷积层（C5）经过一个 16 × 5 × 5 × 120 的卷积核处理后，输出尺寸为 1 × 1 × 120。然后，这些输出被输入到具有 84 个神经元和 tanh 激活函数的全连接层（F6）。最后，输出层由每个类别对应的 10 个欧几里得 RBF 单元组成。</p>\n<p>在网络模拟中，一个由两个基于 SCO (110) pc 的 TPT-RAM 器件组成的差分对被用来表示一个突触权重。神经网络使用标准反向传播和随机梯度下降算法进行训练，批量大小为 200，学习率为 0.01。MLP 训练了 10 个周期，CNN 训练了 20 个周期。起初，所有突触器件都处于扩散模式，并使用图 4B 中测得的曲线进行模拟。这些器件在成型之前显示了约 100 个电导水平，并通过 3 V/10 ms（间隔 10 ms）的写入脉冲进行编程。  为了模拟人类的学习过程，在训练过程中引入了一系列休息阶段。对于 MLP，休息阶段每个周期出现一次；对于 CNN，每两周期出现一次。在休息阶段，没有学习任务，频繁更新的突触会通过电成型最终变为非易失性状态（代表稳定的突触连接），而其他仍处于扩散模式的无关突触连接会自动衰减（见图 S13），实现剪枝功能。剪枝后剩余的稳定突触连接使用 1 V/1 μs（间隔 1 μs）的脉冲（见图 3B）进行神经网络训练。读电压为 0.2 V，权重归一化到 (-1, 1) 范围内。模拟中包括从实验数据中提取的周期间变化 (cycle-to-cycle variation) 以及服从高斯分布的噪声模型。   在每个休息阶段之后，在测试数据集上测量网络的分类精度。剪枝率计算为零权重突触的比例，具体来说，是权重小于 1 × 10⁻⁶ 的突触数量除以突触总数。网络的突触功耗通过公式 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mtext>synapse</mtext></msub><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>V</mi><mtext>input</mtext></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>×</mo><msub><mi>G</mi><mtext>synapse</mtext></msub></mrow><annotation encoding=\"application/x-tex\">P_{\\text{synapse}} = (V_{\\text{input}})^2 \\times G_{\\text{synapse}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">synapse</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1002em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3175em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">input</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">synapse</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 估算得到。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-24-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%B8%89/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-24-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%B8%89/",
            "title": "文献翻译(三)",
            "date_published": "2024-11-24T03:23:29.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">氧空位有序性对铁掺杂锶基钙钛矿结构和反应活性的影响：一项计算研究 (Role of oxygen vacancy ordering on structure and reactivity of iron-doped Sr-based perovskites: A computational study)</b></strong></p>\n<h1 id=\"摘要\"><a class=\"anchor\" href=\"#摘要\">#</a> 摘要</h1>\n<p>采用密度泛函理论（DFT）方法研究了纯 SrCoO₃、SrFeO₃以及铁掺杂的 SrCo₀.₈Fe₀.₂O₃和 SrCoₓFe₁₋ₓO₃（x = 0.25、0.50、0.75）钙钛矿的结构和反应性。比较了块体钙钛矿的电子特性与不同铁掺杂组成的块体钙钛矿的电子特性。针对多种结构配置，研究了铁原子在 SrCo₀.₈Fe₀.₂O₃中的位置影响，发现两个 FeO₆多面体插入 CoO₆多面体之间的结构相对更稳定。相邻的铁多面体会增强 Jahn-Teller 效应，导致对称性降低。此外，还研究了具有氧空位有序性的 SrCoO₂.₅、SrFeO₂.₅以及铁掺杂的 SrCo₀.₈Fe₀.₂O₂.₅、SrCoₓFe₁₋ₓO₂.₅和 SrCoₓFe₁₋ₓO₂.₇₅（x = 0.25、0.50、0.75）的结构和反应性，以探讨氧含量变化的影响。通过电子密度分布图和 Bader 电荷分析，研究了其键合作用。此外，还计算了含氧空位和缺氧空位钙钛矿的功函数，以预测其导电行为。进一步地，将氢原子和氢分子引入钙钛矿的氧空位中，以理解氢化钙钛矿的结构转变并预测其在氢储存中的潜在应用。利用分子动力学模拟研究了水分子在 SrFeO₃表面的吸附行为。水分子解离为氢氧根和质子，质子与表面氧以 0.91 Å 的距离结合，氢氧根离子则占据表面的氧空位，并以 2.73 Å 的距离与 Fe 配位。</p>\n<h1 id=\"引言\"><a class=\"anchor\" href=\"#引言\">#</a> 引言</h1>\n<p>基于 SrCoxFe1-xO3-δ 的钙钛矿材料（SCF），如 Pr₀.₅(Ba₀.₅Sr₀.₅)₀.₅Co₀.₈Fe₀.₂O3-δ (Pr₀.₅BSCF) 和 Ba₀.₅Sr₀.₅Co₀.₈Fe₀.₂O3-δ (BSCF)，已被报道为高效的电催化剂，用于氢析出反应（HER），其过电位在电流密度为 10 mA/cm² 时分别为 237 mV 和 342 mV【1】。由于包含非贵金属，这些材料成本低廉，具有经济优势。此外，通过调整扩展超胞中钴和铁的位置以及创建不同的有序氧空位，可以改变其电子结构【2】，从而优化其结构和特性，以获得高效的 HER 电催化剂【3,4】。     通常，具有 ABOx (2.5 ≤ x ≤ 3) 结构的钙钛矿金属氧化物广泛存在，其中 A 可以是 Ca、Sr、Ba、La，而 B 可以是 Co、Fe、Ti、Cr、Mn、Ni、Cu、Al、Ga 等【5】。钙钛矿的阳离子、阴离子或二者可能存在缺陷，从而赋予 B 位阳离子可变的氧化态。表面上的 B 位离子在 BO₅配位结构中去除了顶端氧原子，形成空位，这些空位可作为 HER 的活性位点。该反应机制为两电子转移过程（2H₂O + 2e⁻ → H₂ + 2OH⁻），此过程在动力学上较慢，需要较高的能量输入以启动反应，从而产生较高的过电位【6-8】。为了减少能量输入并加速反应，人们正在设计和开发新的材料。    在这方面，Li 及其同事【7】研究了 HER 的机制，其中质子被引入到氧空位中（如 SrCoO₂.₅），导致过渡金属离子的还原。他们还报告了与结构转变相关的氢分子形成的可能性【9】。钙钛矿材料作为 HER 催化剂的特性受阴离子空位、B 位阳离子的价态以及 B 位阳离子在表面和层间的配位对称性影响【7,8】。设计具有不同氧空位配置和组成的钙钛矿结构在钙钛矿材料研究中至关重要【10】。实验中通过调节阳离子和阴离子的组成来研究其结构稳定性并理解其功能特性【11,12】。然而，使用实验方法进行材料设计耗时且需要大量的人力和物力资源，特别是在合成有序空位的钙钛矿和精确的阴 / 阳离子组成时需要大量的试验和错误，这显著影响了钙钛矿设计和开发的速度和精确性。随着计算软件和硬件的最新进展，理论计算通过第一性原理和分子动力学方法可以超越实验观测，对这些材料进行深入研究 [13–15].。</p>\n<p>Gainutdinov 等人通过第一性分子动力学模拟研究了 SrCoMoO₃₋ₓ和 SrCo₀.₈₇₅Mo₀.₁₂₅O₃₋ₓ（x = 0, 0.125, 0.25）的 Mo 掺杂对系统结构在热膨胀过程中的影响【16】。Bork 等人则使用基于 DFT 的 Bader 分析研究了纯的氢化形式的 SrTiO₃、BaNbO₃、CaTiO₃和 SrZrO₃中的电荷分布【17】。Staykov 等人使用第一性原理方法计算并分析了 SrTiO₃和铁掺杂的 SrTiO₃的表面反应性和电子特性，并研究了表面氧空位在氧还原反应中的作用【14】。Tsang 及其合作者【18】使用 DFT 方法分析了棕钙钛矿相 SrCoO₂.₅及其氢化相 HSrCoO₂.₅的稳定性、电子和磁结构。结果显示，在 HSrCoO₂.₅中 H 和 O 之间存在部分电荷转移，且具有大的带隙和增强的电子迁移率，表明这种材料具有有趣的电子和磁特性。然而，氧空位有序化对铁掺杂锶基钙钛矿及其氢化相的结构和反应性的影响尚未得到研究。</p>\n<p>在这一研究方向上，本研究旨在利用基于 DFT 的第一性原理方法，探讨 SrCoxFe₁₋ₓO₃₋δ 钙钛矿（SCF）的结构和电子特性及其对各种氧有序空位位置的影响。本研究分析了结合相互作用的性质、B 位元素替代的影响、氧空位以及金属配位对费米能级处的电子特性、带隙、态密度（DOS）及部分态密度（PDOS）的影响。此外，计算得到的结构用于通过引入 HER 过程中涉及的多种中间体，研究氢化钙钛矿的能量学和电子特性。在此研究中，我们考虑了形成 MO₄方形平面和 MO₅方锥体的氧空位排列。通过 DFT 方法，研究了具有以下组成的 SCF 钙钛矿的结构和反应性，包括块体和含氧缺陷的 SrCo₀.₈Fe₀.₂O₃、SrCo₀.₈Fe₀.₂O₂.₅、SrCoxFe₁₋ₓO₃、SrCoxFe₁₋ₓO₂.₅和 SrCoxFe₁₋ₓO₂.₇₅（其中 x = 0.25, 0.50, 0.75）。还通过分子动力学模拟研究了水在 SrFeO₂.₅体系上的吸附及水分子的解离过程。</p>\n<h1 id=\"计算部分\"><a class=\"anchor\" href=\"#计算部分\">#</a> 计算部分</h1>\n<p>基于密度泛函理论（DFT）的从头算（Ab-initio）（第一性）计算使用周期性边界条件，针对不同的 SrCoO₃、SrFeO₃和铁掺杂的 SrCo₀.₈Fe₀.₂O₃、SrCoxFe₁₋xO₃（x = 0.25、0.50、0.75）钙钛矿以及含氧缺陷的 SC、SF 和 SCF 钙钛矿（SrCoO₂.₅、SrFeO₂.₅、SrCo₀.₈Fe₀.₂O₂.₅和 SrCoxFe₁₋xO₂.₇₅（x = 0.25、0.50、0.75））在反铁磁（AFM）和铁磁（FM）状态下进行，采用了 SIESTA（西班牙电子模拟千原子项目）软件包【19-21】。氧缺陷铁掺杂的 SrCoxFe₁₋xO₂.₅（SCF）具有交替分布的 MO₆八面体和 MO₄四面体的正交棕色钙钛矿结构，已被广泛研究【10，22】。最近的研究支持金属在方平面和方锥对称下的非典型配位可能性【5，23，24】。根据早期的计算【14，15】和 SC、SF 及 SCF 钙钛矿的已报道晶体结构，生成了计算的结构模型【22，25-27】。</p>\n<p>结构优化使用了 SIESTA 包中实现的 Kohn-Sham 自洽 DFT 方法【28】。SIESTA 采用局域分子轨道基组描述价电子，并在所有计算中使用了 Troullier-Martins 规范守恒非局部赝势来描述原子核，从而提高计算效率。氧原子使用带极化轨道的双 ζ 基组（DZP）【29】，而 Sr、Fe 和 Co 使用伪原子轨道基组。交换 - 关联函数采用 Perdew-Burke-Ernzerhof（PBE）的广义梯度近似（GGA）【30，31】。库仑相互作用通过考虑 Hubbard U 势【32，33】（分别为 Co 和 Fe 原子设置 3.3 eV 和 4.0 eV）来计入【34】。在无 Hubbard 修正的情况下，Ueff 包含的趋势与基组相似。所有计算的收敛标准设为能量 0.05 eV 和位移 0.05 Å，实空间网格切割为 300 Ry，原子间力松弛至 0.01 eV Å⁻¹。几何优化采用共轭梯度算法进行。   布里渊区采样使用 2×10×10 k 点网格用于 SCF 钙钛矿，而 SC 和 SF 钙钛矿使用 2×6×6 k 点网格。在正交对称性下，同样的 k 点网格用于能带、DOS 和 PDOS 计算【35】。获得各种可能的 SCF 钙钛矿结构配置的详细方法在支持信息（SI.1）中给出。</p>\n<p>图 1 展示了通过改变 SrCo₀.₈Fe₀.₂O₃、SrCo₀.₈Fe₀.₂O₂.₅和 SrCoxFe₁₋xO₂.₇₅（x = 0.25、0.50、0.75）中 Fe 和 Co 的位置而生成的模型配置，以研究 Fe 位置和成分对金属活性位点的能量和反应性的影响。这些配置根据实验研究中实现的化学计量比【11,12,22,25–27】，创建了多种氧空位位点，具体如图示方案 1 所示。支持信息（SI.2）中提供了关于创建氧空位的各种方法的详细说明。</p>\n<p>生成并优化了反铁磁（AFM）和铁磁（FM）状态，磁耦合常数（J）使用 Ising 模型计算【36–38】（方法细节在支持信息 SI.3 中给出），该方法是确定钙钛矿材料磁性的重要量子方法【39–42】。AFM 和 FM 状态的能量差，即 ΔET = E (↑↑) - E (↑↓) 为正值。无论钙钛矿的结构和成分如何，结果均显示 FM 有序状态比 AFM 更稳定，这与已报道的实验和理论研究一致（见表 S1）【43,44】。因此，结构和电子特性是基于最低能量的 FM 状态进行讨论的。</p>\n<p>研究了空位排序对 SCF 钙钛矿材料整体电子特性的影响。优化结构上的 Bader 电荷分析使用 Henkelman 等人开发的算法完成【45】。优化结构的功函数【46,47】通过增加 12 Å 的真空区和 10×1×10 的 k 点网格计算得出。</p>\n<p>在不同优化配置上进行了钙钛矿的氢化处理，以获得能量上更有利的氢化 SF、SC 和 SCF 钙钛矿【17,48】。所有计算中均使用 2×6×6 的 k 点网格。其他参数按照上述方法进行计算。由于无法使用共轭梯度算法去 松弛 通过水分子进行的钙钛矿氢化，因此采用了 Verlet 算法的分子动力学（MD）模拟【49】。MD 模拟的时间步长为 1 fs，初始目标温度为 300 K。为了降低计算成本，MD 模拟中未考虑自旋极化。   选择了能量上更有利的 SF 钙钛矿结构与水反应进行 MD 研究。通过沿 c 轴堆叠 8 层交替的 SrO 和 FeO₂层并从顶层移除一个氧，创建了对称的缺陷表面模型【50】。将一个水分子放置在氧空位上，研究水分子与钙钛矿表面的反应。表面模型上方放置了 15 Å 的真空层，并使用 2×2×1 的 k 点网格。固定了底部四层（两个 SrO 层和两个 FeO₂层）原子的坐标和晶胞体积，其余四层与放置在氧空位上的水分子相互作用。</p>\n<h1 id=\"结果和讨论\"><a class=\"anchor\" href=\"#结果和讨论\">#</a> 结果和讨论</h1>\n<p>使用 DFT 方法逐步生成并优化了各种可能的 SrCoxFe₁₋xO₃₋δ 配置。首先优化了体相的 SrCoO₃（SC）和 SrFeO₃（SF）钙钛矿结构，以生成混合金属钙钛矿的结构。计算得到的结构和晶胞参数与文献中报道的实验和理论值（见支持信息中的图 S1 和表 S2）一致。计算的能带和零带隙（表现出金属性）与 SrCoO₃和 SrFeO₃的已报道研究结果相符【51,52】，这验证了当前研究所选方法的有效性。</p>\n<h2 id=\"钙钛矿在无氧空位和有氧空位情况下的可能配置和结构\"><a class=\"anchor\" href=\"#钙钛矿在无氧空位和有氧空位情况下的可能配置和结构\">#</a> 钙钛矿在无氧空位和有氧空位情况下的可能配置和结构</h2>\n<p>生成了一个 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>10</mn><mo>×</mo><mn>1</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">10 \\times 1 \\times 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">10</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>  的 $ SrCo_{0.8} Fe_{0.2} O_3$ 超晶胞结构，未包含氧空位，基于 Fe 的位置设置了五种不同的配置，分别标记为 SCF-1 到 SCF-5（如图 1 所示），以研究 Co/Fe 位置对结构和电子性质的影响。所有 体 $ SrCo_{0.8} Fe_{0.2} O_3$ 相配置的能量都在 1.71 kcal/mol 范围内，晶体结构呈立方晶系，空间群为 Pm3m。如表 1 所示，SCF-5 配置的晶胞参数与已报道的晶体结构值偏差为 0.68%，而其他 SCF 配置的偏差为 1.2%。在这五种配置中，SCF-5 的 Fe 多面体彼此相邻，包括两个 $SrFeO_3 $ 单元格结构插入在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 之间，因以下观察结果被认为相对更稳定：</p>\n<ol>\n<li>\n<p>在 SCF-5 中，计算得到的 M–O 键长范围为 Co–O 键距 1.91 到 2.00 Å，以及 Fe–O 键距 1.92 和 1.97 Å，而其他构型的键长仅有 0.02 Å 的变化。需要注意的是，SCF-1 到 SCF-4 中的键长略有差异，Fe–O 键距为 1.94 到 1.96 Å，Co–O 键距为 1.95 到 1.97 Å。同样地，在 SCF-5 中，∠OFeO 和∠OCoO 键角从理想的 90° 偏离 0.7° 和 1.2°，而其他构型的键角接近 90°（SCF-1 到 SCF-4 的∠OFeO 在 89.9°–90.1° 之间，∠OCoO 在 89.8°–90.3° 之间）。所有钙钛矿的键长和键角详见补充信息中的图 S2。</p>\n</li>\n<li>\n<p>优化后的结构参数表明，在 SCF-5 中，Fe 的配位中心呈现出 $$C_{4h}$$ 对称性，而 Co 的多面体则为 $$C_s$$ 对称性，而在其他钙钛矿结构中，多面体更倾向于 $$O_h$$ 对称性。</p>\n</li>\n<li>\n<p>SCF-5 的结构畸变源于相邻 Fe 多面体的存在，这导致 Fe 和 O 之间通过 Fe–O–Fe–O 桥的电荷转移，根据 Bader 电荷分析，Fe 和 O 离子的电荷分别在 1.73 e 到 1.62 e 和 - 0.98 e 到 - 1.08 e 之间波动。此外，∠OFeO 和∠FeOFe 角接近理想的 180°，为 179.71°，这有助于通过 Fe–O–Fe 键进行电荷转移。</p>\n</li>\n<li>\n<p>SCF-5 中的 Fe–Fe 和 Co–Co 相互作用增强了 Jahn-Teller 畸变，并降低了对称性，这体现在金属中心周围的键长变化中。</p>\n</li>\n</ol>\n<p>接下来，构建了 4×1×1 超晶胞结构的 SrCoxFe1-xO3（其中 x = 0.25、0.50、0.75）无空位的化合物，组成分别为 SrCo0.75Fe0.25O3、SrCo0.50Fe0.50O3 和 SrCo0.25Fe0.75O3，基于 Co/Fe 的位置和组成进行不同配置的设计。可能的配置如图 1 所示。三种钙钛矿结构：（1）SCF-0.25，其中由 25% 的 FeO6 八面体和 75% 的 CoO6 八面体组成；（2）SCF-0.50，50% 的 FeO6 八面体和 50% 的 CoO6 八面体交替排列；（3）SCF-0.75，25% 的 CoO6 八面体和 75% 的 FeO6 八面体交替排列，形成了能量上有利的结构。然而，50% 的 CoO6 八面体与 50% 的 FeO6 八面体交替排列的结构并不稳定。与 SCF-5 类似，SCF-0.50 中 Fe 多面体相邻的配置更具能量稳定性。<br />\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img66.jpg\" width=\"50%\"></p>\n<p align=\"center\"><strong>图1. 体相SCF钙钛矿的优化结构。Co以蓝色表示，Fe以金色表示，O以红色表示，Sr以绿色表示</strong></p>\n<!-- <img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img66.jpg\" alt=\"图1. 体相SCF钙钛矿的优化结构\" style=\"width:50%; height:auto;\"> -->\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img78.jpg\" width=\"50%\">\n<p align=\"center\"><strong>方案1. 显示了钙钛矿的各种氧空位排序，从（a）到（e）。请注意，氧空位（a）导致MO6八面体和MO4正交平面的交替层，而（b）导致所有MO5正四面体，（c）和（d）具有邻近的金属多面体的氧空位，其中MO6八面体在（c）中插入MO4正交平面，在（d）中插入MO5正四面体；而在（e）中，MO6八面体插入MO5正四面体，氧空位位于共享的金属中心。显示了一个钙钛矿单元格（SrMO3）及其考虑生成空位的O原子标记</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/1.jpg\" width=\"50%\">\n<p align=\"center\"><strong>表1  \n计算的SCF钙钛矿的晶格参数和相对能量（ΔE，单位：kcal/mol）。  \n晶格参数a是针对SrCo0.8Fe0.2O3每个单元格计算的。实验晶格参数在括号中给出[22]</strong></p>\n<p>以上观察结果促使我们探索了氧空位有序的氧缺陷钙钛矿 SrFeO2.5、SrCoO2.5、SrCo0.8Fe0.2O2.5、SrCoxFe1-xO2.5 和 SrCoxFe1-xO2.75（其中 x = 0.25、0.50、0.75）。由于不同的 SrCo0.8Fe0.2O3 配置之间的能量差异极小（&lt;2 kcal/mol），因此所有五种配置都被考虑用于缺陷钙钛矿的研究。氧空位有序性在 SrCo0.8Fe0.2O2.5 中通过两种方式进行研究：（i）钙钛矿结构中，过渡金属位点交替排列 MO6 八面体和 MO4 方形平面；（ii）钙钛矿结构中，过渡金属位点配位为 MO5 方锥体，如方案 1 所示。氧空位在 SrCoxFe1-xO2.5（x = 0.25、0.50、0.75）中的生成方式是 MO6 八面体与 MO4 方形平面交替排列，而另一种配置中，MO6 八面体与 MO5 方锥体交替排列。SrCoxFe1-xO2.75（x = 0.25、0.50、0.75）钙钛矿是通过去除共享金属中心的氧来构建的，这样会导致 MO6 八面体与 MO5 方锥体交替排列。对于 SF 和 SC 钙钛矿，也考虑了类似的氧空位配置。</p>\n<p>在氧缺陷的 SF 和 SC 钙钛矿中，方案 1 所示的所有氧空位配置对 SF 钙钛矿均为有利。在 SC 的情况下，形成 CoO5 方锥体的氧空位有序结构相对稳定。这些氧缺陷钙钛矿的相对稳定性与金属阳离子的配位环境（方锥和方形平面）以及由金属氧化态引起的畸变有关。优化后的结构和晶胞参数见支持信息中的图 S3 和表 S3。    在氧空位有序的 SrCo0.8Fe0.2O2.5 钙钛矿中，SCF-5a 配置由于相邻的 Fe 离子在八面体和方形平面配位下的相对稳定性较高，因为 FeO4 方形平面与 FeO6 八面体共享角，这有助于支持层间结构。对于氧空位有序的 MO5 方锥配置，SCF-1b 和 SCF-3b 比 SCF-2b、SCF-4b 和 SCF-5b 稳定 18.34 kcal/mol。所有氧缺陷 SCF 配置的计算晶胞参数和相对能量详见支持信息中的表 S4。   对于 SrCoxFe1-xO2.5（x = 0.25、0.50、0.75），氧空位配置的能量不利，而在 SrCoxFe1-xO2.75（SCF-0.25、SCF-0.50 和 SCF-0.75）钙钛矿中，氧空位有序结构最终趋于形成能量上有利的结构。SCF-0.50 结构中，FeO5 方锥嵌入 CoO6 八面体之间时表现出能量上的稳定性，而 CoO5 方锥嵌入 FeO6 八面体之间的结构则不稳定。过渡金属中心的有趣配位促使我们进一步探讨氧缺陷钙钛矿的化学反应性。</p>\n<h2 id=\"能带结构dos和pdos\"><a class=\"anchor\" href=\"#能带结构dos和pdos\">#</a> 能带结构，DOS 和 PDOS</h2>\n<p>计算得到的块 SrFeO3、SrCoO3、SrCo0.8Fe0.2O3、SrCoxFe1-xO3 和氧缺陷 SrCoxFe1-xO2.75 钙钛矿的电子能带结构详见支持信息中的图 S4 和图 S5。所有研究的配置在铁磁（FM）配置下均表现稳定。图 2 展示了优化后的钙钛矿的计算费米能量。  根据计算得到的能带结构，SF、SC、SCF-5 和 SrCoxFe1-xO3 都是金属，这与之前报道的理论和实验结果一致【53,54】。SCF-5 与 SF 之间的费米能量差异较大（0.33 eV），这是由于在费米能级以上添加了自由电子态，且 Co 的引入增加了额外的电子。SF、SC 和 SCF 结构中引入有序的氧空位使费米区填充了氧的 2p 态，并保持了无带隙的金属性质。计算得到的 SrCoxFe1-xO2.75 的带隙遵循以下趋势：SCF-0.25（0.17 eV）&lt; SCF-0.50（0.74 eV），表现出非金属行为，而 SCF-0.75 则表现为金属。SCF-0.50 的带隙大于 SCF-0.25，这解释了其较高的化学稳定性。在 SCF-0.25 中 Fe 浓度的增加和 SCF-0.75 中 Co 浓度的增加导致带隙的减小，表明氧 2p 能级的占据。</p>\n<p>所有钙钛矿的电子结构通过分析态密度（DOS）和部分态密度（PDOS）进行了研究，相关数据见支持信息中的图 S6、S7、S8、S9 和 S10。从 PDOS 中可以看出，费米能级附近的显著贡献来自金属（Fe 和 Co）的 d 轨道，其中存在未配对电子。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img95.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图2  \n计算的优化钙钛矿的费米能级（单位：eV）</strong></p>\n<h2 id=\"光电特性\"><a class=\"anchor\" href=\"#光电特性\">#</a> 光电特性</h2>\n<p>为了理解这些材料的导电行为，计算了优化后钙钛矿的功函数（有无氧空位）。图 3 展示了各种优化后钙钛矿的计算功函数。在 SC 中，与 SF 中的 Fe 相比，Co 多了一个额外的 3d 电子，因此 3d 带向更高能级移动，结果，费米能级从 SrFeO3 中的 - 7.53 eV 移动到 SrCoO3 中的 - 7.39 eV，如支持信息中的 DOS 图（图 S6）所示。这导致与 SF 相比，SC 的功函数增加。在 SCF-5 中，Fe 替代 Co 导致相对于纯 SC 和 SF 钙钛矿，功函数进一步降低。氧缺陷钙钛矿含有较低氧化态的金属（在 SrMO2.5 中为 M3+，在 SrMO3 中为 M4+），这导致功函数的降低。氧缺陷 SCF-5a 的功函数低于 SCF-1b，这是由于金属多面体配位不同。氧缺陷的 SCF-0.25 和 SCF-0.75 的功函数比其无氧空位的对应物低 0.16 eV。氧缺陷 SCF-0.50 的功函数比无氧空位的 SCF-0.50 高 0.49 eV，这归因于 SCF-0.50 的结构和组成，其中两个 FeO5 方锥相邻。总结来说，氧缺陷 SCF-0.50 具有最高的功函数，这支持其非导电行为，而 SF-b 则具有最低的功函数，是一种导电材料。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img104.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图3  \n计算的各种优化钙钛矿的功函数（单位：eV）。给出了用于计算的确切成分及其相应的功函数值</strong></p>\n<h2 id=\"bader-电荷分析\"><a class=\"anchor\" href=\"#bader-电荷分析\">#</a> Bader 电荷分析</h2>\n<p>表 2 中的 Bader 电荷计算用于量化 钙钛矿的电荷转移量，并帮助理解电子特性的变化。在所有考虑的配置中，晶格中 Sr 的平均电荷接近 + 2，这显示出该金属的惰性特性。Sr 阳离子的作用是通过作为电荷供体为过渡金属层间提供刚性，从而为 MO3 框架提供约 2 个电子。晶格氧的电荷在 SC、SF 和 SCF-5 钙钛矿中在 - 1.16 到 - 1.18e 之间波动，而在氧缺陷钙钛矿中，平均电荷增加，SC-b 和 SF-b 的电荷在 - 1.42 到 - 1.45e 之间，SCF-5a 和 SCF-1b 则分别在 - 1.32 到 - 1.37e 之间。氧缺陷钙钛矿中电荷积聚更多，是由于氧 2p 轨道的空位被填充，导致零带隙的形成。在 SC 和 SF 钙钛矿中，Co 和 Fe 离子的电荷分别为 1.49 和 1.57e，而在 SCF-5 中，电荷分别增加了 0.04 和 0.1e。Bader 电荷分析表明，电子从 Co 和 Fe 阳离子转移到 O 阴离子。在 SCF-5 中，Fe 掺杂导致 Co 和 Fe 到 O 离子的电荷转移增加。但与 SC-b 和 SF-b 钙钛矿相比，氧缺陷 SCF-1b 和 SCF-5a 的电荷转移减少。Co、Fe 和 O 原子的电荷与纯离子相互作用（即 Co³⁺/Fe³⁺、Co⁴⁺/Fe⁴⁺和 O²⁻）相比，存在较大的偏差，表明 M-O 键之间存在结合的离子和共价特性。</p>\n<p>图 4 展示了钙钛矿的 2D 电子密度分布，以说明层的键合和电荷分布特性。在这些钙钛矿中，观察到氧和金属原子的轨道轻微极化，表明 M-O 键既具有共价性，也具有离子性（见图 S11）。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/2.jpg\" width=\"50%\">\n<p align=\"center\"><strong>表2  \n优化的体相和缺氧序列化SF、SC和SCF钙钛矿的平均原子Bader电荷</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img105.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图4  \nSCF钙钛矿的电子概率密度分布等高线</strong></p>\n<h2 id=\"氢化钙钛矿\"><a class=\"anchor\" href=\"#氢化钙钛矿\">#</a> 氢化钙钛矿</h2>\n<p>氢储存性能的研究通过将氢以以下三种形式引入钙钛矿结构中：（1）氢原子，(2) 氢分子，(3) 水分子。将氢引入优化的氧缺陷 SF-b、SC-b、SCF-1b 和 SCF-5a 钙钛矿晶格中时，发现具有不同氧空位位置的 SrCo₀.₈Fe₀.₂O₂.₅钙钛矿的结构并不稳定。另一方面，氧缺陷 SrCoxFe₁₋xO₂.₇₅钙钛矿对氢化反应较为有利。图 5 展示了所有优化的氧空位钙钛矿，这些结构适合氢储存。所有研究的氧缺陷钙钛矿在氢化过程中都在能量上得到了稳定化，SF 钙钛矿中 Fe 含量的氢化稳定化能为 1.5 至 5 eV。然而，在 SC 和 SCF 钙钛矿中，氧空位位置对氢化是选择性的。具有 CoO₅方锥的氧缺陷 SC 在能量上是可行的，而其他氧缺位结构则不可行。在 SCF 钙钛矿中，含有 MO₆八面体与 MO₅方锥结构交错的配置是优选的氢化位置。   为研究氢储存，氢原子和氢分子被引入到 1x1x4 超晶胞中的优化空位。图 5 展示了氢化钙钛矿的所有优化结构，图 6 和图 S12 则展示了金属配位框架，重要的键长和键角，以及氢化钙钛矿的电子概率密度分布轮廓。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img112.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图5  \n各种缺氧钙钛矿（上图）和氢化钙钛矿（下图）的优化结构。蓝色、金色、红色和灰色原子分别表示Co、Fe、O和H。蓝色圆圈表示H和H2与金属的相互作用。图中还显示了氢化钙钛矿形成的相互作用能（I.E.，单位：eV）</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img121.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图6  \n氢化SF、SC和SCF钙钛矿的优化金属配位框架和电子概率密度分布等高线。图中还显示了键长（单位：Å）和键角（单位：°）</strong></p>\n<p>氢化的 SF 钙钛矿（由 FeO₅方锥构建）的优化结构中，Fe–H 的短键距为 1.71 Å，长键距为 2.29 Å，并伴有畸变的 Fe 配位体。与之类似，具有 CoO₅方锥的 SC 钙钛矿显示出 Co–H 的键距分别为 1.78 和 1.79 Å。氢分子引入 SC 晶格时，H–H 键伸长至 1.67 Å，并且氢占据稳定的位置，形成 Co–H（距离为 1.89 和 1.85 Å）和 O–H（距离为 0.99 Å）。氢化 SF 和 SC 钙钛矿的电子概率密度分布清楚地显示出氢与 Fe 的 3d 轨道之间的轨道重叠，形成 Fe–H 键；而在 SC 中，轨道重叠发生在氢和两个 Co 中心之间，形成 Co–H–Co 桥接结构。含氢分子的 SC 中，电子密度分布图显示了 O–H 和 Co–H–Co 桥的形成，表明 Co 和氧的轨道与氢轨道之间的混合。   在 SF 钙钛矿的氧空位晶格中未观察到氢分子的引入。在 SF 和 SC 钙钛矿中，氢的平均电荷为 0.56 e，但在氢分子与 SrCoO₂.₅晶体的结合中，氢在 O–H 处的电荷为 0.62 e，在 Co–H 处为 0.58 e。其他氧空位 SF 模型的稳定配置是通过引入中性氢原子到 FeO₄方平面和 FeO₅方锥的空位中，这些结构形成了稳定的氢化位置，氢的典型电荷为 0.59–0.61 e。Fe–H 的键距变化在 1.87 和 1.92 Å 之间。随后，将氢分子引入包含 FeO₄方平面的结构中，导致了由于 O–H 的形成，晶胞的倾斜。O–H 的键距为 1 Å，氢的电荷为 0.62 e。Fe–H 的键距为 1.87 和 1.89 Å，氢的电荷为 0.58 e。同样，氢分子被引入 FeO₅方锥的结构中，也导致了 O–H 的形成，键距为 1 Å，而 Fe–H 的键距为 2.01 和 2.05 Å，氢的电荷为 0.62 e。有趣的是，在 FeO₅方锥的共享空位中引入 H₂并没有导致 O–H 的形成，而是作为氢桥连接在两个 Fe 中心之间，H–H 键距为 0.79 Å，氢的电荷为 0.55 e。   氢在 H₂分子中的电子电荷相较于氢氧基（OH）较小，这是由于氢氧基中电子的部分去局化。在氢化过程中的键合特性通过电子概率密度分布图进一步阐明（见图 6）。这些电子密度分布图进一步证明了金属和氢之间存在显著的轨道重叠和极化，导致 Fe–H 键的形成。当 H₂分子被引入氧缺陷的 SF 钙钛矿时，电子密度轮廓显示 H–H 键断裂并形成 O–H 和 Fe–H 键；然而，在 H₂占据两个 FeO₅方锥之间的共享氧空位时，H–H 键并未断裂，仍然保持为 H₂分子。所有这些观察结果表明，SF 钙钛矿模型可能作为高效的氢储存材料。</p>\n<p>氢化 SCF 钙钛矿（SrCoxFe1-xO2.75）展示了显著的结合特性，这些特性取决于 Fe 和 Co 的组成以及它们的配位环境。氢原子和氢分子被引入到优化的氧缺陷 SCF 模型中。在所有三种 SCF 配置中，氢原子占据了 SCF-0.75 中的一个能量上有利的位置，即位于 CoO5 和 FeO5 方锥之间，且这两者与 CoO6 八面体交错排列。氢分子则在 SCF-0.25 和 SCF-0.50 中占据了有利位置（即位于 CoO5 和 FeO5 方锥之间，这两者与 FeO6 八面体交错排列；以及位于两个 FeO5 方锥之间，这两者与 CoO6 八面体交错排列）。在这些 SCF 配置中，有利于 H2 分子结合的 SCF 钙钛矿并不倾向于在其位置上结合氢原子，反之亦然。在氢掺入 SCF-0.75 钙钛矿时，观察到短的 Co–H 和拉长的 Fe–H 键距离分别为 1.74 Å 和 1.97 Å，其中氢原子带有 0.57 e 的电荷。Co–H 键的形成也可以从电子密度图看出，在其中可以看到氢和钴轨道之间的显著混合。氢分子在 SCF-0.50 中掺入到两个 FeO5 方锥之间时，氢分子沿 c 轴方向以单齿配位的方式定向；H–H 键距离为 0.78 Å，氢原子带有 0.54 e 的电荷。而氢分子放置在 SCF-0.25 的 CoO5 和 FeO5 方锥之间时，氢分子倾斜并且垂直于 c 轴，采用了双齿配位的方式。H–H 键的距离为 0.80 Å，氢原子带有 0.55 e 的电荷。电子密度分布图显示 H2 与金属和氧之间没有轨道重叠。总之，这些 SCF 钙钛矿可以作为潜在的氢气储存材料。</p>\n<p>由于我们研究中的所有氧缺陷模型在能量上对 SF 钙钛矿是有利的，我们通过在 300 K 和 1 个大气压下将水分子引入氧缺陷 SrFeO3 片层表面，进行了第一性原理分子动力学计算。模拟结果显示，水分子开始与表面相互作用，并在 197 fs 时与表面的氧原子形成氢键（见图 7）。在 302 fs 时，水被分解成 O–H 和 H，其中 H 与表面的氧形成键，键距分别为 1 Å 和 0.91 Å（见图 7）。这两个羟基 (O-H) 通过氢键相互连接，距离为 1.8 Å。此时，这两个羟基之间的氢键在 544 fs 时断裂，Fe–OH 的距离为 3.2 Å（见图 7）。羟基在 768 fs 时开始向 Fe 靠近，距离为 2.73 Å，O–H 键保持完好，O–H 水分子 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mtext>‒</mtext><msub><mi>H</mi><mrow><mi>w</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">O‒H_{water}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord\">‒</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">er</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ) 的键距为 0.98 Å，表面 O–H 水 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>O</mi><mrow><mi>s</mi><mi>u</mi><mi>r</mi><mi>f</mi><mi>a</mi><mi>c</mi><mi>e</mi></mrow></msub><mo>−</mo><msub><mi>H</mi><mrow><mi>w</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">O_{surface}-H_{water}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">ce</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">er</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>) 的键距为 0.96 Å。进一步的模拟导致水分子的质子迁移到邻近的表面氧上，并在 1.06 Å 的距离形成 O–H 键。这个羟基在 1.98 Å 的距离与水中的羟基通过氢键结合。当达到 1169 fs 时，质子返回到最初的氧化物位点，Fe–OH 和 O–H 的键距分别为 2.63 Å 和 1 Å。纯 SF 钙钛矿中的氧空位被羟基离子填充，这得益于水分子的质子与邻近氧化物离子的强结合。质子通过从一个氧化物离子跳跃到另一个氧化物离子来迁移。因此，水分解和质子转移反应可以表示为：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>H</mi><mn>2</mn></msub><mi>O</mi><mo>+</mo><msub><mi>O</mi><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>v</mi><mi>s</mi><mi>k</mi><mi>i</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>r</mi><mi>f</mi><mi>a</mi><mi>c</mi><mi>e</mi><mo stretchy=\"false\">)</mo></mrow></msub><mo>+</mo><msub><mi mathvariant=\"normal\">□</mi><mrow><mo stretchy=\"false\">(</mo><mi>v</mi><mi>a</mi><mi>c</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>y</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>e</mi><mo stretchy=\"false\">)</mo></mrow></msub><mo>→</mo><mi>O</mi><mi>H</mi><mo>−</mo><mo>−</mo><mi>O</mi><mi>H</mi><mo>→</mo><mn>2</mn><mi>O</mi><mi>H</mi></mrow><annotation encoding=\"application/x-tex\">H_2O + O_{(perovskite surface)} + \\Box_{(vacancy site)} \\rightarrow OH - - OH \\rightarrow 2OH \n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">ero</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">ki</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">es</span><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">ce</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0302em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord amsrm\">□</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">an</span><span class=\"mord mathnormal mtight\">cys</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span></span></span></span></span></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans3/img128.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图7  \n在1250 fs模拟过程中，氧缺陷SrFeO3表面和水分子靠近表面的快照</strong></p>\n<h1 id=\"结论\"><a class=\"anchor\" href=\"#结论\">#</a> 结论</h1>\n<p>在本研究中，我们比较了体相 SrCoO3、SrFeO3、铁掺杂 SrCo0.8Fe0.2O3 和 SrCoxFe1-xO3（x = 0.25, 0.50, 0.75）钙钛矿的结构和电子性质。我们的计算结果表明，铁掺杂钙钛矿中 Fe 的位置和组成显著影响这些钙钛矿的电子性质和反应性。铁掺杂钙钛矿倾向于形成 Fe 多面体相互邻接的结构。计算的能带结构显示，除了氧空位的 SCF-0.25 和 SCF-0.50 表现为非金属性质外，体相和氧缺陷的 SF、SC 和 SCF 钙钛矿表现为金属性质。组成和铁掺杂的影响也体现在功函数的计算中，其中观察到 SrFeO2.5 表现为导电性，而 SrCo0.5Fe0.5O2.75 表现为非导电性。从 Bader 电荷分析可以注意到从 Co/Fe 阳离子到氧阴离子的电子转移。氢化氧缺陷 SCF 钙钛矿在 HER（氢气演化反应）机制中根据钙钛矿结构和组成的不同，选择性地吸附了中间体。氢原子和氢分子在这些钙钛矿配置中根据 Co 和 Fe 的配位环境表现出优先的键合和定向性。在 SCF-0.75 中，当氢原子占据空位时形成了一个能量稳定的结构，而氢分子则在 SCF-0.25 中占据了一个有利的位点，呈线性 H2 配置，而在 SCF-0.50 中则呈侧面 H2 配置。位于氧空位位点的氢分子在 SCF-0.25 和 SCF-0.50 中引发了结构转变，从而为调控材料功能性开辟了可能性。通过将水分子引入氧缺陷 SF 钙钛矿表面进行的第一性原理分子动力学计算揭示了水分子被分解成羟基离子和质子。氧空位被羟基离子占据，水分子的质子与邻近的氧化物离子结合。总之，这些观察结果表明，Fe 在稳定 HER 中间体方面发挥了重要作用，从而提高了催化活性。本研究为铁掺杂钙钛矿中 Fe 位置和组成以及氧缺陷有序性的作用提供了有价值的见解，为未来设计和开发钙钛矿用于 HER 提供了方向。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91%E4%BA%8C/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91%E4%BA%8C/",
            "title": "文献翻译(二)",
            "date_published": "2024-11-24T03:06:28.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">一种具有拓扑转化特性的铁氧体突触晶体管(A Ferrite Synaptic Transistor with Topotactic Transformation)</b></strong></p>\n<p>受生物神经形态系统的启发，模拟生物突触功能的人工突触器件的硬件实现备受关注。本文展示了一种基于晶相间拓扑相变的三端铁氧体突触器件。通过电解质门控控制的拓扑相变在褐铁矿 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和钙钛矿 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mrow><mn>3</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{3−δ}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span> 之间实现，并通过晶体和电子结构分析加以确认。利用门控可调的多级导电状态，成功构建了一种具有电解质门控铁氧体薄膜的突触晶体管，这些导电状态源自拓扑相变诱导的不同缺氧钙钛矿结构 SrFeOₓ。这种三端人工突触能够模拟重要的突触功能，如突触可塑性和脉冲时间依赖性可塑性。由铁氧体突触晶体管构成的神经网络的仿真结果表明，该系统具有较高的分类精度。这些结果为高级拓扑相变材料在设计高性能人工突触中的潜在应用提供了见解。</p>\n<h1 id=\"正文\"><a class=\"anchor\" href=\"#正文\">#</a> 正文</h1>\n<p>人脑中的学习和记忆是通过生物突触网络之间连接强度的动态变化来实现的【1】。人脑能够更强大地处理数据和识别模式，主要得益于神经元之间这种突触连接的存在【2】。因此，设计具备生物突触功能的人工突触对于实现模拟突触功能的神经网络硬件化至关重要【3】。突触可塑性和非易失性是模仿突触中学习和记忆的关键特性【4】。基于硅的互补金属氧化物半导体（CMOS）电路利用数十个晶体管来模拟突触活动。然而，这种方法需要非常大的面积且消耗大量能量，从而阻碍了其进一步发展【6】。基于金属氧化物【7–12】、铁电材料【13,14】和相变材料【15,16】的两端子忆阻器，作为能够模拟突触功能的非易失性存储器引起了广泛关注，如突触可塑性和脉冲时间依赖性可塑性（STDP）。这些器件中的多种可调电阻状态被用于存储突触权重，展现出突触可塑性。 近年来，提出了三端电解质栅控晶体管用于人工突触的应用。由于具备额外的栅极控制，三端器件似乎更适合实现低能耗的突触功能【18–22】【4,23,24】。信号传输和学习过程可以同时进行，因为信号传输通过通道完成，而突触权重通过栅极端调控【17】。此类突触晶体管极大地丰富了类脑计算设备，为构建人工神经网络提供了一种有前景的方法【25,26】。这类器件的通道需要采用先进的薄膜材料，以在电解质栅控下实现多重电阻状态。</p>\n<p>在功能氧化物中，拓扑相变可实现晶体相之间的可逆结构变化，这与作为相变存储基础的非晶态和晶态之间的相变不同【27】。拓扑相变通过调节氧化物中的氧化学计量比，提供了一种有效的方法来操控物理性质【28,29】。锶铁氧化物 (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub><mo separator=\"true\">,</mo><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">SrFeO_x, SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span>) 拥有拓扑相变特性，已在燃料电池、氧气传感器、电阻存储器和催化剂等多种技术应用中得到了研究【30–33】。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span> 的晶体结构呈现多种不同的缺氧钙钛矿结构，氧化学计量比 x 在 2.5 至 3 之间变化【29,34–36】。其中，具有<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 八面体与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 四面体交替层的褐钙矿 $ (BM)-SFO$ 为绝缘体，而通过氧原子填充空位的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>V</mi><mo>−</mo><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">PV-SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span>，拥有以<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 八面体为角共享的结构（图 1b），表现出金属导电性【32,35,36】。目前，大多数研究是通过控制不同氧气环境下的氧化还原反应来实现<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span> 的拓扑相变，但这限制了其在类脑计算电子器件中的应用。近年来，离子液体栅控 (ILG) 作为一种新颖的材料性能调控方法，逐渐受到关注，它不仅通过静电效应，还通过离子迁移引发的相变来实现电化学效应【37-39】。Lu 等的开创性研究显示，通过 ILG 控制的功能离子在钴酸盐薄膜中的插入和提取，可实现不同相之间的可逆相变【38】。这一成果表明，拓扑相变材料可能是用于电解质栅控突触晶体管通道的理想候选材料。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans2/img43.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 1. 电解质栅控下结构相的演变。\na,b) 沿着 SrTiO₃ 衬底的 [100] 方向，展示了褐钙钛矿 SrFeO₂.₅ (a) 和钙钛矿 SrFeO₃₋δ (b) 薄膜的示意晶体结构。\nc,d) 原始褐钙钛矿相 SrFeO₂.₅ 薄膜的横截面 HAADF-STEM 图像 (c) 和面内 Sr-Sr 距离 (d)。\ne,f) 栅控后的钙钛矿相 SrFeO₃₋δ 薄膜的横截面 HAADF-STEM 图像 (e) 和面内 Sr-Sr 距离 (f)。</strong></p>\n<p>在本研究中，我们通过电解质栅控实现了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（2.5 ≤ x ≤ 3.0）外延薄膜的可逆拓扑相变。我们利用这种连续的拓扑相变构建了基于离子液体栅控的 SFO 薄膜突触晶体管。该突触晶体管展示了重要的突触功能，包括增强、抑制和脉冲时间依赖的可塑性（STDP）。这种在 SFO 薄膜中实现 BM 相和 PV 相之间拓扑相变的突触晶体管，为构建未来的类脑计算系统开辟了一条新途径。</p>\n<p>采用脉冲激光沉积法在（001）取向的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（STO）衬底上生长了 BM-SFO 外延薄膜（详见实验部分）。X 射线衍射（XRD）和 X 射线倒易空间映射（RSM）图谱表明，所生长的薄膜包含面外 BM 相，其缺氧的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 四面体层垂直于薄膜表面（图 S1a, b，支持信息）[34,36,40]。随后，我们通过离子液体栅控（ILG）研究 BM 相和 PV 相之间的结构转变。使用离子液体 N,N - 二乙基 - N-(2 - 甲氧基乙基)-N - 甲基铵双（三氟甲基磺酰）亚胺（DEME-TFSI）作为电解质栅控介质。由于拓扑相变的非易失性特征，我们可以进行各种非原位测试，以探究栅控后 SFO 薄膜的变化。经过 ILG 处理后，薄膜的晶体结构转变为类似 PV 的结构（图 S1c, d，支持信息）。我们监测了 SFO 外延薄膜在 ILG 过程中进行的原位 XRD <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mtext>–</mtext><mn>2</mn><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">θ–2θ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mord\">–2</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span> 扫描，以直接观察结构相变（图 S2，支持信息）。这些结构测试表明，通过 ILG 引发的 BM 相和 PV 相之间的转变是可控且非易失的。相变过程中所需的氧可能来自大气 [41] 以及离子液体中的水分含量 [38,39]。扫描透射电子显微镜（STEM）结果进一步证实，SFO 薄膜在原子尺度上通过 ILG 发生了 BM 相和 PV 相之间的相变。在高角度环形暗场（HAADF）STEM 图像中，缺氧四面体（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）和完全氧化的八面体（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）子层交替堆叠，显示出周期性暗条纹（图 1c）。四面体和八面体子层内 Sr-Sr 的平面原子间距分别约为 4.4 Å 和 3.4 Å（图 1d）。在 SFO 薄膜经过负向栅控后，典型的 PV 结构清晰可见（图 1e），其平面内 Sr-Sr 原子间距约为 3.83 Å（图 1f）。从 HAADF-STEM 图像中获得的平面 (面内) 和面外晶格常数总结在支持信息的图 S3 中。</p>\n<p>相关的电子能量损失谱（EELS）（图 S4，支持信息）和 X 射线吸收光谱（XAS）（图 S5，支持信息）也揭示了负向栅控后 BM 相向 PV 相的相变。初始的 BM-SFO 薄膜为绝缘体，而通过 ILG 形成的 PV-SFO 薄膜具有更高的导电性（图 S6，支持信息）。此外，我们可以通过施加偏压栅控来电控转换薄膜的颜色，颜色从浅黄色变为不透明（图 S7，支持信息）。所有这些物理特性使电解质栅控的 SFO 薄膜在构建高稳定性的突触晶体管方面具有极大的应用潜力。</p>\n<p>我们设计了一种电解质栅控晶体管架构，使用原始的 BM-SFO 外延薄膜作为通道材料，以模拟生物突触的功能。图 2a 展示了该器件结构的示意图。利用标准光刻技术将生长的 BM-SFO 薄膜图案化为微米级通道，并布置同平面的栅电极（详见实验部分）。图 2b 显示了典型器件的光学图像，图中包含一滴 DEME-TFSI 电解液。栅极电压 VG 以 1 mV/s 的速度扫描，源 - 漏电压 VSD 为 0.6 V。传输曲线显示出明显的滞回环，表明具有良好的可逆性（图 2c）【41】。栅极泄漏电流 IG 比源 - 漏电流 ISD 小约两个数量级，反映出 IG 对器件性能的影响可以忽略不计（图 2d）。通道可以在低导电态和高导电态之间可逆调控。随着 VG 从 0 扫向负值，器件导电性 (电导率) 增加；而当 VG 大于 0 时，器件导电性 (电导率) 降低。传输曲线与 SFO 薄膜的拓扑相变现象一致。负向栅控可触发 SFO 薄膜从绝缘的 BM 相转变为导电的 PV 相，而正向栅控可使 SFO 薄膜从导电的 PV 相回到绝缘的 BM 相。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans2/img59.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 2. 电解质栅控铁氧体晶体管\na) 晶体管结构和测量设置的示意图。SrFeOx 薄膜形成源（S）和漏（D）电极之间的通道，离子液体（DEME-TFSI）作为栅控介质\nb) 一种典型铁氧体晶体管设备的光学图像，显示了离子液滴\nc) 片电导率与栅电压的关系。此处，栅电压 VG 以 1 mV s⁻¹ 的速度扫描。箭头指示了栅电压扫描的方向\nd) 转移曲线测量中的栅漏电流\ne) 片电导率 G 随时间变化的曲线，负栅电压序列（−0.6、−1.2、−1.8、−2.0 V）每次脉冲间隔 6 分钟，正栅电压序列（2.0、1.8、1.2、0.6 V）每次脉冲间隔 6 分钟。源-漏电压 VSD = 0.6 V</strong></p>\n<p>为了展示突触功能所需的多级状态，电解质栅控的 SFO 晶体管通过向栅极发送一系列电压脉冲进行操作（图 2e）。这些脉冲序列包括 “写入” 操作，即一系列 VG 脉冲施加到栅极。在脉冲序列期间，通道电导率在 “读取” 操作中以 VSD = 0.6 V 进行测量。与大多数突触晶体管相比，SFO 基突触晶体管的电导率（≈5 nS）非常低（参见支持信息表 S1），这种超低电导率对于设计大规模器件阵列的神经网络尤为重要。  最初，BM-SFO 通道在零偏压下保持 200 秒电导率恒定，从而排除 VG = 0 时化学反应的影响。在负电压脉冲序列作用下，通道电导率从 5 nS 逐步增加至 12 nS。在每次负 “写入” 操作期间，通道电导率由于 SFO 通道从绝缘 BM 相向导电 PV 相的相变而增加。更高的 VG 值会引起更大的通道导电调制。通道电导率在每次 “写入” 操作后可保持不变，表明具有固有的非易失性行为。这种非易失性源于结构相的稳定性，对于实现低能耗的神经形态器件至关重要。基于绝缘 BM 和金属 PV 混合相的不同比例，这些电压控制的多级状态得以形成。施加负 VG 可增加通道电导率，而施加正 VG 则可降低通道电导率（图 2e）。该状态可至少稳定保持<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding=\"application/x-tex\">2 × 10^4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span> 秒，表现出良好的保持特性（参见支持信息图 S8）。值得注意的是，通过拓扑相变诱导的 PV-SFO 薄膜在一年后仍然保持稳定。良好的保持特性对于离线训练的人工神经网络尤为重要。随后的一组正 VG 脉冲将器件电导率恢复至初始状态。具有 VG 控制的多级导电状态的电解质栅控铁氧体晶体管为设计突触器件提供了独特机会。</p>\n<p>利用电压控制的多级导电状态，我们展示了电解质栅控铁氧体晶体管能够表现出神经形态器件的突触功能，这些功能是神经形态设备的构建基础。激发兴奋性突触后电流（EPSC）是神经元传输的主要过程的关键特征。为评估 SFO 晶体管中的突触响应，我们向栅极施加了一系列不同偏置幅度的突触前脉冲，并在 VSD = 0.6 V 的条件下同时监测源 - 漏电流（ISD）。脉冲宽度固定为 5 秒。显然，突触前脉冲（VG）在 SFO 通道中触发了突触后电流（ISD）（图 3a），且 EPSC 可以通过改变 VG 脉冲幅度来调节。短期记忆到长期记忆的过渡利用了静电和电化学效应，并随 VG 的增加而发生（图 3a）。在这里，我们主要利用 SFO 薄膜的拓扑相变来模拟生物突触的长期现象。  此外，EPSC 可以通过改变突触前脉冲的脉冲宽度来调节。施加的栅极脉冲幅度固定为 - 2 V。随着脉冲宽度的增加，栅极脉冲触发的 EPSC 峰值和保持值增加（图 3b）。图 3c 显示，通过向电解质栅控 SFO 晶体管发送交替的负向和正向栅极脉冲，可以控制双稳导电状态。施加 16 个 - 1.8 V 的负向 VG 脉冲将电导率从 4.8 nS 增加到 7.8 nS。接着，使用 24 个幅度为 + 1.8 V、脉冲宽度为 10 秒的 VG 脉冲，将导电状态逐步降低，电导率最终从 7.8 nS 减少到 4.8 nS。重复这些测量的循环表明非易失性存储行为完全可复现，并在第一次循环中重复了 VG 的过程。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans2/img72.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 3. 用于神经形态计算的铁氧体突触晶体管特性\na) 一系列栅电压脉冲（脉冲宽度为 5 秒）和不同电压幅值（−0.6、−1.0、−1.4 和 −1.8 V）引起的EPSC\nb) 一系列栅电压脉冲（幅值为 −2.0 V）和不同脉冲宽度（10、20、30、40 和 60 秒）引起的EPSC\nc) 通过应用两次栅电压脉冲（−1.8 V 和 1.8 V）对片电导率进行调节，并测试在零偏压下的保持性能。使用了 16 次 −1.8 V 脉冲和 24 次 1.8 V 脉冲。脉冲宽度为 5 秒，脉冲间隔为 10 秒\nd) VG 控制的长期增强和抑制行为，使用了 16 次负脉冲（−1.8 V，5 秒，间隔 10 秒）和 24 次正脉冲（1.8 V，10 秒，间隔 10 秒）\ne,f) 在铁氧体突触晶体管中实现的非对称（e）和对称（f）STDP 功能。这里，Δt 是预神经元脉冲和后神经元脉冲之间的时间差</strong></p>\n<p>突触器件应模仿的关键突触属性是突触可塑性，即突触改变其权重的能力【42】。生物突触中普遍存在的长期可塑性包括长期增强（LTP）和长期抑制（LTD），分别定义为突触权重的持续增加和持续减少【43】。这些状态可以通过施加一系列连续的栅极脉冲，借助拓扑相变来调整器件的导电性来实现。LTP 被广泛认为是支撑生物系统中学习和记忆的重要基础【44】。图 3d 展示了 LTP 作为脉冲数的函数的关系，其中脉冲幅度和宽度固定为 - 1.8 V 和 5 秒。由于增加的负栅脉冲会有效地增加 SFO 通道中的氧插层，通道导电性在从绝缘 BM-SFO 相逐渐向导电 PV-SFO 相转变的过程中单调增加，从而有效地模拟了生物突触中的 LTP 行为。  相对地，LTD 用于选择性削弱突触，在 LTP 后阻止进一步编码新信息。当向栅极电极施加正向突触脉冲时，会发生 LTD。为演示 LTD，我们在突触晶体管中施加了 24 个连续栅极脉冲，幅度为 + 1.8 V，脉冲宽度为 10 秒，间隔为 10 秒（图 3d）。正向栅控倾向于从 SFO 通道中提取氧离子，导致从金属 PV 相向绝缘 BM 相的转变。因此，连续的正向栅极脉冲将减少 EPSC。通过施加连续的负向和正向脉冲可以持续地模拟突触权重的增强和抑制，表现出可重复且非易失性的开关行为（图 3d）。值得注意的是，为使单次操作中的导电（电导率）更加明显，这里应用了宽的栅极脉冲。LTP 和 LTD 过程也可以通过窄栅极脉冲实现（图 S9，支持信息）。每个脉冲的能耗（约 4.8 pJ）比基于传统 CMOS 电路的人工突触（约 900 pJ）低几个数量级【5】，与已报道的电解质栅控突触晶体管相当，但高于一些近期的忆阻器报道（表 S1，支持信息）。当前的结果表明，SFO 器件有望模拟生物突触中发生的突触可塑性。</p>\n<p>脉冲时间依赖可塑性（STDP）是模拟突触功能的关键 Hebbian 学习规则之一，指的是突触权重因突触前后神经元脉冲的时间关联而发生变化【45–47】。突触权重的调节强烈依赖于突触前后脉冲的时间差 Δt，从而能够精确控制突触权重变化的符号和幅度。基于电解质栅控 SFO 晶体管的通道电导率可塑性，我们成功展示了该晶体管具有 STDP 功能。    为了模拟 STDP 功能，将多路复用器的输出端连接至晶体管的栅极电极，用于将突触前后脉冲的时间差 Δt 转换为电压脉冲【25,48】。有关该电路的更多详细信息见图 S10（支持信息）。在 SFO 晶体管中对一系列 Δt 从 - 600 到 600 s 进行测试，所得通道电导率百分比变化表明该器件呈现出典型的非对称 STDP 功能（图 3e）。在非对称 STDP 中，若突触前脉冲先于突触后脉冲到达（Δt &gt; 0），则发生 LTP；若突触前脉冲在突触后脉冲之后到达（Δt &lt; 0），则发生 LTD。得到的非对称 STDP 曲线可以拟合为指数衰减函数，模拟了生物突触系统的行为【45】。    通过选择合适的源脉冲形状，还可以实现对称 STDP（图 3f）。对于对称 STDP，通道电导率的变化仅依赖于 Δt 的绝对值。在基于铁氧体的晶体管中成功实现 STDP 表明该材料系统为开发类脑计算器件提供了新的途径。</p>\n<p>为了具体模拟电刺激下的突触增强和抑制过程，将字母 “I”、“O” 和 “P” 写入并从一个 3 × 5 人工突触阵列中擦除（图 4）。首先，将具有低电导率的全新人工突触以阵列形式排列。接着，通过施加 28 个 −1.8 V 栅极脉冲将字母 “I” 写入突触阵列中（图 4a）。脉冲持续时间为 2 秒，脉冲间隔为 4 秒。在脉冲列的作用下，通道电导率从 5 nS 增加到 6.7 nS。字母 “I” 的图像成功地存储在突触阵列中，并且由于拓扑相变的非易失性，该图像可以持续存储一个小时。这一非易失过程展示了这些人工突触如何用于数据存储。  在写入 “I” 图案后，通过施加虚假脉冲（−0.3 V 振幅，2 s 宽度）测试容错性（图 4b）。突触阵列对写入脉冲敏感，而对虚假脉冲不敏感。施加低偏压的虚假刺激脉冲列后，短期内的电导率增加迅速衰减（图 S11，支持信息）。这种短期现象可以用静电效应来解释【24】。当施加反向脉冲列时，通道电导率可恢复到初始值，且图案 “I” 完全消失，显示了这些人工突触的可擦除性。  为了更直观地展示写入和擦除过程，通过施加增强和抑制脉冲，先后将字母 “I”、“O” 和 “P” 的图像写入突触阵列（图 4c）。颜色等级表示在施加脉冲列后通道电导率的变化。上述实验结果表明，电解质栅控 SFO 晶体管可模拟生物突触，凸显了该材料系统在类脑计算器件开发中的创新潜力。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans2/img78.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 4. 钡铁氧体突触阵列用于图像记忆\na) 实现为可训练内存的 3 × 5 突触阵列。通过使用 28 次脉冲（幅值 −1.8 V，脉冲持续时间 2 秒，间隔 4 秒），将字母 “I” 图像输入到内存阵列中。这些突触在接下来的一个小时内表现出长期记忆，表明电解质门控产生了稳定的相态\nb) 突触内存不受干扰输入（幅值 −0.3 V，15 次脉冲，脉冲持续时间 2 秒）的影响，显示出良好的容错性。随后，通过施加正栅电压脉冲（幅值 1.8 V，22 次脉冲，脉冲持续时间 4 秒），突触阵列“遗忘”输入的图像\nc) 字母 “I”、\"O\" 和 \"P\" 的图像依次被编程到突触阵列中并从中擦除</strong></p>\n<p>我们进一步模拟了人工神经网络的性能，使用实验测得的导电状态（图 3d）对两个数据集进行了反向传播训练：一个是 “手写数字光学识别” 数据集中 8×8 像素的小图像版本【49】；另一个是 “修订版国家标准与技术研究所”（MNIST）数据集中 28×28 像素的大图像版本【50】。在我们的模拟中，采用了一个简单的三层网络（包含一个隐藏层），使用 CrossSim【51】模拟器，如图 5a 所示。图 5b 中的示意图显示了一个突触权重层的交叉阵列，这里，交叉阵列作为 “神经核心” 的一部分，执行矢量 - 矩阵乘积和外积更新操作【4,52】。  在增强和抑制过程中的累积分布函数绘制在支持信息的图 S12 中。图 5c 和 5d 展示了使用铁氧体突触晶体管训练神经网络的结果，以及理想浮点数神经网络性能的模拟，后者为该算法提供了理论上的极限。对于小数字，分类准确率在第二个训练周期内接近 90.6%，在 16 个训练周期后达到 95.2%（图 5c）。值得注意的是，对于小数字，理想数值训练的理论极限为 96.7%。对于大数字，我们的模拟显示，使用铁氧体突触晶体管的神经网络可以达到 92.7% 的分类准确率（图 5d）。虽然识别准确率略低于一些最近的突触器件【52,53】，但显著高于双端电阻式存储器（20-70%）和相变存储器设备（82.2%）的准确率【54】。   提高识别准确率的关键在于增强和抑制过程的线性和对称性【52】。进一步的材料和器件改进仍然需要，以在这种突触晶体管中达到更高的识别准确率。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans2/img83.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图 5. 使用各种设备参数的图像识别模拟\na) 三层神经网络的示意图\nb) 显示硬件实现的示意图，其中突触层由电解质门控晶体管交叉条阵列和接入设备组成\nc,d) 小数字（c）和大数字（d）在理想设备和铁氧体突触晶体管的训练周期中的准确度演变</strong></p>\n<p>综上所述，我们提出了一种新型的三端突触晶体管，采用了 SFO 这种具备拓扑相变特性的材料。在实验中，通过 XRD 和 STEM 测量确认了带有离子液体栅极（ILG）的 SFO 薄膜在 BM 和 PV 相之间的转变。存储状态的切换与 SFO 薄膜中绝缘 BM 相和导电 PV 相之间的切换有关，这归因于通道材料中氧离子的插入和提取。这种三端人工突触能够实现包括突触可塑性和脉冲时序依赖性可塑性（STDP）在内的重要突触功能。基于这些铁氧体突触晶体管构建的人工神经网络在手写数据的分类任务中显示出较高的准确性（95.2%）。拓扑相变具有天然的非易失性、可逆性和稳定性。将先进的拓扑相变材料引入突触晶体管中，有望促进新型高性能神经形态器件的发展。</p>\n<h1 id=\"实验部分\"><a class=\"anchor\" href=\"#实验部分\">#</a> 实验部分</h1>\n<p>样品制备：在 (001) SrTiO₃ 衬底（MTI Ltd.）上，通过脉冲激光沉积（PLD）方法在 308 nm XeCl 准分子激光的作用下外延生长厚度为 50 nm 的褐钙钛矿相 SrFeO₂.₅ 薄膜。激光能量密度约为 2 J cm⁻²，重复频率为 2 Hz。SFO 薄膜在 750 °C 下于流动的氧气气氛中沉积，氧压为 1 × 10⁻³ Pa，并以 30 °C/min 的速率冷却至室温。SFO 薄膜的沉积速率进一步通过 X 射线反射（XRR）进行校准。</p>\n<p>器件制备：采用标准光刻技术和氩离子刻蚀将薄膜制成带有共面栅结构的通道，通道尺寸为 210 µm × 50 µm。Pt 层通过电子束蒸发法制备作为电极。为了防止栅电极与源电极之间的电泄漏，使用硬化光刻胶作为隔离层。随后，在氧气气氛下于 250 °C 下退火 5 分钟，以增强电极接触性能。最后，通过滴加离子液体 N,N - 二乙基 - N-(2 - 甲氧基乙基)-N - 甲基铵双（三氟甲基磺酰基）亚胺于通道和栅电极上完成晶体管器件的制备。</p>\n<p>样品表征：使用 Rigaku SmartLab 仪器进行 X 射线衍射测量。在室温空气中使用分光光度计（Agilent 的 Cary 5000 UV–vis–NIR 和 Varian 的 Excalibur 3100）获得光学透射光谱。SFO 薄膜的原子结构采用 JEOL（日本东京）的 ARM-200F 扫描透射电子显微镜在 200 kV 下通过 CEOS Cs 校正器（CEOS GmbH，德国海德堡）来校正探针形成物镜球差进行表征。在接受角为 11–22 mrad 和 90–250 mrad 下采集高角环形暗场（HAADF）图像。电子能量损失光谱实验使用与透射电子显微镜附带的 Gatan 光谱仪在 STEM 模式下于 200 kV 下进行。</p>\n<p>电学测量：在 Lakeshore 探针台中，使用 Keithley 4200 半导体参数分析仪测量电解质栅控 SFO 器件的电学特性，测量环境为常温。传输曲线的扫描速率约为 1 mV/s。温度依赖电阻 (t-R) 的测量也是使用 Keithley 4200 半导体参数分析仪在 Lakeshore 探针台中进行的。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-24-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%B8%80/",
            "url": "https://ei4869.github.io/miyano/Literature-Translation/2024-11-24-%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91-%E4%B8%80/",
            "title": "文献翻译(一)",
            "date_published": "2024-11-24T02:59:01.000Z",
            "content_html": "<p align=\"center\"><strong><b style=\"font-size: 2em;\">门控可调各向异性氧离子迁移在SrCoOx中的应用：迈向新兴的基于氧化物的人工突触(Gate-Tunable Anisotropic Oxygen Ion Migration in SrCoOx: Toward Emerging Oxide-Based Artificial Synapses)</b></strong></p>\n<p>基于电场控制离子迁移的人工突触构造已被开发成为实现智能器件的一种有前景的方法，其优点在于低能耗。然而，人工突触要模拟生物系统中复杂的突触多样性，仍然是一项极具挑战的任务。本文采用离子液体门控的氧离子迁移，以实现绝缘态 SrCoO₂.₅ 和金属态 SrCoO₃ 之间的可逆相变，并在 [110] 晶向上利用快速氧离子传输通道实现各向异性动力学。这种依赖晶向的氧离子迁移及其导致的金属 - 绝缘体转变，为构建具有不同特性（例如兴奋性或抑制性特征、学习精度和协作能力）的多样化人工突触提供了一个有趣的机会。我们的研究不仅为氧化物中的各向异性离子迁移提供了深入理解，还可为多样化的基于氧化物的人工神经网络的发展奠定基础。</p>\n<h2 id=\"introduction\"><a class=\"anchor\" href=\"#introduction\">#</a> Introduction</h2>\n<p>电场可以有效调节材料的电学和磁学特性，为构建信息存储和人工智能（AI）领域的低能耗功能器件奠定了坚实的基础。由离子液体（IL）的栅极控制极化产生的超高电场为操纵基于氧离子注入和萃取的相关电子氧化物的基态提供了强有力的工具。例如，在三端 IL 电解质晶体管结构中，可以实现绝缘非铁磁性褐铁矿相 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> (BM-SCO) 和金属非铁磁性过氧化物相 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> (P-SCO) 之间的可逆转变。除了结构和物理性质的变化外，IL 门控机制也引起了人们的极大兴趣，例如电场和浓度梯度在离子迁移中的个体作用，以及氧骨架对离子液体门控效应的影响。然而，由电场或浓度梯度驱动的氧离子迁移的动态特性仍于理解相变的物理机制以及构建功能性器件至关重要。仍缺乏深入研究。</p>\n<p>人工神经网络是实现 AI 的最有前景的设备原型之一，而通过离子迁移操作的三端电解质晶体管则成为模拟生物神经元和突触连接的自然选择。由于栅电极被视为突触前终端，用于施加尖峰脉冲，而其电导率可被栅极电压（尖峰脉冲）改变的沟道层相当于突触后膜，因此信号传输和学习功能可在三端电解质晶体管中同时进行。最近，许多复杂的人工突触已经被构建出来以实现记忆、遗忘、学习和逻辑运算等智能功能。并开发了各种类型的人工智能突触，包括可拉伸晶体管、基于二维的晶体管、 pi-n 结晶体管以及钙钛矿光电子突触。同时，在大规模电解质晶体管阵列中展示了计算精度高、 开关速度快、 能耗低的良好性能。</p>\n<p>然而，在生物系统中，存在着大量的兴奋性和抑制性神经元或突触，它们遵循不同的计算和可塑性规则，共同发挥作用。通过开发具有可调响应能力的神经突触装置，在神经突触领域实现类似的多样性，仍然是一项具有挑战性的紧迫任务。在这项工作中，我们展示了氧离子的各向异性迁移，以及对 BM-SCO 中电场的不同电导响应，这为离子电子器件中神经元和突触的多样性建模铺平了道路。</p>\n<h2 id=\"结果与讨论\"><a class=\"anchor\" href=\"#结果与讨论\">#</a> 结果与讨论</h2>\n<h3 id=\"bm-sco-中不同晶向对电导率的调制\"><a class=\"anchor\" href=\"#bm-sco-中不同晶向对电导率的调制\">#</a> BM-SCO 中不同晶向对电导率的调制</h3>\n<p>采用脉冲激光沉积法在 (001) 和 (011) SrTiO₃ (STO) 基底上沉积了厚度为 40 nm 的外延 BM-SCO 薄膜。以 BM-SCO 为沟道材料，N,N - 二乙基 - N-（2 - 甲氧基乙基）-N - 甲基铵双三氟甲基磺酰亚胺（DEME-TFSI）IL 为栅极电解质，制作了一系列双沟道电解质晶体管器件（图 1a）。图 1b–f 展示了两个串联通道（通道 I，σ₁ 和通道 II，σ₂）的电导率对栅电压 (Vgs) 的响应特征。 通道 I 和通道 II 之间的区别在于，前者直接位于 IL 之下，而后者则完全不在 IL 的覆盖范围内。我们首先关注通道 I，即 (001) 和 (011) BM-SCO 中沿 [100] 方向的通道。 图 1b 显示了 300 K 时 (001) BM-SCO 和 (011) BM-SCO 器件的栅极电压 - 电导率 (σ1) 曲线 (σ-Vg )，其中 Vgs 从 0 逐渐变为负值，然后变为正值，最后回到 0。 当长时间施加 Vgs 且门控效应接近饱和时，从随时间变化的电导率（σ-t）曲线中提取电导率值（图 S1，佐证资料）。对于两种器件，当负 Vgs 超过阈值时，电导率显著增加，而正 Vgs 则相反。通过循环施加 Vg，可在这两种器件中实现电导率的可逆和非易失性调节。这种 Vg 引起的电导率变化应归因于氧离子的注入或提取及其伴随的 BM-SCO 与 P-SCO 之间的相变，这可通过晶体结构、价态和磁化强度的表征得到证实（图 S2–S5，佐证资料）。</p>\n<p>(001) 和 (011) BM-SCO 的主要区别在于 (001) BM-SCO 的电导率变化所需的阈值电压较低：对于 (001) BM-SCO，电导率在 Vgs 为 -1 V 和 +0.5 V 时急剧增加和减少，而对应的 (011) BM-SCO 则分别为 -1.5 V 和 +2.2 V。由于我们的通道为平面内的，因此这些结果表明在电场作用下，(001) BM-SCO 中的面内氧离子迁移更容易、更快。</p>\n<p>实际上，尽管晶体在平面外的取向存在差异，平面内晶体取向也会影响氧离子迁移和相变速度。下面将研究 (001) BM-SCO 中 σ1 和 σ2 沿不同晶体方向（σi-[hkl]，i 为 1 或 2，[hkl] 为面内晶体方向）对 Vg 的不同响应，以确定氧离子迁移和伴随相变的全景动力学。随着时间推进，Vg 逐步向负方向增加 (图 1c、e 上半部分)，并记录不同通道和方向的电导率 (图 1c、e 下半部分)。当 (001) BM-SCO 的通道沿 [100] 方向时，与 Vgs 从 0 至 -2 V 时逐步增加的 σ₁-[100] 相比，σ₂-[100] 的变化有限，如 σ-t（图 1c）和 σ-Vg（图 1d）曲线所示。直到 Vg 增加至 -2.2 V 时 σ₂-[100] 才开始显著增加。通道 I 中 σ₁ 和通道 II 中 σ₂ 的变化均由氧离子的迁移引起，分别受到 IL/BM-SCO 界面的电场以及两个通道之间氧离子浓度梯度的驱动。因此，无论通道的平面内方向如何，σ₂ 的变化始终落后于 σ₁（图 1c–f）。</p>\n<p>然而，当比较 (001) BM-SCO 中沿 [100] 和 [110] 方向的通道时，σ₁ 和 σ₂ 的差异在很大程度上取决于晶向 (图 1c–f)。当通道沿 [110] 方向时，σ₁-[110] 对 Vg 的响应速度稍快于 σ₁-[100]，而 σ₂-[110] 对 Vg 的敏感性明显更高，其在 Vg 仅为 -1 V 时便开始增加，几乎与对应的 σ₁-[110] 同步 (图 1e)。在 σ–Vg 曲线中，[110] 方向通道中的 σ₁ 和 σ₂ 的最大差值仅为 2.11 S/cm（图 1f），而 [100] 方向通道中的相应值则高达 42.64 S/cm。σ₂ 对 Vg 的不同响应表明，由浓度梯度驱动的氧离子迁移具有高度的各向异性，且 [110] 方向迁移速度远快于 [100] 方向。为了避免设备多样性带来的影响，我们在同一设备中比较了 σ₂-[100] 和 σ₂-[110]（图 S6，佐证资料），进一步确认了平面内氧离子迁移的各向异性。此外，我们还注意到 IL 引起的电导率变化相对较慢（图 1c、e）。因此，未来有必要开发更高性能的离子液体以提高离子迁移速度。此外，通过增加栅电压的幅度，还可以提高离子迁移率及其引起的电导率变化（图 S7，佐证资料）。</p>\n<h3 id=\"001-和-011-bm-sco-的晶体结构\"><a class=\"anchor\" href=\"#001-和-011-bm-sco-的晶体结构\">#</a> (001) 和 (011) BM-SCO 的晶体结构</h3>\n<p>我们利用高角环形暗场扫描透射电子显微镜（STEM-HAADF）探讨了 BM-SCO 中氧离子迁移的各向异性原因。通过 (001) BM-SCO 薄膜分别沿 [100] 和 [110] 方向的投影制备了两种 STEM 样品，如图 2a 和 2b 所示。两种样品均显示出特征性的超晶格结构调制（c 轴晶胞加倍），其中氧八面体和缺氧四面体亚层交替堆叠。在 STEM-HAADF 图像（顶部）和晶体结构草图（底部）中，分别用黄色、红色和绿色球体表示 Sr、Co 和 O 原子位置。需要注意的是，[100] 和 [110] 投影的主要区别在于 [110] 投影的 CoO 亚层中存在周期性的 Co–Co 对，并且氧空位柱（VO，标记为绿色空心圆）位于 Co–Co 配对之间的空隙中。[110] 方向上的 VO 柱可以提供快速的氧离子传输通道，从而通过 σ₂-[110] 和 σ₂-[100] 的电导率变化反映了更快的氧离子迁移速度。</p>\n<p>图 2c 展示了 (011) BM-SCO 的晶体结构（沿 [100] 方向投影）。可以观察到交替的氧八面体和四面体亚层沿 [001] 方向堆叠的调制超晶格结构，这相当于图 2a 的情况，但绕 [100] 方向旋转了约 45°。因此，(011) BM-SCO 的 VO 柱应具有平面外分量。由于 BM-SCO 的电导率是在平面内测量的，因此具有平面内 VO 柱的（001）BM-SCO 的电导率比具有平面外倾斜 VO 柱的（011）BM-SCO 的电导率变化更快。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans1/img58.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图1. BM-SCO中的各向异性电导率调制。a) 双通道电解质晶体管器件的示意图，其中σ1和σ2分别是通道I和通道II的电导率。通道的长度和宽度分别为400 μm和100 μm。b) (001) BM-SCO和(011) BM-SCO器件的门电压依赖的σ1（σ–Vg）曲线。c) 不同Vg下的电导率与时间（σ–t）曲线；d) 沿[100]方向的(001) BM-SCO通道的σ–Vg曲线。e) 沿[110]方向的(001) BM-SCO通道的σ–t曲线和f) σ–Vg曲线。</strong></p>\n<h3 id=\"bm-sco-人工突触的可塑性\"><a class=\"anchor\" href=\"#bm-sco-人工突触的可塑性\">#</a> BM-SCO 人工突触的可塑性</h3>\n<p>绝缘态 BM-SCO 和金属态 P-SCO 之间的可逆相变是人工突触晶体管的基础，而氧离子传输的各向异性在构建多样化人工突触中具有重要意义。电导率、栅电压以及由 IL 门控引起的电导率变化可以分别看作突触权重、脉冲和突触可塑性，这些是人脑学习和记忆的基础。首先，我们关注 (001) 和 (011) BM-SCO 的通道 I（通道沿 [100] 方向，σ₁-[100]）的突触性能。通过改变脉冲的幅度（单个宽度为 1 秒的 Vg 脉冲），可以调节突触权重（电导率），在 (001) BM-SCO 中可以实现短期可塑性（Vgs = -0.5 和 -1 V）和长期可塑性（Vgs = -1.5、-1.7 和 -2 V）, 如图 3a 所示。短期和长期的可塑性分别对应于挥发性和非挥发性的门控效应。挥发性门控效应由静电场引起的载流子密度变化或小栅极电压下瞬时不稳定的氧离子迁移造成，而非挥发性门控效应则与较大栅压下的永久性氧离子迁移相关。</p>\n<p>为了定量评估电导率变化，图 3b 显示了由 40 个连续负 Vg 脉冲（脉宽 1 秒，间隔 1 秒）引起的 σ₁-[100] 变化。对于连续的栅压脉冲 Vg = -0.5 V 和 - 1 V，栅压引起的电导率增强可以忽略不计，这与单个脉冲所揭示的短期可塑性一致。相比之下，连续的栅压脉冲 Vg = -1.7 V 和 - 2 V 分别引起了 0.28 和 0.35 S/cm 的电导率增强，符合其长期可塑性的特征。除了脉冲幅度外，栅压脉冲的间隔时间也会影响电导率的调制效果。当 Vg = -1.7 V 的脉冲间隔分别为 1 秒、0.5 秒和 0.25 秒时，σ1-[100] 的增强值分别为 0.28、0.53 和 0.64 S/cm。较短的间隔不仅增加了电导率在长期可塑性中的调制效果，还将可塑性从短期转变为长期，这一现象在将 Vg = -1 V 的脉冲间隔从 1 秒缩短至 0.25 秒时得到了验证。此外，（001）BM-SCO 突触晶体管中也可以实现典型的反对称脉冲时序依赖可塑性形式，这对应于相邻神经元之间的相互作用（见图 S8，支持信息）。</p>\n<p>在 (011) BM-SCO 中，当 Vgs = -1 和 -1.5 V 时，表现出短期可塑性，而当 Vgs = -2、-2.2 和 -2.5 V 时，实现了长期可塑性，如图 3c 所示。图 3d 显示了在 (011) BM-SCO 中，40 个电压脉冲（脉宽 1 秒）在 栅压 Vg = -1 V（1 秒间隔）、-2 V（1、0.5 和 0.25 秒间隔）和 -2.2 V（1 秒间隔）下引起的 σ1-[100] 的调制。与 (001) BM-SCO 相比，在 (011) BM-SCO 中，增加栅压 Vg 和缩短脉冲间隔同样会增强 σ1-[100]，但其长期可塑性所需的 Vg 阈值更高。这一差异与图 1b 中通过连续栅压 Vg 进行的测量结果一致。突触权重对晶体取向的依赖性为开发具有多样化突触行为的人工突触器件提供了一个有趣的平台。</p>\n<p>图 3e–j 展示了在一系列 Vg 操作之后，(001) BM-SCO 在 5×5 突触阵列中的电导率分布，以可视化模拟基于短期和长期可塑性的突触记忆功能。不同图像间的操作已标注，每次操作包含 40 个 Vg 脉冲，脉冲宽度为 1 秒，间隔为 1 秒 (未做特殊说明下)。图 S9（支持信息）中展示了典型像素（第一列第五行）在不同操作下的电导率演变。首先，应用 Vg = -1 V 操作在阵列中写入字母 “S”（如图 3f 所示），此时不同像素的电导率的差异形成了黑白对比。然而，由于门控效应为挥发性，电导率在 20 秒后迅速恢复到初始状态（图 3g），对应于突触的短期可塑性行为。接下来，通过 Vg = -1.5 V 操作在阵列中导入字母 “D” 的图像，20 秒后的结果如图 3h 所示。与第一次操作不同，字母 “D” 得以保持，因为较大幅度的 Vg 导致非挥发性门控效应，模拟了由更强脉冲激发的长期可塑性行为。图 3i 显示，随后使用 Vg = +1.5 V 的操作可以成功擦除字母 “D”，这是基于 IL 门控的可逆性。在最后一次操作中，使用了一个小的负栅压 Vg = -1 V，但间隔时间缩短至 0.25 秒（脉冲宽度为 1 秒），字母 “U” 被图案化并保持在阵列中，即使在 20 秒后仍然存在（见图 3j）。因此，更高的脉冲频率（更短的 Vg 脉冲间隔）也可以实现 (001) BM-SCO 中的长期可塑性。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans1/img76.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图2. BM-SCO的晶体结构。a) 沿[100]方向投影的(001) BM-SCO薄膜的STEM-HAADF图像（顶部）和结构示意图（底部）；b) 沿[110]方向投影的(001) BM-SCO薄膜的STEM-HAADF图像（顶部）和结构示意图（底部）；c) 沿[100]方向投影的(011) BM-SCO薄膜的STEM-HAADF图像（顶部）和结构示意图（底部）。白色尺度条为1 nm。</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans1/img91.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图3. 人工突触的可塑性。通过一次脉冲电压（1秒宽度）触发的兴奋性瞬时电导率，a) (001) BM-SCO和c) (011) BM-SCO。通过40次负Vg脉冲（1秒宽度）引起的突触权重（σ）调制，具有不同的幅度和间隔（图中标出），b) (001) BM-SCO和d) (011) BM-SCO。e–j) (001) BM-SCO 5×5突触阵列的电导率分布。字母“S”、“D”和“U”的图像通过一系列Vg操作在突触阵列中进行模式化或擦除。每次操作包含40次Vg脉冲，脉冲宽度为1秒，间隔为1秒或0.25秒（如图中所示）。所有电导率都在沿[100]方向的通道I中测量。</strong></p>\n<h3 id=\"基于长期增强和长期抑制的手写数字识别模拟\"><a class=\"anchor\" href=\"#基于长期增强和长期抑制的手写数字识别模拟\">#</a> 基于长期增强和长期抑制的手写数字识别模拟</h3>\n<p>长期可塑性，包括长期增强（LTP）和长期抑制（LTD），是类脑计算和学习的核心。在 (001) BM-SCO 的通道 I（沿 [100] 方向，σ1-[100]）中，长期增强（LTP）通过 50 个连续的 Vg = -1.5 V 脉冲（脉宽 1 秒，间隔 1 秒，没有具体指令）诱导，而长期抑制（LTD）则通过 50 个连续的 Vg = +1.5 V 脉冲实现，如图 4a 所示。图 4a 的插图显示了由重复的正负 Vg 脉冲驱动的 σ1-[100] 的周期性调制，其中 σ1-[100] 在 0.22 和 0.59 S/cm 之间切换，展示了 LTP 和 LTD 的良好可回收性。如图 4b 所示，通过在 (011) BM-SCO 中施加 50 个连续的 Vg = -2 V 脉冲，然后施加 Vg = +2 V 脉冲，σ1-[100] 逐渐从 0.20 S/cm 增加至 0.36 S/cm，随后又降回 0.20 S/cm，表明在 (011) BM-SCO 中也可以实现 LTP 和 LTD。尽管在 (011) BM-SCO 中栅压引起的电导率调制较小，但其可回收性也非常好（见图 4b 插图）。刺激结束后的电导率被提取并用于 LTP 和 LTD 曲线。此外，BM-SCO 的 LTP 和 LTD 都表现出良好的线性切换特性，在 (001) BM-SCO 中非线性因子分别为 ν = 0.61（LTP）和 1.29（LTD），而在 (011) BM-SCO 中分别为 ν = 0.70（LTP）和 0.81（LTD）（见图 S10，支持信息）。</p>\n<p>基于 BM-SCO 人工突触的 LTP 和 LTD，在 CrossSim 模拟器中构建了一个人工神经网络，用于识别 “修订版国家标准与技术研究所” 数据集中的手写数字（小版本为 8x8 像素，大版本为 28x28 像素）。该人工神经网络具有输入、隐藏和输出神经元的三层结构，通过突触权重（电导率）矩阵相互连接，如图 4c 所示。图 4d 展示了突触权重矩阵的硬件实现示意图，其中基于 BM-SCO 的电解质晶体管交叉阵列（尺寸为 Xm × Hn × 10）用于执行向量矩阵乘法和叉乘。在 CrossSim 模拟器中使用曼哈顿规则进行硬件训练，突触权重基于经典的反向传播算法进行更新，学习率为 0.1。</p>\n<p>在基于栅压诱导的 LTP 和 LTD 有效训练突触权重矩阵后，它们实现了较高的数字图像识别精度，如图 4e、f 所示。对于小尺寸图像，(001) BM-SCO 和 (011) BM-SCO 人工突触在经过 40 个训练周期后，识别精度分别达到了 96.10% 和 96.43%（图 4e）。BM-SCO 人工突触的识别效果非常接近基于浮点的神经网络的数值精度（96.72%），这代表了该算法的理论极限。对于大尺寸图像，(001) BM-SCO 人工突触在 40 个训练周期后的识别精度为 94.10%，而当晶体取向变为 (011) 时，识别精度甚至更高，达到了 96.95%（图 4f）。理想的数值精度为 98.19%。在手写数字识别的模拟中，人工神经网络所使用的实验数据需要进行归一化处理，LTP 和 LTD 的非线性对识别精度有着重要影响【38,41】。(011) BM-SCO 人工突触的 LTP 和 LTD 的非线性分别为 0.70 和 0.81，整体上低于 (001) BM-SCO 人工突触的 0.60（LTP）和 1.29（LTD），因此导致了相对较高的识别精度。相比之下，(011) BM-SCO 在数字识别中表现优于 (001) BM-SCO 的主要原因在于其 LTD 的非线性更低。LTD 过程对应于氧离子的提取以及从 P-SCO 到 BM-SCO 的相变，如图 1b 所示，这一过程在 (001) BM-SCO 中极为快速和剧烈。因此，我们推测，(011) BM-SCO 中较为缓和的相变可能有助于优化非线性并提升识别精度。</p>\n<p>突触器件的功耗（W）通过公式 ( <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>W</mi><mo>=</mo><msub><mi>V</mi><mi>g</mi></msub><mo>×</mo><msub><mi>I</mi><mi>g</mi></msub><mo>×</mo><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">W = V_g \\times I_g \\times t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span> ) 计算，其中 ($ I_g$) 是编程过程中栅极与漏极之间的漏电流，($ t $) 是脉冲宽度（1 秒）。对于 (001) BM-SCO，( <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> = 1.5 ) V，( <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>I</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">I_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> = 0.6 ) nA；而对于 (011) BM-SCO，( <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> = 2 ) V，($ I_g$ = 1) nA。由此计算出 (001) BM-SCO 和 (011) BM-SCO 的功耗分别为 900 pJ 和 2000 pJ，与之前报道的功耗水平（约<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">10^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> pJ）相当。通过减少脉冲宽度以接近生物突触的功耗水平（1–100 fJ），我们的系统功耗有望进一步降低。未来的工作将重点放在降低人工突触器件的功耗上。</p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans1/img105.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图4. 基于BM-SCO突触器件中的LTP和LTD的图像识别仿真。a) (001) BM-SCO（Vg = -1.5 V）和b) (011) BM-SCO（Vg = -2 V）下，50次负Vg脉冲和50次正Vg脉冲（脉冲宽度为1秒，间隔为1秒）作用下的通道电导率逐渐变化。插图显示了由5次重复的负/正Vg脉冲周期控制的电导率周期性调制。c) 用于图像识别的人工神经网络示意图。它由输入层、隐藏层和输出层神经元组成，神经元层通过突触权重矩阵连接。d) 用于突触权重矩阵硬件实现的示意图，由BM-SCO基电解质晶体管交叉条和接入设备组成。尺寸为Xm×Hn×10（小图像时Xm=64，Hn=36；大图像时Xm=784，Hn=300）的BM-SCO基电解质晶体管交叉条用于执行向量矩阵乘法和交叉积运算。作为输入神经元的图像中Xm像素的数字值通过“读脉冲”输入到Xm×Hn晶体管交叉条中，生成Hn个隐藏神经元（“读输出”）。类似地，Hn个隐藏神经元的值随后输入到Hn×10晶体管交叉条中，产生从0到9的输出神经元值，作为图像识别结果。在“编程脉冲”完成的训练过程中，晶体管器件的电导率通过Vg调节，以提高识别的准确性。e) 和f)分别为基于(001)和(011) BM-SCO突触权重矩阵经过不同训练周期后，小图像和大图像的手写数字识别准确率。为对比，给出了基于浮点数神经网络的数值结果。本节中使用了沿[100]方向的通道I。</strong></p>\n<img loading=\"lazy\" loading=\"lazy\" data-src=\"/miyano/img/post/trans/trans1/img119.jpg\" width=\"50%\">\n<p align=\"center\"><strong>图5. (001) BM-SCO双通道器件中突触权重的调制。a) 左列：BM-SCO双通道晶体管的顶视图，通道沿[110]和[100]方向排列；右列：负Vg下通道I和通道II的截面视图。源极、漏极和栅极分别用S、D和G表示。源极与漏极之间的电压值为0.1 V。右侧的通道方向分别沿[110]和[100]。首先，由负Vg产生的电场足够强大，可以将氧离子驱动到通道I中。然后，随着注入通道I的氧离子浓度不断增加，它与通道II之间形成浓度梯度。因此，氧离子沿浓度梯度从通道I迁移到通道II。b) Vg = -0.5 V时，40次Vg脉冲（脉冲宽度为1秒，间隔为1秒）作用下通道I（σ1-[110]）和通道II（σ2-[100]和σ2-[110]）的电导率随时间变化；c) Vg = -1.5 V时的变化；d) Vg = -2 V时的变化。</strong></p>\n<h3 id=\"基于各向异性权重调制的平面内-001-bm-sco突触的多样性\"><a class=\"anchor\" href=\"#基于各向异性权重调制的平面内-001-bm-sco突触的多样性\">#</a> 基于各向异性权重调制的平面内 (001) BM-SCO 突触的多样性</h3>\n<p>基于 (001) 和 (011) BM-SCO 的人工突触对比表明，通过基底确定的不同晶面取向的 BM-SCO 可以用于构建性能各异的突触。IL 栅控效应对平面内晶格取向的依赖性提供了一种可能性，即在单个芯片上集成多种突触，如图 5a 所简略展示的那样。沿 [100] 和 [110] 方向分别制造了两个独立的双通道晶体管，串联的通道 I 用于电场驱动的氧离子迁移，而通道 II 用于浓度梯度驱动的氧离子迁移。在 IL 中分解的氧离子首先在负栅电压下注入通道 I 的表面，从而在垂直方向上形成氧离子浓度梯度，驱动氧离子向薄膜中扩散。即使不再施加栅电压，氧离子通过浓度梯度驱动的扩散长度仍在微米量级。通道 I 中的较高氧离子浓度也会诱发横向浓度梯度，驱动氧离子向通道 II 的横向扩散。而当施加正栅电压时，氧离子浓度梯度和扩散方向则正好相反。</p>\n<p>图 5b–d 显示了在 (001) BM-SCO 中，通过 40 次连续负 Vg 脉冲（1 秒宽度和 1 秒间隔）引起的通道 I 沿 [110] 方向（σ1-[110]）、通道 II 沿 [110] 方向（σ2-[110]）和通道 II 沿 [100] 方向（σ2-[100]）的电导率调制。当 Vg 仅为 - 0.5V 时，σ1-[110] 表现出短期可塑性，但 σ2-[110] 和 σ2-[100] 对 Vg 几乎没有响应（图 5b）。当 Vg 为 - 1.5V 时，σ1-[110] 和 σ2-[110] 均能实现长期可塑性，电导率分别增强了 0.30 和 0.05 S/cm。但 σ2-[100] 仍几乎没有变化（图 5c）。当 Vg 增大到 - 2V 时，σ1-[110] 和 σ2-[110] 的电导率增强分别为 0.39 和 0.10 S/cm，而 σ2-[100] 则表现出短期可塑性（图 5d）。不同平面通道中的电导率变化提供了模拟兴奋性和抑制性突触的可能性。另一方面，通道 II 中电导率的增强总是伴随着通道 I 的增强，这是突触中典型的协同行为，对于研究神经网络的运作非常重要，例如神经元或突触之间的相互作用和信号传递。</p>\n<h2 id=\"结论\"><a class=\"anchor\" href=\"#结论\">#</a> 结论</h2>\n<p>总之，通过 IL 栅极调控实现了绝缘的棕色米勒石 SrCoO₂.₅与金属钙钛矿 SrCoO₃之间的可逆相变。在相变过程中，氧离子在 BM-SCO 中的迁移动力学表现出高度的各向异性，这归因于氧空位列 (柱) 的存在。基于栅电压驱动的相变中电导率的变化，展示了多种不同的人工突触功能。更重要的是，各向异性的氧离子迁移及其导致的电导率响应为构建具有不同性能的多种人工突触提供了有趣的机会，如兴奋性或抑制性特征、学习准确性和协作能力。对于未来在半导体平台上的应用，SrCoOx 人工突触可以通过插入 STO 作为缓冲层，或通过在牺牲水溶性 Sr₃Al₂O₆层上转移自由型薄膜，集成到基于硅的神经电路中。我们的结果不仅为氧化物中各向异性的离子迁移提供了洞见，也为多样性突触系统的开发开辟了新的道路。</p>\n<h2 id=\"实验部分\"><a class=\"anchor\" href=\"#实验部分\">#</a> 实验部分</h2>\n<p>样品制备：高质量的 SrCoO₂.₅薄膜（厚度约 40 纳米）在 760°C 下，于氧气压力为 5 × 10⁻⁴ mbar 的条件下，通过脉冲激光沉积法在 (001) 和 (011) STO 衬底上生长，使用的是 248 nm KrF 氪氟激光器。激光的能量密度为 1.2 J/cm²。SrCoO₂.₅薄膜在氧气压力 1 × 10⁻³ mbar 下冷却至室温。通过光刻和湿法刻蚀，SrCoO₂.₅薄膜被图案化为双通道晶体管结构，用于传输测量。通道长度为 400 μm，宽度为 100 μm。电极使用磁控溅射技术沉积 Pt（30 nm）/Ti（10 nm）。将离子液体（DEME-TFSI）滴加到特定位置，以覆盖栅电极和通道 I。</p>\n<p>电气测量：BM-SCO 器件的电导率通过 Keithley 2400 源表在二探针配置下进行测量，源极与漏极之间的读取电压为 0.1 V。不同的连续或脉冲栅电压通过另一台 Keithley 2400 源表施加于栅极与漏极之间。</p>\n<p>表征：通过原子分辨率的像差校正扫描透射电子显微镜（STEM，Thermo Fisher Scientific Themis Z）研究了原子结构。磁性通过 VersaLab（Quantum Design）进行测量。薄膜的晶体结构通过 X 射线衍射（Cu-Kα 辐射）进行了分析。X 射线吸收光谱（XAS）测量采用总电子产额模式，在上海同步辐射装置的 BL08U1A 光束线进行。除特定说明外，所有测量均在 300 K 下进行。</p>\n",
            "tags": [
                "文献翻译",
                "翻译"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Scientific-Notes/%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0%E5%9B%9B/",
            "url": "https://ei4869.github.io/miyano/Scientific-Notes/%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0%E5%9B%9B/",
            "title": "毕设笔记(四)",
            "date_published": "2024-11-23T02:32:52.000Z",
            "content_html": "<hr />\n<h1 id=\"analog-memristive-synapse-based-on-topotactic-phase-transition-for-high-performance-neuromorphic-computing-and-neural-network-pruning基于拓扑相变的模拟忆阻突触用于高性能神经形态计算和神经网络剪枝\"><a class=\"anchor\" href=\"#analog-memristive-synapse-based-on-topotactic-phase-transition-for-high-performance-neuromorphic-computing-and-neural-network-pruning基于拓扑相变的模拟忆阻突触用于高性能神经形态计算和神经网络剪枝\">#</a> Analog memristive synapse based on topotactic phase transition for high-performance neuromorphic computing and neural network pruning (基于拓扑相变的模拟忆阻突触：用于高性能神经形态计算和神经网络剪枝)</h1>\n<h2 id=\"研究内容\"><a class=\"anchor\" href=\"#研究内容\">#</a> 研究内容：</h2>\n<p>  提出并实现了一种基于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 材料的拓扑相变随机存储器（TPT-RAM），具有独特的扩散性非易失双模式特性。该存储器通过氧离子沿高度有序氧空位通道的迁移，实现了可逆的相变控制，具有低变异性和高性能的模拟开关特性。<br />\n  使用第一性原理计算和动力学蒙特卡洛模拟，研究了 TPT-RAM 的取向相关开关机制。双模式 TPT-RAM 被用来模拟突触选择性稳定过程，并实现神经网络剪枝。</p>\n<h2 id=\"特点和优势\"><a class=\"anchor\" href=\"#特点和优势\">#</a> 特点和优势</h2>\n<hr />\n<p><strong>TPT-RAM 与其他 NVMs 的对比</strong></p>\n<ol>\n<li>\n<p><strong>传统 NVMs 的不足</strong>：</p>\n<ul>\n<li><strong>电阻式随机存储器（RRAM）</strong>：\n<ul>\n<li>依赖于无序氧空位的迁移（例如非晶态氧化物），导致设备变异性大。</li>\n<li>界面型 RRAM 缺乏局部焦耳加热效应，表现出较差的保留特性和低速率。</li>\n</ul>\n</li>\n<li><strong>相变存储器（PCM）</strong>：\n<ul>\n<li>开关过程高度不对称，由晶态 - 非晶态相变中的急速冷却导致。</li>\n<li>受导电漂移问题影响，限制其长期性能。</li>\n</ul>\n</li>\n<li><strong>整体挑战</strong>：\n<ul>\n<li>这些器件存在固有的工作机制局限性，仅通过优化设备结构难以完全克服。</li>\n<li>主要局限于模拟单个神经元或突触功能，未能有效模拟神经网络级别的特性（如神经网络修剪）。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>TPT-RAM 的优势</strong>：</p>\n<ul>\n<li><strong>更高的均匀性</strong>：基于拓扑相变，TPT-RAM 能够控制氧离子沿高度有序的氧空位通道迁移，提供了更可预测和更稳定的性能。</li>\n<li><strong>多功能性</strong>：具有双模式（扩散性非易失性模式）的特性，能够模仿神经网络中的突触选择性稳定化过程，同时支持神经网络修剪。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>TPT-RAM 的特点与设计思路</strong></p>\n<ol>\n<li>\n<p><strong>材料选择</strong>：</p>\n<ul>\n<li>使用<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 材料作为电阻切换层。<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的棕褐石（BM）结构和钙钛矿（PV）结构提供了理想的氧离子迁移通道。</li>\n<li>这种材料特性使得氧离子能够在高度有序的氧空位通道内迁移，易于通过调整氧化学计量实现可逆的相变。</li>\n</ul>\n</li>\n<li>\n<p><strong>核心机制</strong>：</p>\n<ul>\n<li>通过电场驱动，氧离子在顶电极和底电极之间沿氧空位通道迁移，触发 BM-PV 相变。</li>\n<li>相变可控制切换为多级导电状态，实现模拟开关功能。</li>\n</ul>\n</li>\n<li>\n<p><strong>设备设计</strong>：</p>\n<ul>\n<li><strong>晶向优化</strong>：\n<ul>\n<li>在不同取向的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 衬底上外延生长<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，优化氧空位通道的取向，使其更有利于电场驱动的氧离子迁移。</li>\n</ul>\n</li>\n<li><strong>结构特点</strong>：\n<ul>\n<li>利用氧八面体与四面体的交替堆叠实现高质量氧空位通道。</li>\n<li>引入保护层（如<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><msub><mi>l</mi><mn>2</mn></msub><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">Al_2O_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）提高设备稳定性。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>目标性能</strong>：</p>\n<ul>\n<li><strong>降低变异性</strong>：通过高度有序的氧离子迁移路径显著减少设备间和循环间的变异性。</li>\n<li><strong>增强模拟性能</strong>：提供多级导电状态和线性权重更新特性，满足高精度和高能效计算的需求。</li>\n<li><strong>支持神经网络优化</strong>：通过双模式特性在在线训练中实现神经网络修剪，从而减少冗余连接并提高整体效率。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h2 id=\"研究结果\"><a class=\"anchor\" href=\"#研究结果\">#</a> 研究结果</h2>\n<h2 id=\"tpt-ram的取向依赖性切换特性\"><a class=\"anchor\" href=\"#tpt-ram的取向依赖性切换特性\">#</a> TPT-RAM 的取向依赖性切换特性</h2>\n<hr />\n<p><strong>研究背景与目标</strong></p>\n<ul>\n<li><strong>目标</strong>：研究基于不同晶体 (STO) 取向的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SCO）薄膜对拓扑相变随机存储器（TPT-RAM）切换特性的影响，重点分析氧离子迁移路径及其对性能均匀性和速度的影响。</li>\n<li><strong>研究重点</strong>：通过控制氧空位通道（OVCs）的方向，探讨其在 BM（棕褐石）到 PV（钙钛矿）相变中的作用机制。</li>\n</ul>\n<hr />\n<p><strong>实验设计</strong></p>\n<ol>\n<li>\n<p><strong>样品制备</strong>：</p>\n<ul>\n<li>使用脉冲激光沉积法（PLD），在不同取向的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（STO）衬底上外延生长 SCO 薄膜：\n<ul>\n<li><strong>(001) 取向</strong>：OVCs 平行于薄膜表面，沿面内方向排列。</li>\n<li><strong>(110) 取向</strong>：OVCs 具有显著的面外（垂直）分量。</li>\n</ul>\n</li>\n<li>薄膜上覆盖 20 nm 厚的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><msub><mi>l</mi><mn>2</mn></msub><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">Al_2O_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 保护层，定义器件区域后在顶部电极沉积 100 nm 厚的 Au 顶电极 (TE)， 金属 SRO (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>) 用作底电极 (BE)。Au 和 SRO 均能与 BM-SCO 形成欧姆接触，这一特性对消除界面势垒的影响并获得对称的 I-V 特性至关重要。</li>\n</ul>\n</li>\n<li>\n<p><strong>晶体表征</strong>：</p>\n<ul>\n<li>使用 X 射线衍射（XRD）和透射电镜（STEM）分析两种薄膜的晶体结构，明确 OVCs 的方向。</li>\n<li><strong>结果</strong>：\n<ul>\n<li>OVCs 在 (001) 取向中排列于平面内。</li>\n<li>OVCs 在 (110) 取向中表现出明显的垂直分量，有利于电场驱动的氧离子迁移。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>器件性能分析</strong></p>\n<ol>\n<li>\n<p><strong>成形电压与循环特性</strong>：</p>\n<ul>\n<li>比较了 (001) 和 (110) 取向设备的成形过程和循环 I-V 曲线：\n<ul>\n<li><strong>(001) 取向</strong>：平均成形电压为 5.04 ± 0.07 V，变异性较高。</li>\n<li><strong>(110) 取向</strong>：平均成形电压为 3.98 ± 0.05 V，表现出更低的变异性。</li>\n</ul>\n</li>\n<li><strong>循环均匀性</strong>：\n<ul>\n<li>(110) 取向设备的导电状态和开关电压的循环变异性显著低于 (001) 取向。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>导电切换均匀性</strong>：</p>\n<ul>\n<li>对 500 次切换循环中设备导电特性进行统计：\n<ul>\n<li><strong>(110) 取向</strong>：高阻态（HRS）和低阻态（LRS）的变异性分别为 2.25% 和 13.74%，显著优于 (001) 取向。</li>\n</ul>\n</li>\n<li>归因于 (110) 取向中的 OVCs 沿电场方向对氧离子迁移路径的有序引导。</li>\n</ul>\n</li>\n<li>\n<p><strong>操作速度与能耗</strong>：</p>\n<ul>\n<li>使用脉冲测试评估设备的切换速度：\n<ul>\n<li><strong>(001) 取向</strong>：达到目标导电状态需要更高电压（~2.0 V）和更长时间（~10 µs）。</li>\n<li><strong>(110) 取向</strong>：能够以更低电压（~0.8 V）和更快速度（~100 ns）实现切换。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>理论分析与模拟</strong></p>\n<ol>\n<li>\n<p><strong>氧离子迁移路径计算</strong>：</p>\n<ul>\n<li>通过密度泛函理论（DFT）计算分析不同方向的氧离子迁移能垒：\n<ul>\n<li>沿 OVCs 迁移的能垒为 0.56 eV。</li>\n<li>垂直于 OVCs 迁移的能垒显著更高，为 0.97 eV。</li>\n<li>跨越八面体层的迁移能垒为 1.84 eV。</li>\n</ul>\n</li>\n<li>结果表明氧离子优先沿 OVCs 方向迁移。</li>\n</ul>\n</li>\n<li>\n<p><strong>动力学蒙特卡洛（KMC）模拟</strong>：</p>\n<ul>\n<li>建立模型模拟电场下氧离子迁移和相变：\n<ul>\n<li><strong>(110) 取向</strong>：OVCs 与电场方向一致，迁移路径明确，易于形成导电丝。</li>\n<li><strong>(001) 取向</strong>：OVCs 与电场方向垂直，氧离子迁移路径随机性更高，导致非均匀相变。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>关键结论</strong></p>\n<ul>\n<li>(110) 取向中 OVCs 的垂直排列增强了离子迁移的有序性，显著提高了切换均匀性、速度和效率。</li>\n<li>(001) 取向中随机迁移路径导致较高的循环变异性和更高的操作电压。</li>\n</ul>\n<hr />\n<h2 id=\"tpt-ram的模拟开关特性\"><a class=\"anchor\" href=\"#tpt-ram的模拟开关特性\">#</a> TPT-RAM 的模拟开关特性</h2>\n<hr />\n<p><strong>研究目标</strong></p>\n<ul>\n<li>探讨基于 (110) 取向<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SCO）的拓扑相变随机存储器（TPT-RAM）的模拟切换特性，评估其在线性切换、导电状态稳定性、多级存储能力和长期耐久性方面的表现。</li>\n</ul>\n<hr />\n<p><strong>实验与结果分析</strong></p>\n<ol>\n<li>\n<p><strong>长时增强（LTP）与长时抑制（LTD）特性</strong>：</p>\n<ul>\n<li>通过 1 μs 宽度、1、1.5 和 2 V 幅值的连续脉冲测试，研究设备的模拟切换行为：\n<ul>\n<li>每个周期包括 50 个正向（增强）脉冲和 50 个负向（抑制）脉冲。通过读脉冲（幅值为 0.2 V，宽度为 1 μs）测量器件电导。</li>\n<li>结果显示，设备在低电压 (1 V) 下实现了几乎线性的导电状态调整。</li>\n<li>非线性因子：\n<ul>\n<li>LTP：0.20。</li>\n<li>LTD：1.29。</li>\n</ul>\n</li>\n<li>该值显著优于典型电阻式随机存储器（RRAM）。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>重复编程与线性化改进</strong>：</p>\n<ul>\n<li>对设备进行多次循环测试以评估其可重复性和均匀性：\n<ul>\n<li>使用幅值逐渐递增的脉冲（1 V 到 2.89 V），切换线性显著改善 (相比于在相同脉冲下，幅值为 1 V，宽度为 1 μs)，同时提高了导电状态的开关比。</li>\n<li>表明脉冲幅值设计能够进一步优化设备性能。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>多级存储与保持特性</strong>：</p>\n<ul>\n<li><strong>导电状态保持性</strong>：\n<ul>\n<li>在 85°C 高温下测试不同导电状态的保持时间，结果显示稳定性超过 3000 秒。</li>\n<li>通过温度依赖测试估算，室温下该器件的保留时间超过 10 年。</li>\n<li>SCO (110) pc 中定向氧空位通道（OVCs）的存在，使得该器件可以通过更低的迁移势垒轻松编程，同时由于更高的扩散势垒，具备优异的保持特性。</li>\n</ul>\n</li>\n<li><strong>多级存储能力与循环稳定性</strong>：\n<ul>\n<li>使用幅值从 1.8 V 到 3.2 V 的脉冲对设备进行<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding=\"application/x-tex\">10^8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span></span></span></span></span></span></span></span> 次循环切换，测试显示器件在不同电阻开关窗口下均保持稳定，具有良好的耐久性。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>扩散性与非易失性双模式</strong>：</p>\n<ul>\n<li>测试表明，器件经历成型过程后 (见 1.3.1 成型电压) 表现为非易失性，而在成型之前，器件表现为扩散性忆阻特性，TPT-RAM 具有扩散性和非易失性双模式特性：\n<ul>\n<li><strong>扩散模式</strong>：弱电压激励下，器件呈现出时间依赖的扩散特性，导电状态会自然衰退回初始值。这是因为：由于 BM 相的绝缘特性，器件开始时表现出高电阻（&gt;1 MΩ）。当施加低于成型电压的弱激励（例如，2 V）时，氧离子从 SRO 层被提取到 SRO/SCO 界面，降低了器件电阻。然而，这种激励不足以支持 SCO 完成稳定的相变，因为稳定相变需要足够多的氧离子。一旦移除电压偏置，界面处的化学势差会驱动氧离子回流至 SRO 层，导致器件逐渐恢复至初始的高阻态（HRS）。</li>\n<li><strong>非易失性模式</strong>：强激励或连续脉冲操作触发设备形成稳定的导电丝，导电状态长期保持不变。这是因为：在强激励下（例如，约 4 V 的直流成型电压），大量氧离子被驱入 SCO，触发稳定相变。此后，小的正电压可以吸引更多氧离子迁移，诱导 SCO 从 BM 相向 PV 相的稳定相变，从而增加器件电导（设置过程）。当施加负电压时，氧离子被驱回 SRO，发生反向相变，降低器件电导（复位过程）。因此，在这种非易失模式下，器件表现出相对较低的电阻和优异的保持性能。</li>\n</ul>\n</li>\n<li>器件可以从扩散模式转变为非易失模式，器件既可以通过单一高电压成型 (施加激励大于所需成型电压)，也可以通过足够多的小电压重复脉冲成型 (施加足够多脉冲数量的低电压连续脉冲)。</li>\n<li>通过脉冲数量和幅值的调节，可控制设备在两种模式之间切换。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>性能比较与优势</strong></p>\n<ol>\n<li><strong>线性与非线性因子改进</strong>：\n<ul>\n<li>与传统 RRAM 相比，TPT-RAM 在模拟切换中的线性因子显著降低，支持高精度神经网络权重更新。</li>\n</ul>\n</li>\n<li><strong>多功能性与稳定性</strong>：\n<ul>\n<li>具有多级存储能力、良好的保持特性和高循环耐久性。</li>\n</ul>\n</li>\n<li><strong>低功耗与高效率</strong>：\n<ul>\n<li>模拟切换可在低电压（~1 V）下实现，减少了功耗需求，同时提高了计算效率。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h2 id=\"进行神经网络剪枝\"><a class=\"anchor\" href=\"#进行神经网络剪枝\">#</a> 进行神经网络剪枝</h2>\n<hr />\n<p><strong>研究背景与目标</strong></p>\n<ul>\n<li>\n<p><strong>背景</strong>：</p>\n<ul>\n<li>在人类大脑的发育过程中，突触连接在早期达到峰值，随后通过<strong>选择性稳定化和修剪</strong>过程精简神经网络，保留高效连接以优化认知能力。</li>\n<li>类脑计算硬件面临挑战：如何模仿生物神经网络中重要的网络级功能（如神经网络修剪），同时降低复杂性和功耗。</li>\n</ul>\n</li>\n<li>\n<p><strong>目标</strong>：</p>\n<ul>\n<li>利用 TPT-RAM 的<strong>扩散性与非易失性双模式特性</strong>，模仿生物神经网络的突触修剪过程，创建稀疏、高效的人工神经网络。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>实现方法</strong></p>\n<ol>\n<li>\n<p><strong>神经网络修剪机制</strong>：</p>\n<ul>\n<li>TPT-RAM 器件的两种模式与突触行为的对应关系：\n<ul>\n<li><strong>扩散模式</strong>：突触连接处于不稳定状态，导电值会逐渐衰退（对应低活跃突触被削弱或移除）。</li>\n<li><strong>非易失性模式</strong>：经过频繁更新的突触连接达到稳定状态（经历电成型并最终进入非易失态），导电值保持不变（对应稳定突触被强化）。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>硬件实现</strong>：</p>\n<ul>\n<li>设计差分对 TPT-RAM 器件，每对设备表示一个突触权重，初始时，所有突触器件都工作在扩散模式。</li>\n<li>网络训练期间：\n<ul>\n<li><strong>高频使用的突触</strong>：电压脉冲逐步增强，触发 TPT-RAM 从扩散模式切换至非易失性模式，形成稳定的突触连接。</li>\n<li><strong>低频使用的突触</strong>：由于缺乏足够激励，设备导电值自然衰退，最终实现突触修剪。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>神经网络模拟</strong>：</p>\n<ul>\n<li>使用两个模型验证 TPT-RAM 的修剪功能：\n<ul>\n<li><strong>多层感知机（MLP）</strong>：架构为 784 × 100 × 10。</li>\n<li><strong>卷积神经网络（CNN）</strong>：基于 LeNet-5，包括卷积层、池化层和全连接层。</li>\n</ul>\n</li>\n<li>在训练过程中引入 “休息阶段”，未激活的突触自然衰退，强化活跃的突触。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>实验结果</strong></p>\n<ol>\n<li>\n<p><strong>修剪效果</strong>：</p>\n<ul>\n<li>使用 MNIST 手写数字分类任务测试网络性能：\n<ul>\n<li><strong>MLP</strong>：修剪率达到 73.8%，电源功耗降低 38%。</li>\n<li><strong>CNN</strong>：修剪率达到 84.2%，电源功耗降低 63%。</li>\n</ul>\n</li>\n<li>通过修剪减少冗余突触，网络有效避免过拟合。</li>\n</ul>\n</li>\n<li>\n<p><strong>分类精度提升</strong>：</p>\n<ul>\n<li>修剪后的网络在 MNIST 分类任务中，分类精度提高至 99%。</li>\n</ul>\n</li>\n<li>\n<p><strong>效率与功耗优化</strong>：</p>\n<ul>\n<li>网络复杂性显著降低，存储和计算资源需求减少，使得 TPT-RAM 硬件适用于资源有限的设备（如便携式电子设备和物联网应用）。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>TPT-RAM 特性优势</strong></p>\n<ol>\n<li><strong>扩散与非易失性双模式</strong>：\n<ul>\n<li>自然地模拟生物神经网络的突触动态，支持在线训练中的突触修剪过程。</li>\n</ul>\n</li>\n<li><strong>稀疏化网络生成</strong>：\n<ul>\n<li>自动调整网络结构，仅保留高活跃连接，避免传统修剪方法产生的硬件开销和计算负担。</li>\n</ul>\n</li>\n<li><strong>低功耗与高精度</strong>：\n<ul>\n<li>模拟神经网络过程中功耗显著降低，同时增强分类任务的准确性。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h2 id=\"实验结论\"><a class=\"anchor\" href=\"#实验结论\">#</a> 实验结论</h2>\n<hr />\n<ol>\n<li>\n<p><strong>TPT-RAM 的创新性</strong>：</p>\n<ul>\n<li><strong>设备原理</strong>：\n<ul>\n<li>提出了基于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SCO）的拓扑相变随机存储器（TPT-RAM），其核心机制是氧离子沿高度有序的氧空位通道（OVCs）迁移，触发 BM（棕褐石）到 PV（钙钛矿）的相变。</li>\n</ul>\n</li>\n<li><strong>性能优势</strong>：\n<ul>\n<li><strong>高均匀性</strong>：循环间变异性仅<sub> 0.9%，设备间变异性仅</sub> 4.9%。</li>\n<li><strong>快速低功耗操作</strong>：操作电压低至 0.8 V，切换速度低于 100 ns。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>拓扑相变的可控性</strong>：</p>\n<ul>\n<li><strong>物理机制验证</strong>：\n<ul>\n<li>利用第一性原理计算（DFT）和动力学蒙特卡洛（KMC）模拟，确认氧离子迁移路径与 OVCs 取向密切相关。</li>\n<li>优化 OVCs 排列可显著提升设备的切换均匀性和效率。</li>\n</ul>\n</li>\n<li><strong>材料设计意义</strong>：\n<ul>\n<li>强调通过控制离子迁移路径优化相变器件性能的重要性，为未来高性能存储设备设计提供指导。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>独特的双模式特性</strong>：</p>\n<ul>\n<li><strong>扩散性与非易失性模式</strong>：\n<ul>\n<li>在扩散模式下，设备表现出时间依赖的记忆行为（短期记忆）。</li>\n<li>在非易失性模式下，设备形成稳定导电通道（长期记忆）。</li>\n</ul>\n</li>\n<li><strong>生物拟态能力</strong>：\n<ul>\n<li>双模式特性使 TPT-RAM 能够模拟生物突触的选择性稳定化和神经网络修剪过程。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>未来优化与应用</strong>：</p>\n<ul>\n<li>提出进一步结合硅基晶体管构建功能性突触阵列的潜力。</li>\n<li>推荐采用<strong>远程外延技术</strong>或<strong>牺牲层辅助薄膜转移技术</strong>，以优化 TPT-RAM 的集成工艺和规模化生产。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h2 id=\"实验方法\"><a class=\"anchor\" href=\"#实验方法\">#</a> 实验方法</h2>\n<p><strong>1. 薄膜生长与表征条件</strong></p>\n<p><strong>薄膜生长条件</strong>：</p>\n<ul>\n<li><strong>沉积方法</strong>：反射高能电子衍射（RHEED）辅助的脉冲激光沉积（PLD）。</li>\n<li><strong>生长参数</strong>：\n<ul>\n<li>温度：750°C。</li>\n<li>氧气环境：100 mtorr。</li>\n<li>激光波长为 248 nm（KrF 激光器）。\n<ul>\n<li>激光能量：1.2 J/cm²。</li>\n</ul>\n</li>\n<li>激光重复频率：2 Hz。</li>\n</ul>\n</li>\n<li><strong>样品厚度</strong>：\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SCO）薄膜：35 nm。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>R</mi><mi>u</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrRuO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">u</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（SRO）薄膜：17 nm。</li>\n</ul>\n</li>\n<li><strong>冷却过程</strong>：\n<ul>\n<li>冷却速率：7°C/min。</li>\n<li>氧气环境：100 mtorr。</li>\n</ul>\n</li>\n</ul>\n<p><strong>薄膜表征方法</strong>：<br />\n薄膜厚度通过生长时间控制。</p>\n<ul>\n<li><strong>晶体结构</strong>：\n<ul>\n<li>X 射线衍射（XRD）。</li>\n<li>Reciprocal Space Mapping（RSM）。</li>\n</ul>\n</li>\n<li><strong>原子结构</strong>：\n<ul>\n<li>原子分辨率扫描透射电子显微镜（STEM）。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>2. 设备制造与测试方法</strong></p>\n<p><strong>设备制造过程</strong>：</p>\n<ul>\n<li><strong>绝缘层</strong>：\n<ul>\n<li>材料：20 nm 厚的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><msub><mi>l</mi><mn>2</mn></msub><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">Al_2O_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。</li>\n<li>工艺：原子层沉积（ALD）。</li>\n</ul>\n</li>\n<li><strong>接触通孔</strong>：\n<ul>\n<li>尺寸：从 4×4 μm² 到 100×100 μm²。</li>\n<li>定义了设备的活动区域。</li>\n</ul>\n</li>\n<li><strong>电极材料</strong>：\n<ul>\n<li>底电极（BE）：SRO。</li>\n<li>顶电极（TE）：接触孔顶部使用磁控溅射法沉积了厚度为 100 nm 的 Au 电极，其尺寸为 100 × 100 μm²。</li>\n</ul>\n</li>\n</ul>\n<p><strong>电学性能测试方法</strong>：</p>\n<ul>\n<li><strong>测试仪器</strong>：\n<ul>\n<li>半导体参数分析仪（Agilent B1500）。</li>\n<li>脉冲发生器（Agilent 81110A）。</li>\n<li>开关矩阵（Keithley 707）。</li>\n</ul>\n</li>\n<li><strong>测量内容</strong>：\n<ul>\n<li>I-V 特性测试：包括成形电压、循环切换和多级存储特性。</li>\n<li>脉冲响应测试：评估设备的切换速度、导电状态稳定性和循环耐久性。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>3. 神经网络模拟</strong></p>\n<p><strong>网络架构</strong>：</p>\n<ul>\n<li><strong>多层感知机（MLP）</strong>：\n<ul>\n<li>网络结构：784 × 100 × 10。</li>\n</ul>\n</li>\n<li><strong>卷积神经网络（CNN）</strong>：\n<ul>\n<li>使用 LeNet-5 架构，包括：\n<ul>\n<li>3 个卷积层。</li>\n<li>2 个池化层。</li>\n<li>1 个全连接层。</li>\n<li>1 个径向基函数（RBF）输出层。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>模拟过程</strong>：</p>\n<ol>\n<li><strong>权重表示</strong>：\n<ul>\n<li>使用两片基于 SCO (110) pc 的 TPT-RAM 器件组成的差分对表示一个突触权重。</li>\n</ul>\n</li>\n<li><strong>训练算法</strong>：\n<ul>\n<li>标准反向传播（Backpropagation）。</li>\n<li>随机梯度下降（SGD）。</li>\n<li>批量大小：200。</li>\n<li>学习率：0.01。</li>\n</ul>\n</li>\n<li><strong>训练过程</strong>：\n<ul>\n<li><strong>MLP 训练周期</strong>：10 轮。</li>\n<li><strong>CNN 训练周期</strong>：20 轮。</li>\n</ul>\n</li>\n<li><strong>“休息阶段”</strong>：\n<ul>\n<li>模拟人类学习过程中的突触稳定化。</li>\n<li>高活跃突触被强化（转入非易失性模式），低活跃突触自然衰退（扩散模式）。</li>\n</ul>\n</li>\n<li><strong>设备特性模拟</strong>：\n<ul>\n<li>模拟过程中加入实验提取的循环变异性和符合高斯分布的噪声模型。</li>\n</ul>\n</li>\n<li><strong>性能评估</strong>：\n<ul>\n<li>使用 MNIST 手写数字数据集测试分类精度。</li>\n<li>修剪率计算：修剪后的零权重突触数量占比。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h2 id=\"pdf展示\"><a class=\"anchor\" href=\"#pdf展示\">#</a> PDF 展示：</h2>\n<p>pdf /pdf/sciadv.abh0648.pdf</p>\n<hr />\n<hr />\n",
            "tags": [
                "科研笔记",
                "毕设"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Scientific-Notes/2024-11-22-%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0-%E4%B8%89/",
            "url": "https://ei4869.github.io/miyano/Scientific-Notes/2024-11-22-%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0-%E4%B8%89/",
            "title": "毕设笔记(三)",
            "date_published": "2024-11-22T02:42:51.000Z",
            "content_html": "<hr />\n<h1 id=\"role-of-oxygen-vacancy-ordering-on-structure-and-reactivity-of-iron-doped-sr-based-perovskites-a-computational-study氧空位有序性对铁掺杂锶基钙钛矿结构和反应活性的影响一项计算研究\"><a class=\"anchor\" href=\"#role-of-oxygen-vacancy-ordering-on-structure-and-reactivity-of-iron-doped-sr-based-perovskites-a-computational-study氧空位有序性对铁掺杂锶基钙钛矿结构和反应活性的影响一项计算研究\">#</a> Role of oxygen vacancy ordering on structure and reactivity of iron-doped Sr-based perovskites: A computational study (氧空位有序性对铁掺杂锶基钙钛矿结构和反应活性的影响：一项计算研究)</h1>\n<h2 id=\"研究内容\"><a class=\"anchor\" href=\"#研究内容\">#</a> 研究内容：</h2>\n<ol>\n<li>研究对象：纯的 SrCoO3、SrFeO3 以及掺铁的 SrCo0.8Fe0.2O3 和 SrCoxFe1-xO3（x = 0.25, 0.50, 0.75）钙钛矿。</li>\n<li>研究方法：使用 DFT 方法比较了这些钙钛矿的电子性质，特别是铁掺杂对钙钛矿电子性质的影响。</li>\n<li>发现在 SrCo0.8Fe0.2O3 中，两个 FeO6 多面体插入 CoO6 多面体之间的结构相对更稳定。</li>\n<li>Fe 多面体相邻时会增强 Jahn-Teller 畸变，导致对称性降低。</li>\n<li>氧空位的影响：研究了有序氧空位对 SrCoO2.5、SrFeO2.5 以及掺铁的 SrCo0.8Fe0.2O2.5、SrCoxFe1-xO2.5 和 SrCoxFe1-xO2.75（x = 0.25, 0.50, 0.75）结构和反应活性的影响。</li>\n<li>通过电子密度分布图和 Bader 电荷分析来理解键合相互作用。</li>\n<li>功函数计算：计算了有无氧空位的钙钛矿的功函数，以预测导电行为。</li>\n<li>氢存储研究：将氢原子和氢分子引入钙钛矿的氧空位，以了解氢化钙钛矿的结构转变，并预测这些材料在氢存储中的潜在应用。</li>\n<li>水分子吸附：通过分子动力学模拟研究了水分子在 SrFeO3 片上的吸附，发现水分子分裂成羟基 (OH 根) 和质子，质子与表面氧原子结合，羟基离子占据表面的氧空位。</li>\n</ol>\n<ul>\n<li>密度泛函理论（Density Functional Theory，简称 DFT）是一种计算量子力学中电子结构的方法，它被广泛用于研究多电子体系的基态性质，一个多电子体系的基态性质可以通过其电子密度来唯一确定，而不是通过波函数。</li>\n<li>HER 机制是一个两电子转移过程（2H₂O + 2e⁻ → H₂ + 2OH⁻），这个反应动力学较慢，需要较高的能量输入，导致较大的过电位，通过设计和开发新材料来降低这一能量输入，通过催化这一反应。</li>\n</ul>\n<h2 id=\"实验结论\"><a class=\"anchor\" href=\"#实验结论\">#</a> 实验结论：</h2>\n<p>通过 DFT 方法生成并优化了 SrCoxFe1-xO3-δ（SCF）钙钛矿的各种可能构型，包括不同 Fe 和 Co 的位置以及氧空位的排列。首先发现 SrCoO₃和 SrFeO₃的基态为金属态，具有零带隙，与氧空位相关的 SCF-0.25 和 SCF-0.50 呈现非金属特性。</p>\n<h2 id=\"钙钛矿在无氧空位和有氧空位情况下的可能配置和结构\"><a class=\"anchor\" href=\"#钙钛矿在无氧空位和有氧空位情况下的可能配置和结构\">#</a> 钙钛矿在无氧空位和有氧空位情况下的可能配置和结构</h2>\n<hr />\n<p><strong>1. 无氧空位的钙钛矿配置</strong></p>\n<ul>\n<li>\n<p><strong>SrCo₀.₈Fe₀.₂O₃ 配置</strong>  ：</p>\n<ul>\n<li><strong>SCF-1 至 SCF-5</strong>（共 5 种配置）：\n<ul>\n<li><strong>构成</strong>：\n<ul>\n<li>SCF-1 至 SCF-4：Fe 和 Co 多面体随机分布，彼此较远。</li>\n<li>SCF-5：Fe 多面体相邻排列，形成两个 SrFeO₃单元嵌在 SrCoO₃中。</li>\n</ul>\n</li>\n<li><strong>特点</strong>：\n<ul>\n<li>SCF-5 是最稳定的（最低能量差为 0 kcal/mol）。</li>\n<li>SCF-5 中的 Fe-O 键长（1.92–1.97 Å）和 Co-O 键长（1.91–2.00 Å）比其他配置更分散。</li>\n<li>SCF-5 中存在 Jahn-Teller 畸变，降低了晶体对称性。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>SrCoₓFe₁₋ₓO₃ 配置</strong>（x=0.25, 0.50, 0.75）：</p>\n<ul>\n<li><strong>SCF-0.25</strong>：25% FeO₆嵌入 75% CoO₆。</li>\n<li><strong>SCF-0.50</strong>：50% FeO₆与 50% CoO₆交替排列（稳定结构中 Fe 多面体相邻）。</li>\n<li><strong>SCF-0.75</strong>：25% CoO₆嵌入 75% FeO₆。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>2. 含氧空位的钙钛矿配置</strong></p>\n<ul>\n<li>\n<p><strong>SrCo₀.₈Fe₀.₂O₂.₅ 配置</strong></p>\n<ul>\n<li><strong>氧空位生成方式</strong>：\n<ol>\n<li><strong>(a)</strong> MO₆八面体与 MO₄方形平面交替。</li>\n<li><strong>(b)</strong> 所有 MO₅方形锥。</li>\n<li><strong>(c)</strong> MO₆八面体与 MO₄方形平面邻接。</li>\n<li><strong>(d)</strong> MO₆八面体与 MO₅方形锥邻接。</li>\n<li><strong>(e)</strong> MO₆八面体与 MO₅方形锥共享金属中心。</li>\n</ol>\n</li>\n<li><strong>结构对比</strong>：\n<ul>\n<li><strong>SCF-5a</strong>（配置 a，Fe 多面体邻接）：最稳定。因为 FeO4 方形平面与 FeO6 八面体共享角，这有助于支持层间结构</li>\n<li><strong>SCF-1b 和 SCF-3b</strong>（配置 b，MO₅方形锥）：相对较稳定，比其他配置低 18.34 kcal/mol。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>SFO (SrFeO3) 和 SCO (SrCoO3) 配置</strong></p>\n<ul>\n<li>所有氧空位配置 (a-e) 对 SF 钙钛矿均为有利。</li>\n<li>在 SC 的情况下，形成 CoO5 方锥体的氧空位有序结构 (b) 相对稳定。</li>\n</ul>\n</li>\n<li>\n<p><strong>SrCoₓFe₁₋ₓO₂.₅ 配置</strong>（x=0.25, 0.50, 0.75）：</p>\n<ul>\n<li><strong>特点</strong>：\n<ul>\n<li>MO₆八面体与 MO₄方形平面或 MO₅方形锥交替排列。</li>\n<li>Fe 多面体邻接的结构更稳定。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>SrCoₓFe₁₋ₓO₂.₇₅ 配置</strong>（x=0.25, 0.50, 0.75）：</p>\n<ul>\n<li><strong>氧空位生成方式</strong>：\n<ul>\n<li>移除共享金属中心的氧原子。</li>\n<li>MO₆八面体与 MO₅方形锥交替排列。</li>\n</ul>\n</li>\n<li><strong>特点</strong>：\n<ul>\n<li>SCF-0.50 中，FeO₅方形锥相邻排列稳定性最高。</li>\n<li>CoO₅方形锥排列的配置能量较高，不稳定。</li>\n<li>上面两点即 SCF-0.50 结构中，FeO5 方锥嵌入 CoO6 八面体之间时表现出能量上的稳定性，而 CoO5 方锥嵌入 FeO6 八面体之间的结构则不稳定。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>3. 无氧空位与含氧空位结构的对比</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>配置 / 结构</strong></th>\n<th><strong>成分与排列</strong></th>\n<th><strong>特点</strong></th>\n<th><strong>稳定性</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SCF-1 至 SCF-5</strong></td>\n<td>Fe 和 Co 多面体的无氧空位排列</td>\n<td>SCF-5 中 Fe 多面体相邻排列，Jahn-Teller 畸变</td>\n<td>SCF-5 最稳定</td>\n</tr>\n<tr>\n<td><strong>SCF-0.25, 0.50, 0.75</strong></td>\n<td>不同比例 Fe/Co 多面体无氧排列</td>\n<td>SCF-0.50 中 Fe 多面体相邻排列最稳定</td>\n<td>SCF-0.50 更稳定</td>\n</tr>\n<tr>\n<td><strong>SCF-5a</strong></td>\n<td>Fe 多面体邻接，MO₆与 MO₄交替排列</td>\n<td>Fe-O-Fe 桥电荷转移，结构支撑性强</td>\n<td>含氧空位中最稳定</td>\n</tr>\n<tr>\n<td><strong>SCF-1b, 3b</strong></td>\n<td>MO₅方形锥排列</td>\n<td>能量比其他含氧空位配置低 18.34 kcal/mol</td>\n<td>次稳定</td>\n</tr>\n<tr>\n<td><strong>SCF-0.50 (O₂.₇₅)</strong></td>\n<td>FeO₅方形锥相邻排列</td>\n<td>带隙较大，化学稳定性更高</td>\n<td>含氧空位中最稳定</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<p><strong>4. 总结</strong></p>\n<ul>\n<li><strong>无氧空位的稳定性</strong>：Fe 多面体邻接排列（SCF-5, SCF-0.50）结构最稳定。</li>\n<li><strong>含氧空位的稳定性</strong>：氧空位形成 MO₆八面体与 MO₄方形平面交替（SCF-5a），或 FeO₅方形锥相邻排列（SCF-0.50 (O₂.₇₅)）的结构更稳定。</li>\n<li><strong>氧空位和 Fe/Co 组成共同决定了钙钛矿的稳定性和电子特性</strong>，为钙钛矿设计提供了重要依据。</li>\n</ul>\n<p>del</p>\n<ol>\n<li>无氧空位的钙钛矿配置：\n<ul>\n<li>生成了 SrCo0.8Fe0.2O3 钙钛矿的 10x1x1 超胞结构，基于铁（Fe）位置的不同，创造了五种不同的配置（标记为 SCF-1 到 SCF-5）。研究 Co/Fe 位置对结构和电子性质的影响。</li>\n<li>所有这些钙钛矿配置在能量上相差不大（1.71 kcal/mol 以内），晶体结构为立方体，空间群为 Pm3m。</li>\n<li>通过比较实验和理论值，发现 SCF-5 配置（相邻 Fe 多面体由两个 SrFeO3 单元格结构插入 SrCoO3 之间）相对更稳定，这归因于：(a) Fe-O 和 Co-O 键距 (相对其他构型变化更大)、键角的微小变化 (相对其他构型更偏离 90°)；(b) 由于相邻 Fe 多面体的存在，这导致 Fe 和 O 之间通过 Fe–O–Fe–O 桥的电荷转移，此外，∠OFeO 和∠FeOFe 角接近理想的 180°，为 179.71°，这有助于通过 Fe–O–Fe 键进行电荷转移，导致 SCF-5 的结构畸变；(c) SCF-5 中的 Fe–Fe 和 Co–Co 相互作用增强了 Jahn-Teller 畸变，并降低了对称性。</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"能带结构dos和pdos\"><a class=\"anchor\" href=\"#能带结构dos和pdos\">#</a> 能带结构，DOS 和 PDOS</h2>\n<hr />\n<p><strong>1. 总体分析</strong></p>\n<ul>\n<li>文章通过计算带结构、态密度 (DOS) 和部分态密度 (PDOS)，研究了不同钙钛矿配置的电子特性。</li>\n<li>结果表明，不同配置和氧空位的引入对钙钛矿的金属性或非金属性具有重要影响。</li>\n</ul>\n<hr />\n<p><strong>2. 不同钙钛矿配置的带结构和 DOS 分析</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>配置 / 结构</strong></th>\n<th><strong>金属性 / 带隙</strong></th>\n<th><strong>电子态特性</strong></th>\n<th><strong>关键发现</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SrCoO₃ (SC)</strong></td>\n<td>金属态，零带隙</td>\n<td>d 轨道的未配对电子占据费米能级附近</td>\n<td>Co 的 3d 轨道提升了费米能级</td>\n</tr>\n<tr>\n<td><strong>SrFeO₃ (SF)</strong></td>\n<td>金属态，零带隙</td>\n<td>Fe 的 3d 轨道占据费米能级</td>\n<td>Fe 的贡献导致费米能级略低于 SC</td>\n</tr>\n<tr>\n<td><strong>SrCo₀.₈Fe₀.₂O₃ (SCF-5)</strong></td>\n<td>金属态，零带隙</td>\n<td>Fe 和 Co 的 d 轨道共同作用</td>\n<td>Fe 掺杂增加了费米能级附近的电子态密度</td>\n</tr>\n<tr>\n<td><strong>SrCoₓFe₁₋ₓO₂.₇₅ (x=0.25, 0.50, 0.75)</strong></td>\n<td>SCF-0.25: 非金属，带隙 0.17 eV<br>SCF-0.50: 非金属，带隙 0.74 eV<br>SCF-0.75: 金属态</td>\n<td>Fe 或 Co 的 3d 轨道主导费米能级附近态密度</td>\n<td>SCF-0.50 的较大带隙表明其更高的化学稳定性</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<p><strong>3. 态密度 (DOS) 和分态密度 (PDOS) 分析</strong></p>\n<ul>\n<li><strong>主要态密度来源</strong>：\n<ul>\n<li>Co 和 Fe 的 d 轨道对费米能级的贡献最大，体现了强金属性。</li>\n<li>氧空位引入后，费米能级附近的氧 2p 态对电子性质有显著影响。</li>\n</ul>\n</li>\n<li><strong>氧空位的作用</strong>：\n<ul>\n<li>氧空位在 SF、SC 和 SCF 中引入新的电子态密度，增加费米能级附近的态密度，保持金属态。</li>\n<li>SCF-0.25 和 SCF-0.50 中，氧空位引入了带隙，导致材料的非金属性。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>4. 总结</strong></p>\n<ul>\n<li><strong>金属性与非金属性</strong>：\n<ul>\n<li>SrCoₓFe₁₋ₓO₃配置均为金属态。</li>\n<li>SrCoₓFe₁₋ₓO₂.₇₅配置中，氧空位引入带隙，使 SCF-0.25 和 SCF-0.50 呈现非金属性。</li>\n</ul>\n</li>\n<li><strong>稳定性</strong>：\n<ul>\n<li>带隙较大的 SCF-0.50 具有更高的化学稳定性，适合作为非金属功能材料。</li>\n</ul>\n</li>\n<li><strong>氧空位和成分调控</strong>：\n<ul>\n<li>氧空位通过改变电子态和费米能级，显著影响钙钛矿的导电性和化学稳定性。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"光电特性\"><a class=\"anchor\" href=\"#光电特性\">#</a> 光电特性</h2>\n<hr />\n<p><strong>1. 总体分析</strong></p>\n<ul>\n<li>研究了不同钙钛矿配置的功函数，以理解氧空位和成分调控对光电性能和导电性的影响。</li>\n<li>功函数的高低直接反映材料的电子释放能力，与其导电性和催化性能密切相关。</li>\n</ul>\n<hr />\n<p><strong>2. 功函数与导电性的关系</strong></p>\n<ul>\n<li>\n<p><strong>导电行为</strong>：</p>\n<ul>\n<li><strong>SrFeO₃ (SF)</strong> 和 <strong>SrCoO₃ (SC)</strong> 均表现出金属性，功函数较高（SC &gt; SF）。</li>\n<li><strong>SrCoₓFe₁₋ₓO₂.₅ (SCF-5a)</strong> 显示较低功函数，导电性较强。</li>\n<li><strong>SrCoₓFe₁₋ₓO₂.₇₅</strong> 的功函数随氧空位的引入和成分变化发生显著变化：\n<ul>\n<li>SCF-0.50 功函数最高，表现出非导电性。</li>\n<li>SCF-0.25 和 SCF-0.75 功函数较低，仍具有导电性。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>氧空位的影响</strong>：</p>\n<ul>\n<li>氧空位导致金属阳离子（如 Co 和 Fe）的氧化态降低，从而降低功函数。</li>\n<li>不同氧空位排列的配位环境（如 MO₆八面体、MO₅方形锥）显著影响材料的电子结构和光电性能。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>3. 不同配置之间的对比分析</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>配置 / 结构</strong></th>\n<th><strong>功函数趋势</strong></th>\n<th><strong>导电性</strong></th>\n<th><strong>氧空位与成分作用</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SC (SrCoO₃)</strong></td>\n<td>功函数高于 SF，3.84 eV</td>\n<td>金属态，导电性较强</td>\n<td>Co 引入额外电子，提高费米能级，增加功函数</td>\n</tr>\n<tr>\n<td><strong>SF (SrFeO₃)</strong></td>\n<td>功函数较高，3.61 eV</td>\n<td>金属态，导电性强</td>\n<td>Fe 电子贡献占主导，Fe 的电子密度较高，功函数较大</td>\n</tr>\n<tr>\n<td><strong>SF-b(SrFeO₂.₅)</strong></td>\n<td>功函数最低</td>\n<td>金属态，导电性最强</td>\n<td>氧空位的存在引入了额外的电子，使得 Fe 中心的 3d 电子能级向更低的能量移动，从而降低功函数</td>\n</tr>\n<tr>\n<td><strong>SCF-5 (SrCo₀.₈Fe₀.₂O₃)</strong></td>\n<td>功函数低于 SF 和 SC，3.22eV</td>\n<td>金属态，导电性适中</td>\n<td>Fe 掺杂引入电子态，降低功函数，增加电子释放能力</td>\n</tr>\n<tr>\n<td><strong>SCF-5a (SrCoₓFe₁₋ₓO₂.₅)</strong></td>\n<td>功函数较低 (较 SCF-1b 低)</td>\n<td>导电性较强</td>\n<td>Fe 和 O 特殊配位环境，降低功函数</td>\n</tr>\n<tr>\n<td><strong>SCF-0.25 (SrCoₓFe₁₋ₓO₂.₇₅ (x=0.25))</strong></td>\n<td>功函数较无氧空位降低 0.16 eV</td>\n<td>仍表现导电性</td>\n<td>氧空位引入新电子态，降低功函数</td>\n</tr>\n<tr>\n<td><strong>SCF-0.50 (SrCoₓFe₁₋ₓO₂.₇₅ (x=0.50))</strong></td>\n<td>功函数较无氧空位提高 0.49 eV</td>\n<td>非导电性</td>\n<td>FeO₅方形锥相邻排列，导致较大功函数</td>\n</tr>\n<tr>\n<td><strong>SCF-0.75 (SrCoₓFe₁₋ₓO₂.₇₅ (x=0.75))</strong></td>\n<td>功函数较无氧空位降低 0.16 eV</td>\n<td>仍表现导电性</td>\n<td>CoO₅与 FeO₅方形锥交替排列，降低功函数</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<p><strong>4. 总结</strong></p>\n<ul>\n<li>氧空位和成分调控（Fe/Co 比例）通过改变金属阳离子的电子分布和配位环境，显著影响功函数。</li>\n</ul>\n<h2 id=\"bader-电荷分析\"><a class=\"anchor\" href=\"#bader-电荷分析\">#</a> Bader 电荷分析</h2>\n<hr />\n<p><strong>1. 总体分析</strong></p>\n<ul>\n<li>Bader 电荷分析用于量化钙钛矿中各原子的电荷分布，揭示电子的转移和材料的电子特性。</li>\n<li>分析显示，钙钛矿中的电荷分布受到氧空位、阳离子组成（Fe/Co 比）以及配位环境的显著影响。</li>\n</ul>\n<hr />\n<p><strong>2. 氧空位对电荷分布的影响</strong></p>\n<ol>\n<li>\n<p><strong>氧阴离子的电荷变化</strong>：</p>\n<ul>\n<li>氧空位增加了氧阴离子的电子密度。</li>\n<li>SC-b 和 SF-b 中的氧电荷为 - 1.42 至 - 1.45 e，比无氧空位的 SC 和 SF 显著更负。</li>\n<li>SCF-5a 和 SCF-1b 中氧电荷在 - 1.32 至 - 1.37 e 之间，低于 SC-b 和 SF-b。</li>\n</ul>\n</li>\n<li>\n<p><strong>金属阳离子的电荷变化</strong>：</p>\n<ul>\n<li>氧空位降低了金属阳离子的电荷：\n<ul>\n<li>Co 电荷：从 + 1.49（SC）降低至 + 1.26（SCF-5a）。</li>\n<li>Fe 电荷：从 + 1.57（SF）降低至 + 1.48（SCF-1b）。</li>\n</ul>\n</li>\n<li>阳离子电荷的降低反映出电子从金属阳离子转移到氧阴离子。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>3. 配置之间的对比</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>配置 / 结构</strong></th>\n<th><strong>电荷转移特点</strong></th>\n<th><strong>氧空位的作用</strong></th>\n<th><strong>电子分布的特性</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SC (SrCoO₃)</strong></td>\n<td>Co 向 O 转移电子较少，电荷偏离纯离子态</td>\n<td>无氧空位，电荷分布均匀</td>\n<td>部分离子和共价结合，Co-O 特性更显著</td>\n</tr>\n<tr>\n<td><strong>SF (SrFeO₃)</strong></td>\n<td>Fe 向 O 转移更多电子，离子 - 共价混合特性更强</td>\n<td>无氧空位，电子分布均匀</td>\n<td>Fe-O 之间更高的电荷转移</td>\n</tr>\n<tr>\n<td><strong>SCF-5 (SrCo₀.₈Fe₀.₂O₃)</strong></td>\n<td>Co 和 Fe 均向 O 转移更多电子，增强 O 电荷</td>\n<td>无氧空位，Fe 掺杂增强电子转移</td>\n<td>Fe 和 Co 共同作用，电荷分布更集中</td>\n</tr>\n<tr>\n<td><strong>SC-b (O₂.₅)</strong></td>\n<td>氧空位增加 O 电荷密度，降低 Co 电荷转移</td>\n<td>氧空位改变 Co 配位环境，增强 O 吸引电子能力</td>\n<td>缺陷周围电子分布不均</td>\n</tr>\n<tr>\n<td><strong>SF-b (O₂.₅)</strong></td>\n<td>Fe 电荷降低，O 电荷增加</td>\n<td>氧空位导致 Fe-O 键中离子特性增强</td>\n<td>电荷更偏离共价结合</td>\n</tr>\n<tr>\n<td><strong>SCF-5a (O₂.₅)</strong></td>\n<td>Co 和 Fe 电荷最低，氧空位增强 O 电荷密度</td>\n<td>缺陷结构稳定，增强离子结合特性</td>\n<td>O 电荷集中分布在缺陷附近</td>\n</tr>\n<tr>\n<td><strong>SCF-1b (O₂.₅)</strong></td>\n<td>电荷均匀分布，但缺陷处电子密度较高</td>\n<td>氧空位的存在使电荷偏向 O 的孤对电子轨道</td>\n<td>配置更趋于稳定</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<p><strong>4. 关键结论</strong></p>\n<ol>\n<li>\n<p><strong>电荷转移机制</strong>：</p>\n<ul>\n<li>无氧空位时，Co 和 Fe 电荷较高，表明部分离子 - 共价结合特性。</li>\n<li>氧空位引入后，氧阴离子电荷密度增加，金属阳离子电荷降低，增强离子特性。</li>\n</ul>\n</li>\n<li>\n<p><strong>氧空位的作用</strong>：</p>\n<ul>\n<li>氧空位在 SC-b 和 SF-b 中显著增强了 O 的吸电子能力，降低了金属阳离子电荷。</li>\n<li>SCF-5a 中的氧空位配置导致 Co 和 Fe 的电荷显著降低，增强了结构的离子结合特性。</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"氢化钙钛矿\"><a class=\"anchor\" href=\"#氢化钙钛矿\">#</a> 氢化钙钛矿</h2>\n<hr />\n<p><strong>1. 总体分析</strong></p>\n<ul>\n<li>探讨了在氧空位钙钛矿中引入氢原子（H）、氢分子（H₂）以及水分子后的氢化行为。</li>\n<li>氢化后，材料的结构稳定性、金属 - 氢键合特性和电子分布发生显著变化，展现出潜在的储氢能力和催化特性。</li>\n</ul>\n<hr />\n<p><strong>2. 氢化行为的主要结果</strong><br />\n<strong>氢引入形式</strong></p>\n<ul>\n<li><strong>氢原子</strong>：占据氧空位位点，与金属或氧形成稳定键。</li>\n<li><strong>氢分子</strong>：进入氧空位位点，可能保持 H₂分子形态或分解成单原子形式。</li>\n<li><strong>水分子</strong>：在氧空位表面发生分解，形成氢氧根（OH⁻）和质子（H⁺）。</li>\n</ul>\n<hr />\n<p><strong>3. 氢化后不同配置的对比分析</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>配置 / 结构</strong></th>\n<th><strong>氢引入形式</strong></th>\n<th><strong>氢化后结构稳定性</strong></th>\n<th><strong>金属 - 氢键合特性</strong></th>\n<th><strong>电子分布和键长</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SF-b (O₂.₅)</strong></td>\n<td>H, H₂</td>\n<td>稳定，氢化能量 1.5-5 eV</td>\n<td>Fe-H 键形成，Fe 多面体变形</td>\n<td>Fe-H 键长：1.71 Å 和 2.29 Å</td>\n</tr>\n<tr>\n<td><strong>SC-b (O₂.₅)</strong></td>\n<td>H, H₂</td>\n<td>选择性氢化，CoO₅方形锥氢化稳定</td>\n<td>Co-H 键形成，呈等长桥键</td>\n<td>Co-H 键长：1.78 Å 和 1.79 Å</td>\n</tr>\n<tr>\n<td><strong>SCF-1b (O₂.₅)</strong></td>\n<td>H, H₂</td>\n<td>选择性氢化，含有 MO₆八面体与 MO₅方锥结构交错的配置氢化稳定</td>\n<td>Co-H 和 Fe-H 键分别形成</td>\n<td>Co-H 键长：1.74 Å，Fe-H 键长：1.97 Å</td>\n</tr>\n<tr>\n<td><strong>SCF-0.25 (O₂.₇₅)</strong></td>\n<td>H₂</td>\n<td>氢分子保持 H₂形态，桥接于 Co 和 Fe 之间，位于 CoO5 和 FeO5 方锥之间，这两者与 FeO6 八面体交错排列</td>\n<td>Co-H-Co 桥键形成</td>\n<td>H-H 键长：0.80 Å，H 电子密度：0.55 e</td>\n</tr>\n<tr>\n<td><strong>SCF-0.50 (O₂.₇₅)</strong></td>\n<td>H₂</td>\n<td>H₂分子稳定结合，但未完全分解，位于两个 FeO5 方锥之间，这两者与 CoO6 八面体交错排列</td>\n<td>Fe-H 桥键形成，部分保留 H-H 键</td>\n<td>H-H 键长：0.78 Å，H 电子密度：0.54 e</td>\n</tr>\n<tr>\n<td><strong>SCF-0.75 (O₂.₇₅)</strong></td>\n<td>H</td>\n<td>H 原子占据位于 CoO5 和 FeO5 方锥之间，且这两者与 CoO6 八面体交错排列</td>\n<td>Co-H 和 Fe-H 混合键合</td>\n<td>Co-H 键长：1.74 Å，Fe–H 键长：1.97 Å，H 电子密度：0.57 e</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<p><strong>4. 水分子引入和分解</strong></p>\n<ul>\n<li>在氧空位的 SF 表面引入水分子，通过分子动力学模拟发现：\n<ul>\n<li>水分子分解为 OH⁻和 H⁺，其中 H⁺与表面氧结合形成 O-H 键（键长 0.91 Å）。</li>\n<li>氢氧根填充氧空位，同时质子在表面氧之间迁移，形成动态键合网络。</li>\n<li>最终，氧空位被 OH⁻占据，水分解促进了氧表面活性。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>5. 配置与应用潜力分析</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>配置 / 结构</strong></th>\n<th><strong>氢化行为特点</strong></th>\n<th><strong>潜在应用</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SF-b (O₂.₅)</strong></td>\n<td>氢化能量高，Fe-H 键稳定</td>\n<td>储氢和催化应用</td>\n</tr>\n<tr>\n<td><strong>SC-b (O₂.₅)</strong></td>\n<td>CoO₅方形锥优先结合 H₂</td>\n<td>HER（析氢反应）催化</td>\n</tr>\n<tr>\n<td><strong>SCF-1b/5a (O₂.₅)</strong></td>\n<td>氢原子结合稳定，能量低</td>\n<td>可作为储氢材料，适用于动态储能系统</td>\n</tr>\n<tr>\n<td><strong>SCF-0.25/0.50 (O₂.₇₅)</strong></td>\n<td>H₂分子部分分解，形成桥接结构</td>\n<td>高效 HER 催化剂</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<p><strong>6. 总结</strong></p>\n<ul>\n<li>氢原子优先占据氧空位形成稳定的金属 - 氢键；氢分子可能保持完整或部分分解。</li>\n</ul>\n<h2 id=\"主要结论总结\"><a class=\"anchor\" href=\"#主要结论总结\">#</a> 主要结论总结</h2>\n<hr />\n<p><strong>1. 研究重点</strong></p>\n<ul>\n<li>研究了铁掺杂的 Sr 基钙钛矿（SrCoₓFe₁₋ₓO₃-δ）在不同氧空位排列下的结构和电子特性。</li>\n<li>探讨了铁掺杂位置、组成和氧空位对钙钛矿的结构稳定性、电子特性及反应性的影响，尤其是其在析氢反应（HER）中的潜在应用。</li>\n</ul>\n<hr />\n<p><strong>2. 主要结论</strong></p>\n<ol>\n<li>\n<p><strong>铁掺杂对结构和电子特性的影响</strong>：</p>\n<ul>\n<li>铁掺杂倾向于形成 Fe 多面体相邻排列的结构，有助于提高结构稳定性。</li>\n<li>铁的掺杂及其位置显著影响钙钛矿的电子带结构和费米能级分布。</li>\n</ul>\n</li>\n<li>\n<p><strong>氧空位的作用</strong>：</p>\n<ul>\n<li>氧空位的引入显著改变了钙钛矿的电子分布和化学性质：\n<ul>\n<li>SCF-0.25 和 SCF-0.50 由于氧空位的引入表现出非金属性，具有较大的带隙。</li>\n<li>SCF-0.50 的较大带隙（0.74 eV）提高了化学稳定性。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>析氢反应中的中间体稳定性</strong>：</p>\n<ul>\n<li>含氧空位的铁掺杂钙钛矿对 HER 中的中间体具有良好的稳定性。</li>\n<li>Fe 的位置和氧空位排列对析氢反应的催化性能至关重要。</li>\n</ul>\n</li>\n<li>\n<p><strong>氢化后的特性</strong>：</p>\n<ul>\n<li>含氧空位的钙钛矿能够选择性结合氢原子和氢分子。</li>\n<li>不同氧空位排列显著影响金属 - 氢键的结合模式和电子分布。</li>\n</ul>\n</li>\n<li>\n<p><strong>水分解行为</strong>：</p>\n<ul>\n<li>在氧空位的钙钛矿表面，水分子能够分解为氢氧根离子和质子，并通过氧空位迁移，增强表面催化活性。</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h2 id=\"pdf展示\"><a class=\"anchor\" href=\"#pdf展示\">#</a> PDF 展示：</h2>\n<p>pdf /pdf/S0022459622008593_main.pdf</p>\n<hr />\n",
            "tags": [
                "科研笔记",
                "毕设"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Scientific-Notes/2024-11-21-%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0-%E4%BA%8C/",
            "url": "https://ei4869.github.io/miyano/Scientific-Notes/2024-11-21-%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0-%E4%BA%8C/",
            "title": "毕设笔记(二)",
            "date_published": "2024-11-21T02:30:48.000Z",
            "content_html": "<h1 id=\"a-ferrite-synaptic-transistor-with-topotactic-transformation一种具有拓扑转化特性的铁氧体突触晶体管\"><a class=\"anchor\" href=\"#a-ferrite-synaptic-transistor-with-topotactic-transformation一种具有拓扑转化特性的铁氧体突触晶体管\">#</a> A Ferrite Synaptic Transistor with Topotactic Transformation (一种具有拓扑转化特性的铁氧体突触晶体管)</h1>\n<h2 id=\"主题\"><a class=\"anchor\" href=\"#主题\">#</a> 主题：</h2>\n<p>  通过电解质 (如离子液体) 门控控制从褐铁矿 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 到钙钛矿 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mrow><mn>3</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{3−δ}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span> 之间的拓扑相变，利用门控可调的多级导电状态，成功构建了一种具有电解质门控铁氧体薄膜的突触晶体管，这些导电状态源自拓扑相变诱导的不同缺氧钙钛矿结构 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。这种三端人工突触能够模拟重要的突触功能。<br />\n  三端电解质栅控晶体管具备额外的栅极控制，更适合实现低能耗的突触功能，信号传输可通过通道 (沟道) 完成，突触权重可通过栅极端调控。这类器件的通道需要采用先进的薄膜材料，以在电解质栅控下实现多重电阻状态。<br />\n  与作为相变存储基础的非晶态和晶态之间的相变不同。 span red, 拓扑相变通过调节氧化物中的氧化学计量比 实现相变。<br />\n  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 即<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>F</mi><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">SFO</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">SFO</span></span></span></span>，拥有拓扑相变特性，指的是锶铁氧体，这是一种具有顶位相变特性的钙钛矿结构的氧化物。在文献中，SFO 被研究用于人工突触器件，因为它能够在不同的氧含量下展现出不同的电子结构和导电性。<br />\n  BMSFO (Brownmillerite <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>2.5</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{2.5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2.5</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>)：指的是锶铁氧体的一种特定相态，即含有较少氧的布朗米勒矿相。BMSFO 是一种绝缘体，其晶体结构由交替层的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 八面体和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 四面体组成。在文献中，BMSFO 被用作电解质门控晶体管的通道材料，因为它可以通过顶位相变在绝缘和导电状态之间转换。<br />\n  PVSFO (Perovskite <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mrow><mn>3</mn><mo>−</mo><mi>δ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_{3−δ}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03785em;\">δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>)：指的是锶铁氧体的另一种相态，即钙钛矿相。PVSFO 与 BMSFO 不同，它因为氧原子的空位填充而表现出金属导电性，拥有以<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>e</mi><msub><mi>O</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">FeO_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 八面体为角共享的结构。在文献中，通过电解质门控可以实现 BMSFO 到 PVSFO 的相变，这种相变可以用来调控晶体管的导电状态，从而模拟生物突触的功能。<br />\n  离子液体栅控 (ILG) 不仅通过静电效应，还通过离子迁移引发的相变来实现电化学效应，通过 ILG 控制的功能离子在钴酸盐薄膜中的插入和提取，可实现不同相之间的可逆相变，因此拓扑相变材料薄膜可作为电解质栅控突触晶体管通道的理想候选材料。</p>\n<h2 id=\"实验结论\"><a class=\"anchor\" href=\"#实验结论\">#</a> 实验结论：</h2>\n<ol>\n<li>采用脉冲激光沉积法在（001）取向的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>T</mi><mi>i</mi><msub><mi>O</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">SrTiO_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（STO）衬底上生长了 BM-SFO 外延薄膜，使用离子液体 DEME-TFSI）作为电解质栅控介质，经过 ILG 负向栅控后，发生 BM 相向 PV 相的相变，薄膜的晶体结构转变为类似 PV 的结构，通过 ILG 引发的 BM 相和 PV 相之间的转变是可控且非易失的。</li>\n<li>器件结构：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>F</mi><mi>e</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrFeO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 薄膜形成源（S）和漏（D）电极之间的通道，离子液体（DEME-TFSI）作为栅控介质。</li>\n<li>通道可以在低导电态和高导电态之间可逆调控。随着 VG 从 0 扫向负值，器件导电性 (电导率) 增加；而当 VG 大于 0 时，器件导电性 (电导率) 降低。传输曲线显示出明显的滞回环，表明具有良好的可逆性。负向栅控可触发 SFO 薄膜从绝缘的 BM 相转变为导电的 PV 相，而正向栅控可使 SFO 薄膜从导电的 PV 相回到绝缘的 BM 相。</li>\n<li>施加负 VG 可增加通道电导率，而施加正 VG 则可降低通道电导率。更高的 VG 值会引起更大的通道导电调制使通道电导率在每次 “写入” 操作后可保持不变，表明具有固有的非易失性行为。（一旦通过 “write” 操作改变了通道的电导状态，即使去除了栅极电压，这种改变也能保持不变）。<br />\n可以认为：更高的 VG 值：能够更有效地诱导从 BMSFO 到 PVSFO 的相变，从而实现更大的电导调制，并且这种状态改变是稳定的，可以保持较长时间，体现了非易失性特性。<br />\n较低的 VG 值：可能不足以完全触发从 BMSFO 到 PVSFO 的相变，或者相变不完全，导致电导的增加不够稳定，可能会在 VG 去除后逐渐衰减回到原始状态，而不能实现长期的稳定保持。</li>\n<li>脉冲幅度和脉冲宽度对兴奋性突触后电流（EPSC）的影响：\n<ul>\n<li>脉冲幅度对 EPSC 的影响：通过改变栅极电压（VG）脉冲的幅度，可以改变 EPSC 的大小。具体来说，当 VG 脉冲的幅度增加时，EPSC 的幅度也会随之增加。推测这是因为更大的负 VG 脉冲会促进从绝缘的 BMSFO 相到导电的 PVSFO 相的相变，从而增加通道的电导。（该电流即固定<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mrow><mi>S</mi><mi>D</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">V_{SD}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> = 0.6 V 的条件下同时监测源 - 漏电流（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>I</mi><mrow><mi>S</mi><mi>D</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">I_{SD}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>），可以认为电导越大，电流越大）</li>\n<li>脉冲宽度对 EPSC 的影响：随着脉冲宽度的增加，栅极脉冲触发的 EPSC 峰值和保持值增加。推测这是因为更宽的脉冲提供了更多的时间来实现从 BMSFO 到 PVSFO 的相变，从而在通道中实现更大的电导变化。</li>\n</ul>\n</li>\n<li>通过向晶体管发送交替的负电压和正电压脉冲，可以控制晶体管在两种稳定的电导状态之间切换。负电压脉冲促进从 BMSFO 到 PVSFO 的相变，增加电导；而正电压脉冲则可能促进相反的相变，降低电导。（实验中施加 16 个 - 1.8 V 的负向 VG 脉冲将电导率从 4.8 nS 增加到 7.8 nS。接着，使用 24 个幅度为 + 1.8 V、脉冲宽度为 10 秒的 VG 脉冲，将导电状态逐步降低，电导率最终从 7.8 nS 减少到 4.8 nS。在循环中，电导状态稳定在 4.8 nS 和 7.8 nS 两个值）</li>\n<li>VG 控制的长期增强 (LTP) 和抑制行为 (LTD)，分别使用了 16 次负脉冲（−1.8 V，5 秒，间隔 10 秒）和 24 次正脉冲（1.8 V，10 秒，间隔 10 秒）。\n<ul>\n<li>这些负脉冲触发了从绝缘的 BMSFO 相到导电的 PVSFO 相的相变，导致通道电导增加。随着更多的负脉冲施加，更多的氧原子被插入到 SFO 通道中，使得 PVSFO 相的比例增加，从而增强了通道的电导。这个过程模拟了生物突触中 LTP 的过程，即突触权重的增加。</li>\n<li>这些正脉冲倾向于从 PVSFO 相中提取氧原子，促使相变回 BMSFO 相，导致通道电导减少。随着正脉冲的连续施加，PVSFO 相的比例减少，BMSFO 相的比例增加，从而降低了通道的电导。这个过程模拟了生物突触中 LTD 的过程，即突触权重的减少。</li>\n</ul>\n</li>\n<li>STDP（Spike-Timing-Dependent Plasticity，时序依赖性突触可塑性）是一种生物神经网络中的现象，它描述了突触强度如何根据前突触和后突触活动的相对时序来增加或减少。在人工神经网络和神经形态计算中，STDP 是一种重要的学习规则，用于模拟生物突触的这种时序依赖性可塑性。\n<ul>\n<li>STDP 原理：STDP 依赖于前突触（pre-neuron）和后突触（post-neuron）之间的尖峰（spike）（脉冲）时间差异 Δt。如果前突触尖峰先于后突触尖峰（Δt &gt; 0），则倾向于增强突触（LTP）；如果前突触尖峰晚于后突触尖峰（Δt &lt; 0），则倾向于抑制突触（LTD）。</li>\n<li>实验设置：文献中通过连接一个多路复用器（multiplexer）的输出端到晶体管的栅极，并使用这个设置将前突触和后突触尖峰之间的时间差异转换为电压脉冲。这样，通过调整栅极电压脉冲的时间差异，也就等价于改变施加在晶体管栅极上的电压脉冲的时序，从而影响通道电导率，可以模拟 STDP 现象。</li>\n<li>非对称 STDP：当突触强度的变化仅取决于前突触和后突触尖峰的时间顺序（即 Δt 的符号）时，发生非对称 STDP。如果前突触尖峰先于后突触尖峰（Δt &gt; 0），则发生 LTP；如果前突触尖峰晚于后突触尖峰（Δt &lt; 0），则发生 LTD。这种非对称 STDP 曲线可以通过指数衰减函数拟合，非对称 STDP 与生物神经网络中的 STDP 行为更为相似。</li>\n<li>对称 STDP：当突触强度的变化仅取决于前突触和后突触尖峰的时间差异的绝对值，而不取决于它们的时序（即 Δt 的符号不影响结果）时，发生对称 STDP。在这种情况下，无论前突触尖峰是先于还是晚于后突触尖峰，只要时间差异的绝对值相同，突触强度的变化就是相同的。对称 STDP 可以通过选择适当的源尖峰形状来实现，这通常涉及到对电压脉冲波形的特定调整。</li>\n</ul>\n</li>\n<li>在对字母 “I”、“O” 和 “P” 的图像在突触阵列中的编程测试中，有个对虚假脉冲的抗干扰测试−0.3 V 振幅，2 s 宽度）。对于该测试的理解：\n<ul>\n<li>突触阵列对写入脉冲敏感，意味着这些脉冲（通常具有特定的幅度和时间模式）能够引起突触阵列中电导的持久变化，从而存储信息；突触阵列对干扰脉冲不敏感，意味着这些脉冲（通常幅度较小，不符合写入脉冲的特征）不会引起突触阵列中电导的持久变化。</li>\n<li>当施加了低幅度的干扰脉冲序列后，突触阵列的电导会立即增加，但这种增加是短暂的，随后会迅速衰减。这种短期现象可以理解为静电效应，即干扰脉冲可能引起了一些瞬时的电荷重新分布，但这些变化不足以引起材料结构的长期改变。</li>\n<li>容错性体现在即使在干扰脉冲的影响下，突触阵列仍能保持原有的信息（即 “I” 的图像）。这意味着虽然干扰脉冲引起了短暂的电导变化，但这些变化不足以干扰或改变阵列中已经存储的信息。  即突触阵列的电导在干扰脉冲后能够回复到初始值，这里的 “初始值” 指的是在施加干扰脉冲之前，阵列中存储的 “I” 图像对应的电导值。</li>\n<li>该测试中写入图像通过施加 28 个 −1.8 V 栅极负脉冲，而擦除通过施加 22 个 +1.8 V 栅极正脉冲</li>\n</ul>\n</li>\n<li>在神经网络中，突触层由电解质门控晶体管交叉条阵列和接入设备组成。组成的交叉阵列由行线和列线交叉组成，每个交叉点可以代表一个突触。<br />\n当输入向量通过交叉阵列时，每个输入元素都会根据其对应的突触权重与行向量相乘，然后所有这些乘积被求和，得到该神经元的输出。  即向量 - 矩阵乘法操作。<br />\n在学习过程中，通过调整突触权重（即交叉点上的值），可以实现对权重矩阵的更新。这种更新可以通过计算输入向量和某个神经元输出向量的外积来实现，从而调整与该神经元相连的所有突触的权重。  即外积更新操作。</li>\n</ol>\n<h2 id=\"实验部分\"><a class=\"anchor\" href=\"#实验部分\">#</a> 实验部分：</h2>\n<ol>\n<li>样品制备：在 (001) SrTiO₃ 衬底（MTI Ltd.）上，通过脉冲激光沉积（PLD）方法在 308 nm XeCl 准分子激光的作用下外延生长厚度为 50 nm 的褐钙钛矿相 SrFeO₂.₅ 薄膜。激光能量密度约为 2 J cm⁻²，重复频率为 2 Hz。SFO 薄膜在 750 °C 下于流动的氧气气氛中沉积，氧压为 1 × 10⁻³ Pa，并以 30 °C/min 的速率冷却至室温。SFO 薄膜的沉积速率进一步通过 X 射线反射（XRR）进行校准。</li>\n<li>器件制备：采用标准光刻技术和氩离子刻蚀将薄膜制成带有共面栅结构的通道，通道尺寸为 210 µm × 50 µm。Pt 层通过电子束蒸发法制备作为电极。为了防止栅电极与源电极之间的电泄漏，使用硬化光刻胶作为隔离层。随后，在氧气气氛下于 250 °C 下退火 5 分钟，以增强电极接触性能。最后，通过滴加离子液体 N,N - 二乙基 - N-(2 - 甲氧基乙基)-N - 甲基铵双（三氟甲基磺酰基）亚胺于通道和栅电极上完成晶体管器件的制备。</li>\n<li>样品表征：\n<ul>\n<li>使用 X 射线衍射仪进行 X 射线衍射测量。</li>\n<li>使用光谱光度计在室温下测量光学透射光谱。</li>\n<li>使用扫描透射电子显微镜（STEM）和高角环形暗场（HAADF）成像技术表征 SFO 薄膜的原子结构。</li>\n<li>通过电子能量损失谱（EELS）和 X 射线吸收光谱（XAS）进一步揭示了 SFO 薄膜的电子结构和相变。</li>\n</ul>\n</li>\n<li>电学测量：\n<ul>\n<li>在常温环境条件下使用 Lakeshore 探针台和 Keithley 4200 半导体参数分析仪测量电解质门控 SFO 器件的电学特性。</li>\n<li>转移曲线的扫描速率约为 1 mV/s。</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"pdf展示\"><a class=\"anchor\" href=\"#pdf展示\">#</a> PDF 展示：</h2>\n<p>pdf /pdf/A_Ferrite_Synaptic_Transistor_with_Topotactic_Transformation.pdf</p>\n<hr />\n",
            "tags": [
                "科研笔记",
                "毕设"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Scientific-Notes/2024-11-20-%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0-%E4%B8%80/",
            "url": "https://ei4869.github.io/miyano/Scientific-Notes/2024-11-20-%E6%AF%95%E8%AE%BE%E7%AC%94%E8%AE%B0-%E4%B8%80/",
            "title": "毕设笔记(一)",
            "date_published": "2024-11-20T02:26:48.000Z",
            "content_html": "<h1 id=\"gate-tunable-anisotropic-oxygen-ion-migration-in-srcoox-toward-emerging-oxide-based-artificial-synapses门控可调各向异性氧离子迁移在srcoox中的应用迈向新兴的基于氧化物的人工突触\"><a class=\"anchor\" href=\"#gate-tunable-anisotropic-oxygen-ion-migration-in-srcoox-toward-emerging-oxide-based-artificial-synapses门控可调各向异性氧离子迁移在srcoox中的应用迈向新兴的基于氧化物的人工突触\">#</a> Gate-Tunable Anisotropic Oxygen Ion Migration in SrCoOx: Toward Emerging Oxide-Based Artificial Synapses (门控可调各向异性氧离子迁移在 SrCoOx 中的应用：迈向新兴的基于氧化物的人工突触)</h1>\n<h2 id=\"主题\"><a class=\"anchor\" href=\"#主题\">#</a> 主题：</h2>\n<p>  离子液体（IL）的栅极控制极化产生的超高电场可以操纵的 span red, 氧离子注入和萃取 ，实现离子液体门控的氧离子迁移，以实现绝缘态 SrCoO₂.₅(BM-SCO) 和金属态 SrCoO₃(P-SCO) 之间的可逆相变，还探索包括电场和浓度梯度在离子迁移中的作用，以及氧骨架对离子液体门控效应的影响。 并发现离子迁移高度依赖晶体方向，尤其是沿 [110] 方向，能实现快速氧离子传输通道。</p>\n<h2 id=\"实现装置\"><a class=\"anchor\" href=\"#实现装置\">#</a> 实现装置：</h2>\n<p>  用通过离子迁移操作的三端电解质晶体管模拟生物神经元和突触连接， span red, 栅电极 被视为突触前终端，用于施加尖峰脉冲； span red, 沟道层 相当于突触后膜，其电导率可被栅极电压（尖峰脉冲）改变。</p>\n<h2 id=\"实验结论\"><a class=\"anchor\" href=\"#实验结论\">#</a> 实验结论：</h2>\n<h3 id=\"bm-sco-中不同晶向对电导率的调制\"><a class=\"anchor\" href=\"#bm-sco-中不同晶向对电导率的调制\">#</a> BM-SCO 中不同晶向对电导率的调制</h3>\n<ul>\n<li>在 (001) 和 (011) SrTiO₃ (STO) 基底上沉积了厚度为 40 nm 的外延 BM-SCO 薄膜，以 BM-SCO 为沟道材料，作了一系列双沟道电解质晶体管器件，所谓双沟道，即通道 I：是直接与离子液体接触的通道，因此受到离子液体门控效应的影响，其电导率可以被门电压（Vg）调制。通道 II：是不与离子液体接触的通道，因此其电导率不受离子液体门控效应的直接影响，但可以通过通道 I 中的氧离子浓度梯度间接受到影响。</li>\n<li>σ₁：代表通道 I 的电导率，即直接位于离子液体（IL）下方的通道的电导率。σ₂：代表通道 II 的电导率，即没有被离子液体覆盖的通道的电导率。σ₁[100] 和 σ₂[100] 则是指这些通道沿着 [100] 方向的电导率，同理，σ₁[110] 和 σ₂[110] 则是指这些通道沿着 [110] 方向的电导率。</li>\n<li>(001) BM-SCO：表示 BM-SCO（SrCoO2.5）薄膜在晶体生长过程中，其晶体结构中的 (001) 平面与基底（substrate）的 (001) 平面平行。这意味着薄膜的晶体结构沿着基底的 [001] 方向生长，这个方向通常与基底的晶体结构相匹配，以实现外延生长。(011) BM-SCO：表示 BM-SCO 薄膜在晶体生长过程中，其晶体结构中的 (011) 平面与基底的 (011) 平面平行。这表明薄膜的晶体结构沿着基底的 [011] 方向生长。<br />\n这些数字代表了晶体的 Miller 指数，用于描述晶体中原子平面的方向。Miller 指数是一组三个整数，用于唯一标识晶体中的一个平面，它们是晶格平面与晶体坐标轴截距的倒数，并且通常取最小的正整数。</li>\n<li>实验发现：\n<ol>\n<li>先分析 (001) 和 (011) BM-SCO 中通道 I 沿 [100] 方向的电导率，(001) 和 (011) BM-SCO 的主要区别在于 (001) BM-SCO 的电导率变化所需的阈值电压较低，表明在电场作用下，(001) BM-SCO 中的面内氧离子迁移更容易、更快。</li>\n<li>当 (001) BM-SCO 的两个通道沿 [100] 方向时，即 σ₁[100] 和 σ₂[100]，发现 σ₂ 的变化始终落后于 σ₁。此时通道 I 中 σ₁ 和通道 II 中 σ₂ 的变化均由氧离子的迁移引起，但 σ₁是受到 IL/BM-SCO 界面的电场驱动，而 σ₂是受到两个通道之间氧离子浓度梯度的驱动。</li>\n<li>当 (001) BM-SCO 的两个通道沿 [110] 方向时，即 σ₁[110] 和 σ₂[110]，发现 σ₁-[110] 和 σ₂-[110] 对 Vg 的响应速度都快于 σ₁-[100] 和 σ₂-[100]，且在 [110] 方向 通道中的 σ₁ 和 σ₂ 的最大差值很小，两者很接近。而在 [100] 方向 通道中的 σ₁ 和 σ₂ 的最大差值很大。<br />\nσ₂ 对 Vg 的不同响应表明，由浓度梯度驱动的氧离子迁移具有高度的各向异性，且 [110] 方向迁移速度远快于 [100] 方向。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"001-和-011-bm-sco-的晶体结构\"><a class=\"anchor\" href=\"#001-和-011-bm-sco-的晶体结构\">#</a> (001) 和 (011) BM-SCO 的晶体结构</h3>\n<ul>\n<li>通过 (001) BM-SCO 薄膜分别沿 [100] 和 [110] 方向的投影制备了两种 STEM 样品，发现 [100] 和 [110] 投影的主要区别在于 [110] 投影的 CoO 亚层中存在周期性的 Co–Co 对，并且氧空位柱位于 Co–Co 配对之间的空隙中。[110] 方向上的 VO 柱可以提供快速的氧离子传输通道。</li>\n<li>相比 (001) BM-SCO，(011) BM-SCO 的 VO 柱具有平面外分量。由于 BM-SCO 的电导率是在平面内测量的，因此具有平面内 VO 柱的（001）BM-SCO 的电导率比具有平面外倾斜 VO 柱的（011）BM-SCO 的电导率变化更快。    u 与 1.3.1 实验发现 1 结论一致</li>\n</ul>\n<h3 id=\"bm-sco-人工突触的可塑性\"><a class=\"anchor\" href=\"#bm-sco-人工突触的可塑性\">#</a> BM-SCO 人工突触的可塑性</h3>\n<ul>\n<li>电导率、栅电压以及由 IL 门控引起的电导率变化可以分别看作突触权重、脉冲和突触可塑性。  short-term plasticity（短期可塑性）和 long-term plasticities（长期可塑性）是指人工突触模拟生物突触的两种不同的动态响应方式，它们分别对应于生物突触的短期和长期强度变化。这些特性是通过改变突触权重（在本研究中以电导率表示）来实现的，模拟了人脑中学习和记忆的过程。</li>\n<li>短期可塑性是指在较小的门电压（Vg）刺激下造成瞬时不稳定的氧离子迁移，BM-SCO 人工突触的电导率（突触权重）发生暂时性的改变。这种改变是可逆的，即在移除刺激后，电导率会恢复到原始状态。<br />\n在文献中，短期可塑性通过应用较小幅度的负 Vg 脉冲（对于 (001) BM-SCO 的 σ₁-[100]，例如 - 0.5 V 和 - 1 V）来实现，这些脉冲引起的电导率变化在脉冲结束后会迅速衰减回初始状态，表现为电导率的瞬时增加和随后的快速下降。</li>\n<li>长期可塑性是指在较大的门电压刺激下造成永久性氧离子迁移，BM-SCO 人工突触的电导率发生持久性的改变。这种改变是非挥发性的，即在移除刺激后，电导率的增加或减少可以长时间保持，模拟了长期记忆的形成。<br />\n在文献中，长期可塑性通过应用较大幅度的负 Vg 脉冲（对于 (001) BM-SCO 的 σ₁-[100]，例如 - 1.5 V、-1.7 V 和 - 2 V）来实现，这些脉冲引起的电导率变化在脉冲结束后仍然保持，表现为电导率的持续增加或减少。</li>\n<li>这两种可塑性是通过改变门电压的幅度和脉冲间隔来控制的。当脉冲间隔减小时，将可塑性从短期转变为长期，也可增强长期可塑性中的调制效果（负脉冲则电导率增强更多，正脉冲则电导率减少更多。）</li>\n<li>在 (011) BM-SCO 中，增加栅压 Vg 和缩短脉冲间隔同样会增强 σ1-[100]，但其长期可塑性所需的 Vg 阈值相对 (001) BM-SCO 更高。 u 与 1.3.1 实验发现 1 结论一致</li>\n<li>基于离子液体（IL）门控效应的可逆性：通过改变栅极电压，可以实现对材料电导率的增加或减少，并且在移除电压后，材料的电导率可以恢复到原始状态。<br />\n当在离子液体门控晶体管中施加负栅极电压时，氧离子会从离子液体注入到 BM-SCO 薄膜中，导致电导率增加。相反，当施加正栅极电压时，氧离子会从 BM-SCO 薄膜中提取出来，导致电导率减少。<br />\n这种电导率的变化是可逆的，即在移除栅极电压后，BM-SCO 薄膜的电导率可以恢复到未施加电压时的状态。<br />\n离子液体门控效应的这种可逆过程对应 BM-SCO 薄膜的相变，如从绝缘的 brownmillerite 相（SrCoO2.5）到金属的 perovskite 相（SrCoO3）的转变。</li>\n</ul>\n<h3 id=\"基于长期增强和长期抑制的手写数字识别模拟\"><a class=\"anchor\" href=\"#基于长期增强和长期抑制的手写数字识别模拟\">#</a> 基于长期增强和长期抑制的手写数字识别模拟</h3>\n<ul>\n<li>LTP 和 LTD 具有 “良好的线性开关特性” 意味着电导率的变化与施加的栅极电压（Vg）之间存在线性关系，即电导率的增加或减少与电压变化成比例。这种线性关系对于实现精确的突触权重调制至关重要。<br />\n非线性因子是用来量化 LTP 和 LTD 过程中电导率变化的非线性程度的参数。非线性因子越接近 1，表示电导率变化越接近线性。非线性因子是一个量化线性程度的指标，非线性因子较低表示电导率变化与输入信号之间的关系更接近于直线，这是一个理想的特性，因为它允许更精确和可预测的突触权重调整。</li>\n<li>实验发现， BM-SCO 人工突触的 LTP 和 LTD 的非线性因子分别为 0.70 和 0.81，整体上低于 (001) BM-SCO 人工突触的 0.60（LTP）和 1.29（LTD），因此导致了相对较高的识别精度。</li>\n</ul>\n<h3 id=\"基于各向异性权重调制的平面内-001-bm-sco突触的多样性\"><a class=\"anchor\" href=\"#基于各向异性权重调制的平面内-001-bm-sco突触的多样性\">#</a> 基于各向异性权重调制的平面内 (001) BM-SCO 突触的多样性</h3>\n<ul>\n<li>沿 [100] 和 [110] 方向分别制造了两个独立的双通道晶体管，串联的通道 I 由电场驱动发生氧离子迁移，而通道 II 由浓度梯度驱动发生氧离子迁移。<br />\n在 IL 中分解的氧离子首先在负栅电压下注入通道 I 的表面，从而在垂直方向上形成氧离子浓度梯度，驱动氧离子向薄膜中扩散。即使不再施加栅电压，氧离子通过浓度梯度驱动的扩散长度仍在微米量级。通道 I 中的较高氧离子浓度也会诱发横向浓度梯度，驱动氧离子向通道 II 的横向扩散。而当施加正栅电压时，氧离子浓度梯度和扩散方向则正好相反。</li>\n<li>当 Vg 为 - 0.5V 时，电场可能不足以在 σ2-[110] 和 σ2-[100] 通道中引起显著的氧离子迁移，因此它们的电导率变化不大。而 σ1-[110] 通道直接受到电场的影响，因此即使在较低的 Vg 下也能观察到短期可塑性。</li>\n<li>当 Vg 增加到 - 1.5V 时，电场变得更强，足以在 σ1-[110] 和 σ2-[110] 通道中引起显著的氧离子迁移，导致长期可塑性。然而，σ2-[100] 通道可能由于晶体取向的不同，氧离子迁移的路径和速率受到影响，因此在同样的 Vg 下，其电导率变化不如 σ2-[110] 显著。参见 1.3.2，[110] 方向上的 VO 柱可以提供快速的氧离子传输通道。</li>\n<li>当 Vg 进一步增加到 - 2V 时，电场变得更强，足以在所有通道中引起更显著的氧离子迁移。σ1-[110] 和 σ2-[110] 通道各由于电场和浓度梯度的作用，表现出更强的长期可塑性。而对于 σ2-[100] 通道，尽管其电导率变化不如 σ2-[110] 显著，但在更强的横向浓度梯度驱动下，也开始表现出短期可塑性。</li>\n</ul>\n<h2 id=\"实验部分\"><a class=\"anchor\" href=\"#实验部分\">#</a> 实验部分</h2>\n<ol>\n<li>样品制备：<br />\n高质量的 BM-SCO 薄膜，厚度约为 40 纳米，通过脉冲激光沉积法在 (001) 和 (011) SrTiO3 (STO) 基底上生长。(使用的是 248 nm KrF 氪氟激光器。激光的能量密度为 1.2 J/cm²)<br />\n BM-SCO 薄膜在 760°C 和 5×10^-4 mbar 的氧气压力下生长，随后在 1×10^-3 mbar 的氧气压力下冷却至室温。</li>\n<li>器件结构：<br />\n通过光刻和湿法刻蚀，BM-SCO 薄膜被图案化为双通道晶体管结构，通道长度为 400 微米，宽度为 100 微米。<br />\n通过磁控溅射技术沉积铂 (Pt) 和钛 (Ti) 作为电极。</li>\n<li>门电解质：<br />\n使用离子液体 N,N - 二乙基 - N (2 - 甲氧基乙基)-N - 甲基铵双三氟甲磺酰亚胺 (DEME-TFSI) 作为栅极电解质。滴加到特定位置，以覆盖栅电极和通道 I。</li>\n<li>测量条件：<br />\n所有测量在 300K（室温）下进行。<br />\n源 - 漏极之间的读电压为 0.1V。</li>\n<li>电导率测量：\n<ul>\n<li>使用 Keithley 2400 源表以双探针配置测量 BM-SCO 器件的电导率。</li>\n<li>不同的连续或脉冲栅电压通过另一台 Keithley 2400 源表施加于栅极与漏极之间。</li>\n</ul>\n</li>\n<li>晶体结构和原子结构表征：\n<ul>\n<li>使用原子分辨率的校正 STEM（扫描透射电子显微镜）来研究原子结构。</li>\n<li>使用 X 射线衍射和 X 射线吸收光谱测量来检查薄膜的晶体结构。</li>\n</ul>\n</li>\n<li>磁性能测量：\n<ul>\n<li>使用 VersaLab（Quantum Design）测量磁性能。</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"一些要点\"><a class=\"anchor\" href=\"#一些要点\">#</a> 一些要点</h2>\n<p>基于 BM-SCO（brownmillerite SrCoO2.5）的电解质晶体管来构建人工神经网络：<br />\n工作过程：</p>\n<ol>\n<li>输入层到隐藏层的转换：\n<ul>\n<li>人工神经网络的输入层包含多个输入神经元，每个神经元对应一个输入值。在硬件实现中，这些输入值是数字图像的像素值。</li>\n<li>这些输入值被送入一个 BM-SCO 基电解质晶体管交叉阵列，该阵列的大小为 Xm×Hn，其中 Xm 是输入神经元的数量，Hn 是隐藏神经元的数量。</li>\n<li>通过施加 “读取脉冲”（read pulses），输入层的每个像素值都会激活对应的晶体管，从而在隐藏层产生 Hn 个隐藏神经元的输出，这些输出被称为 “读取输出”（read output）。</li>\n</ul>\n</li>\n<li>隐藏层到输出层的转换：\n<ul>\n<li>隐藏层的输出随后被送入另一个 Hn×10 的 BM-SCO 基电解质晶体管交叉阵列，以产生输出层的神经元值。</li>\n<li>这些输出神经元的值范围从 0 到 9，代表图像识别的结果，例如手写数字识别。</li>\n</ul>\n</li>\n<li>训练过程：\n<ul>\n<li>在训练过程中，通过 “编程脉冲”（programming pulses），可以修改交叉阵列中晶体管的电导率，从而调整突触权重。</li>\n<li>这些权重的调整是基于经典的反向传播算法，使用曼哈顿规则进行硬件训练，以提高识别的准确性。<br />\n原理：</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li>电解质晶体管的门控效应：\n<ul>\n<li>BM-SCO 电解质晶体管的关键在于其门控效应，即通过改变栅极电压（Vg）来控制晶体管的电导率，模拟突触权重的变化。</li>\n<li>这种门控效应允许晶体管模拟突触的长时程增强（LTP）和长时程抑制（LTD），即突触权重的长期增加和减少。</li>\n</ul>\n</li>\n<li>向量矩阵乘法：\n<ul>\n<li>通过调整每个晶体管的电导率，晶体管交叉阵列可以执行向量矩阵乘法，这是神经网络中前向传播的基本操作。</li>\n<li>每个输入向量与突触权重矩阵的乘积产生了隐藏层的输出向量。</li>\n</ul>\n</li>\n<li>硬件训练：\n<ul>\n<li>在训练阶段，通过调整栅极电压来改变晶体管的电导率，从而优化突触权重，这是模拟神经网络学习过程的关键。<br />\n一些解释：</li>\n</ul>\n</li>\n</ul>\n<ol>\n<li>理解 “编程脉冲”：\n<ul>\n<li>“编程脉冲”（programming pulses）是指在人工突触的训练过程中，用于调整突触权重（即晶体管电导率）的一系列电信号。这些脉冲基于学习规则（如反向传播算法）来修改突触权重，以优化网络的性能。</li>\n<li>这些脉冲的施加依据是网络的错误信号，即实际输出与期望输出之间的差异。通过这个差异，可以计算出权重调整的方向和幅度，以减少未来的错误。</li>\n</ul>\n</li>\n<li>理解突触权重：\n<ul>\n<li>在人工神经网络中，突触权重代表了输入信号对输出信号的影响程度。在 BM-SCO 基电解质晶体管交叉阵列中，突触权重通过晶体管的电导率来模拟。电导率较高的晶体管表示较强的连接（较大的权重），而电导率较低的晶体管表示较弱的连接（较小的权重）。</li>\n</ul>\n</li>\n<li>通过调整每个晶体管的电导率实现向量矩阵乘法：\n<ul>\n<li>向量矩阵乘法是神经网络中前向传播的基本操作，它计算输入向量与权重矩阵的乘积以产生输出向量。</li>\n<li>在 BM-SCO 基电解质晶体管交叉阵列中，每个晶体管的电导率对应于权重矩阵中的一个元素。通过调整每个晶体管的电导率，可以实现权重矩阵与输入向量的乘法运算。具体来说，输入信号（如图像的像素值）激活对应的晶体管，产生不同的栅压，而栅极电压控制的电导率决定了信号的强度，从而模拟了权重与输入的乘积。</li>\n</ul>\n</li>\n<li>“读取脉冲” 与晶体管数量的关系：\n<ul>\n<li>“读取脉冲”（read pulses）是指用于从输入层读取信号并激活对应晶体管的电信号。在这种情况下，每个输入信号（如图像的一个像素值）对应一个晶体管，这意味着晶体管的数量与输入层的像素值数量一致。</li>\n<li>这种一一对应的关系确保了每个输入信号都能独立地影响网络的输出，从而允许网络处理复杂的输入模式，如图像识别。</li>\n</ul>\n</li>\n</ol>\n<p>全流程：<br />\n步骤 1：图像输入</p>\n<ul>\n<li><strong>输入层</strong>：输入数据是手写数字的图像，每个图像被转换成一个数字矩阵，其中每个元素代表一个像素值。</li>\n<li><strong>像素值</strong>：图像中的每个像素值对应于输入层的一个神经元。</li>\n</ul>\n<p>步骤 2：输入信号的读取</p>\n<ul>\n<li><strong>读取脉冲</strong>：为了读取输入信号，对每个输入神经元施加 “读取脉冲”（read pulses），这实际上是一系列电信号，用于激活与每个输入像素值相对应的晶体管。</li>\n<li><strong>晶体管激活</strong>：每个输入信号（像素值）激活对应的晶体管，产生不同栅压，栅压再调控电导率，晶体管的电导率代表了该输入信号的权重。</li>\n</ul>\n<p>步骤 3：向量 - 矩阵乘法</p>\n<ul>\n<li><strong>突触权重矩阵</strong>：输入层的信号通过 BM-SCO 基电解质晶体管交叉阵列，这个阵列代表了突触权重矩阵。</li>\n<li><strong>电导率调整</strong>：每个晶体管的电导率被调整以模拟突触权重，这些权重是通过训练过程中的 “编程脉冲”（programming pulses）确定的。</li>\n<li><strong>信号加权</strong>：输入信号（像素值）通过各自的晶体管，根据晶体管的电导率（突触权重）进行加权。</li>\n</ul>\n<p>步骤 4：隐藏层的计算</p>\n<ul>\n<li><strong>隐藏层输出</strong>：加权后的信号在隐藏层神经元中进行累加，产生隐藏层的输出，这个过程模拟了神经网络中的前向传播。</li>\n<li><strong>非线性激活</strong>：在某些情况下，可能还会应用非线性激活函数来引入非线性特性，增强网络的表达能力。</li>\n</ul>\n<p>步骤 5：输出层的计算</p>\n<ul>\n<li><strong>输出层信号传递</strong>：隐藏层的输出信号被传递到另一个 BM-SCO 基电解质晶体管交叉阵列，这个阵列代表了从隐藏层到输出层的突触权重矩阵。</li>\n<li><strong>最终输出计算</strong>：再次进行向量 - 矩阵乘法，计算隐藏层输出与输出层权重的乘积，得到最终的输出信号。</li>\n</ul>\n<p>步骤 6：输出结果</p>\n<ul>\n<li><strong>输出层神经元</strong>：输出层的神经元数量通常与分类任务的类别数相匹配，例如，手写数字识别可能有 10 个输出神经元，每个神经元代表一个数字（0 到 9）。</li>\n<li><strong>识别结果</strong>：输出层神经元的激活值（电导率）决定了最终的识别结果。通常，具有最高激活值的神经元对应的类别被认为是输入图像的识别结果。</li>\n</ul>\n<p>步骤 7：训练和优化</p>\n<ul>\n<li><strong>误差反馈</strong>：在训练阶段，网络的输出与真实标签进行比较，计算误差。</li>\n<li><strong>权重更新</strong>：基于误差，使用反向传播算法更新突触权重（晶体管电导率），以减少未来的误差。</li>\n</ul>\n<p>步骤 8：迭代学习</p>\n<ul>\n<li><strong>多次迭代</strong>：通过多次迭代训练，网络逐渐学习如何准确地识别手写数字，每次迭代都通过调整突触权重来优化网络的性能。</li>\n</ul>\n<p>通过上述步骤，基于 BM-SCO 电解质晶体管交叉阵列的硬件实现神经网络能够从图像输入中学习特征，并最终输出识别结果。这种硬件实现利用了材料的电学特性来模拟神经网络的计算过程，为开发低功耗、高效率的神经形态计算系统提供了新的思路。</p>\n<h2 id=\"pdf展示\"><a class=\"anchor\" href=\"#pdf展示\">#</a> PDF 展示：</h2>\n<p>pdf /pdf/Gate_Tunable_Anisotropic_Oxygen_Ion_Migration_in_SrCoOx_Toward_Emerging.pdf</p>\n<hr />\n",
            "tags": [
                "科研笔记",
                "毕设"
            ]
        },
        {
            "id": "https://ei4869.github.io/miyano/Playful-Exploration/Blog%E6%90%AD%E5%BB%BA%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9/",
            "url": "https://ei4869.github.io/miyano/Playful-Exploration/Blog%E6%90%AD%E5%BB%BA%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9/",
            "title": "Blog搭建的一些知识点",
            "date_published": "2024-10-22T02:36:40.000Z",
            "content_html": "<hr />\n<details class=\"info\"><summary>编辑记录</summary><div>\n<div class=\"note info\">\n<p>2024-10-22 第一次编辑</p>\n</div>\n<ul>\n<li>设置随机背景和一些小坑</li>\n</ul>\n<div class=\"note info\">\n<p>2024-10-25 第二次编辑</p>\n</div>\n<ul>\n<li>其他碎碎念</li>\n</ul>\n<div class=\"note info\">\n<p>2024-11-16 第三次编辑</p>\n</div>\n<ul>\n<li>完善音乐界面</li>\n</ul>\n<div class=\"note info\">\n<p>2024-11-23 第四次编辑</p>\n</div>\n<ul>\n<li>解决一些 bug</li>\n</ul>\n<div class=\"note info\">\n<p>2024-12-09 第五次编辑</p>\n</div>\n<ul>\n<li>优化看板娘</li>\n</ul>\n</div></details>\n<p>  本文章是作为此次开发个人<strong> Hexo</strong> 博客过程遇到的坑及其解决方法的总结。</p>\n<h2 id=\"怎么设置随机主题背景\"><a class=\"anchor\" href=\"#怎么设置随机主题背景\">#</a> 怎么设置随机主题背景</h2>\n<h3 id=\"随机文章封面背景\"><a class=\"anchor\" href=\"#随机文章封面背景\">#</a> 随机文章封面背景</h3>\n<p>  随机文章封面的实现使用的是 hexo 后端静态的 js 脚本实现，在 <code>\\themes\\butterfly\\scripts</code>  中新建 <code>random_img.js</code> ，每当重新 hexo 三连时，都会执行这里的 js，不过是静态的，不能动态变化，即不能刷新网页执行。<br />\n  该脚本的思路是：通过 <code>hexo.theme.config.xxx</code>  来读取主题配置文件 ( <code>_config.butterfly.yml</code> ) 的对应参数，这里是 <code>mytheme</code> ，读取之后根据是否有值来决定根据日期随机还是选择某个确定主题。<br />\n  该脚本不需要<em> inject</em> 注入，这里设置文章封面本质还是获取了主题配置文件的 <code>cover</code>  参数进行封面设置。</p>\n<h3 id=\"随机小站背景\"><a class=\"anchor\" href=\"#随机小站背景\">#</a> 随机小站背景</h3>\n<p>  设置随机背景，使用的是前端能动态刷新的 js 脚本实现，并与后端 js 进行通信传递参数，在 <code>\\themes\\butterfly\\source\\js</code>  中新建 <code>randombg.js</code> ，此为前端脚本，负责刷新封面；在 <code>\\themes\\butterfly\\scripts</code>  中新建 <code>setbgtheme.js</code> ，此为后端脚本，负责获取主题配置文件参数，并传递到前端 js。<br />\n   <code>setbgtheme.js</code>  的代码如下：<br />\ntabs setbgtheme, 2</p>\n<!-- tab -->\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'after_render:html'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> bgtheme <span class=\"token operator\">=</span> hexo<span class=\"token punctuation\">.</span>theme<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>bgtheme<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;/head>'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        &lt;script></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            window.bgtheme = \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>bgtheme<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">\";</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        &lt;/script></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    &lt;/head></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><!-- endtab -->\n<!-- tab -->\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'after_render:html'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> bgtheme <span class=\"token operator\">=</span> hexo<span class=\"token punctuation\">.</span>theme<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>Mytheme<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;/head>'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        &lt;script></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            window.bgtheme = \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>bgtheme<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">\";</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        &lt;/script></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    &lt;/head></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><!-- endtab -->\n<p>endtabs<br />\n 作用是在渲染 html 后，获取主题配置文件的参数 <code>bgtheme</code> ，并通过 <code>window.bgtheme</code>  传递到前端脚本。<br />\n   <code>randombg.js</code>  的类似前面随机文章封面，但设置封面是通过 <code>F12</code>  获取网站对应封面元素，再进行设置，但注意，由于设置封面是使用了 <code>url()</code>  的形式，其中的图片链接参数的空格会被忽略，因此要加上空格转换为 <code>%20</code>  的代码 <code>const backgroundUrl = backimg.replace(/ /g, &quot;%20&quot;)</code> ，此外，要想获取到封面元素，主题配置文件中的参数 <code>background</code>  必须要设置一个默认封面，网页才能渲染出元素用于脚本获取。（该脚本需要在主题配置文件进行<em> inject</em> 注入，每次刷新网页都会进行更新）</p>\n<h3 id=\"随机磁贴封面背景\"><a class=\"anchor\" href=\"#随机磁贴封面背景\">#</a> 随机磁贴封面背景</h3>\n<p>  设置随机背景，使用的是前端能动态刷新的 js 脚本实现，并与后端 js 进行通信传递参数，在 <code>\\themes\\butterfly\\source\\js</code>  中新建 <code>random_mag_bg.js</code> ，此为前端脚本，负责刷新封面；在 <code>\\themes\\butterfly\\scripts</code>  中新建 <code>setmagtheme.js</code> ，此为后端脚本，负责获取配置文件 ( <code>_config.yml</code> ) 参数，并传递到前端 js。<br />\n   <code>setmagtheme.js</code>  的代码如下：<br />\ntabs setmagtheme, 2</p>\n<!-- tab -->\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'after_render:html'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> config <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> hexo<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// 读取选定主题</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">const</span> selectedTheme <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>selected_theme<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;/head>'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        &lt;script></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            window.selectedTheme = \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>selectedTheme<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">\";</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            console.log(\"当前mag主题:\", window.selectedTheme);</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        &lt;/script></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    &lt;/head></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><!-- endtab -->\n<!-- tab -->\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'after_render:html'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> selectedTheme <span class=\"token operator\">=</span> hexo<span class=\"token punctuation\">.</span>theme<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>Mytheme</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;/head>'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        &lt;script></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            window.selectedTheme = \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>selectedTheme<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">\";</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            console.log(\"当前mag主题:\", window.selectedTheme);</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        &lt;/script></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    &lt;/head></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><!-- endtab -->\n<p>endtabs</p>\n<p>由此将配置文件的参数 <code>config.selected_theme</code>  通过 <code>window.selectedTheme</code>  传递到前端 js。<br />\n   <code>random_mag_bg.js</code>  与 <code>randobg.js</code>  类似，也是获取网页对应部分元素设置背景图片，不过不需要在配置文件先配置 <code>message.cover</code> ，但同样需要在主题配置文件注入。</p>\n<p>tip warning faa-horizontal animated-hover 有空时可以将配置文件的三个 theme 合为一个 endtip<br />\nnote success simple 已成功统一参数为 Mytheme 2024.10.25 endnote</p>\n<h2 id=\"一些小坑\"><a class=\"anchor\" href=\"#一些小坑\">#</a> 一些小坑</h2>\n<h3 id=\"自动部署遇到问题\"><a class=\"anchor\" href=\"#自动部署遇到问题\">#</a> 自动部署遇到问题</h3>\n<ul>\n<li>在 <code>Github Actions</code>  启动自动部署时，发现当按时间触发时， <code>random_img.js</code>  并没有按日期更换主题，而当 <code>push</code>  触发时，却能切换，查找资料，<s>发现原来是因为时间触发时没有清理图片缓存导致没法更新 ，解决方法就是在图片链接后加 <code>'?v=' + new Date().getTime()</code> ，例如 <code>https://cloudflare-imgbed-9os.pages.dev/file/1729429003335_kon_24.webp?v=1729578064697</code> 。</s> 这样每次加载图片都会变化，但加上这个字符串并不会影响原来图片的有效性。</li>\n<li>在首次进行自动部署时，需要获取追番信息的话，需要在 <code>autodeploy.yml</code>  中加入相应代码：</li>\n</ul>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 生成静态文件</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        hexo bangumi -u #或者hexo bangumi -u 'SESSDATA'</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        hexo clean</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        hexo generate</span></pre></td></tr></table></figure><ul>\n<li>\n<p><a href=\"https://akilar.top/posts/f752c86d/\"> <code>Github Pages</code>  全自动部署教程</a></p>\n</li>\n<li>\n<p>10.25 更新：重新写一个自动部署程序，前面通过在图片后加日期字符串并不起作用，于是采用 <code>hexo deploy</code>  的方式进行部署。步骤如下：</p>\n<ul>\n<li><strong>在生成</strong> SSH<strong> 密钥时，确保生成 PEM 格式的密钥</strong>：</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ssh-keygen <span class=\"token parameter variable\">-t</span> rsa <span class=\"token parameter variable\">-b</span> <span class=\"token number\">4096</span> <span class=\"token parameter variable\">-m</span> PEM <span class=\"token parameter variable\">-C</span> <span class=\"token string\">\"your_email@example.com\"</span></pre></td></tr></table></figure><ul>\n<li><strong>将 SSH 公钥添加到 GitHub</strong>：\n<ul>\n<li>打开 GitHub 网站，在你的用户设置中找到  <code>Settings &gt; SSH and GPG keys</code></li>\n<li>点击  <code>New SSH key</code> ，将生成的  <code>id_ed25519.pub(假如是id_ed25519)</code>  文件中的内容复制并粘贴到 GitHub 的 SSH 公钥输入框中。</li>\n</ul>\n</li>\n<li><strong>在 GitHub Actions 中添加 SSH 私钥</strong>：\n<ul>\n<li>进入你的 GitHub 项目页面，点击  <code>Settings &gt; Secrets and variables &gt; Actions</code> 。</li>\n<li>添加一个新的  <code>Secret</code> ，命名为  <code>ACTIONS_DEPLOY_KEY</code> ，并将  <code>id_ed25519</code>  文件的内容复制进去。注意，这里是 SSH 的私钥。</li>\n</ul>\n</li>\n<li><strong>修改 _config.yml 使用 SSH URL</strong>：\n<ul>\n<li>使用 SSH URL 代替 HTTPS，修改 _config.yml 文件的 deploy 配置，如下所示：<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>ei4869/ei4869.github.io.git</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main</pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><strong>更新 GitHub Actions 工作流以支持 SSH</strong>：</li>\n</ul>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 自动部署</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> master</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token punctuation\">-</span> published</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\"># 每天的 0 点和 3 点（北京时间）自动部署</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 16 * * *'</span>  <span class=\"token comment\"># UTC 时间 16 点对应北京时间 0 点.</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 19 * * *'</span>  <span class=\"token comment\"># UTC 时间 19 点对应北京时间 3 点.</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 检查分支</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token key atrule\">ref</span><span class=\"token punctuation\">:</span> master</pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装 Node</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"20.x\"</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 设置时区</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"TZ='Asia/Shanghai'\" <span class=\"token punctuation\">></span><span class=\"token punctuation\">></span> $GITHUB_ENV.</pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装 Hexo</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        export TZ='Asia/Shanghai'</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        npm install hexo-cli -g</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 缓存 Hexo</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/cache@v1</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> cache</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> node_modules</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼0<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">-</span>$&lt;<span class=\"token tag\">!--swig</span>￼1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装依赖</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>      <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> steps.cache.outputs.cache<span class=\"token punctuation\">-</span>hit <span class=\"token tag\">!=</span> 'true'</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        npm install --save</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 生成静态文件</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        export TZ='Asia/Shanghai'  # 设置时区</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        hexo clean</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        hexo generate</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        gulp</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 配置 Git 用户信息和分支</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        git config --global user.name \"$\"</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        git config --global user.email \"$\"</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 设置 SSH 密钥</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> webfactory/ssh<span class=\"token punctuation\">-</span>agent@v0.5.3</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token key atrule\">ssh-private-key</span><span class=\"token punctuation\">:</span> $&lt;<span class=\"token tag\">!--swig</span>￼4<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 部署</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        hexo deploy</span></pre></td></tr></table></figure><p>通过以上，能实现定时自动重启项目，并且随机文章封面能定时更新。</p>\n</li>\n</ul>\n<h3 id=\"hexo-butterfly-categories-card插件bug\"><a class=\"anchor\" href=\"#hexo-butterfly-categories-card插件bug\">#</a> hexo-butterfly-categories-card 插件 bug</h3>\n<p>  该插件 bug 显示的分类的名字和描述对应不上，于是暂时没有其他方法，只能不设置 <code>message.descr</code>  参数，即不显示描述。</p>\n<h3 id=\"自定义一个樱花飘落脚本\"><a class=\"anchor\" href=\"#自定义一个樱花飘落脚本\">#</a> 自定义一个樱花飘落脚本</h3>\n<p>  原脚本樱花是全屏飘落，我在 <code>gallery\\index.md</code>  中通过</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">async</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>进行注入，但要想部分区域注入樱花特效的话，我新建了 <code>js\\sakuraa.js</code> ，通过修改获取的网页的元素可进行指定区域内飘落。</p>\n<h3 id=\"相册界面魔改\"><a class=\"anchor\" href=\"#相册界面魔改\">#</a> 相册界面魔改</h3>\n<p>  本质通过外挂标签设置图库集合，在其 <code>index.md</code>  中添加：</p>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>gallery-group-main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"3\"></td><td><pre> galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"4\"></td><td><pre> galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>但我为了指定单独修改 <code>gallery</code>  的界面，为其添加了指定的类 <code>gallery-page</code> ，如下：(10.25，更好的指定 class 的方法)<br />\ntabs gallery-page, 2</p>\n<!-- tab -->\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>gallery-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>gallery-group-main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"4\"></td><td><pre> galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"5\"></td><td><pre> galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><!-- endtab -->\n<!-- tab -->\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>gallery-group-main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>     galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     galleryGroup name description link img-url </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gallery-page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><!-- endtab -->\n<p>endtabs<br />\n 这样该页面就有了一个独立的指明身份的 class。 span red, (使用 script 脚本注入，动态更改 body 的 class 为指定 class，不会被其他样式改变，保证 class 为想要的 class) 而后续要改动该页面样式，比如去除页面里的文本白框，让放置的图片融于背景，只需调节 css 样式：</p>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/* 特定页面（如 gallery 页面）样式设置 */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token selector\">.gallery-page</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/* 设置单独相册背景 */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token selector\">.gallery-page #web_bg</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span>https://cloudflare-imgbed-9os.pages.dev/file/1729429000558_kon_23.webp<span class=\"token punctuation\">)</span></span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> cover <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token property\">background-position</span><span class=\"token punctuation\">:</span> center center <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token property\">background-repeat</span><span class=\"token punctuation\">:</span> no-repeat <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token selector\">.gallery-page .page #page-header</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token selector\">.gallery-page .page #content-inner #page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">/* 去除边框 */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">/* 去除阴影 */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token selector\">.gallery-page .page #footer::before,</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>.gallery-page .page #page-header::before</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> initial <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>之后，要去除子图库的背景白框时，只需要在其 md 文件中，指定 class 为 <code>gallery-page</code>  即可，例如：<br />\ntabs gallery-page, 2</p>\n<!-- tab -->\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>gallery-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> gallery </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>![](https://cloudflare-imgbed-9os.pages.dev/file/1729306187581_kon_12.webp)</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> endgallery </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><!-- endtab -->\n<!-- tab -->\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> gallery </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>![](https://cloudflare-imgbed-9os.pages.dev/file/1729306187581_kon_12.webp)</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> endgallery </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gallery-page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将类名添加为 music-page</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><!-- endtab -->\n<p>endtabs</p>\n<p>  还有个小坑，子图库界面一开始加载时，里面的图片会一直抖动，也就是高一直在微微变化，查找资料发现是因为图片样式没有固定，导致为了适应布局图片会自己一直在变，解决方法是在 css 中加入固定样式的代码：</p>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/* 调节相册样式，防止抖动 */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token selector\">.gallery-items</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 防止内容溢出 */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token selector\">.item</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 348px<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 你可以根据需要调整 */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 205px<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 确保所有图片区域的大小一致 */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 去掉默认外边距 */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 去掉默认内边距 */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token selector\">.item a</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token selector\">.item img</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token property\">object-fit</span><span class=\"token punctuation\">:</span> cover<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 确保图片保持比例并覆盖整个容器 */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 去除图片底部的空白空间 */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token selector\">body.gallery-page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token property\">overflow-x</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 避免水平滚动 */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"移动端背景图片样式改进\"><a class=\"anchor\" href=\"#移动端背景图片样式改进\">#</a> 移动端背景图片样式改进</h3>\n<p>  在手机端背景图片会只显示一部分，为了解决这个问题，在 css 中加入代码，使能容纳完整图片，虽然图片不会充满区域，但观感更好吧 (额额，其实 cover 的话也还行吧)。</p>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/* 调节背景图片 */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token selector\">#web_bg</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> cover<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 确保背景图片覆盖整个容器 */</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token property\">background-position</span><span class=\"token punctuation\">:</span> center center<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 将背景图片居中显示 */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token property\">background-repeat</span><span class=\"token punctuation\">:</span> no-repeat<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 防止背景图片重复 */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 将背景高度设置为视口高度 */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100vw<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 将背景宽度设置为视口宽度 */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 确保背景图片不会超出边界 */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">/* 针对移动端调整 */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token keyword\">only</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 768px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token selector\">#web_bg</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> contain<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 确保移动端背景图片按比例缩放 */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"aplayer播放器\"><a class=\"anchor\" href=\"#aplayer播放器\">#</a> Aplayer 播放器</h3>\n<p>  音乐播放器魔改参考链接：<a href=\"https://blog.anheyu.com/posts/c3d3.html#%E9%AD%94%E6%94%B9%E6%AD%A5%E9%AA%A4\">魔改音乐播放器</a></p>\n<h3 id=\"aplayer播放器魔改自改版本\"><a class=\"anchor\" href=\"#aplayer播放器魔改自改版本\">#</a> Aplayer 播放器魔改 (自改版本)</h3>\n<p>  为了解决 anzhiyu 版本的 bug，只能自己重写一个界面，不过更简单，但解决了 bug。我的播放器用了官方的播放器样式。</p>\n<ul>\n<li><strong>主题配置文件引入 js:</strong></li>\n</ul>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">bottom</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>   <span class=\"token punctuation\">-</span> &lt;script src=\"https<span class=\"token punctuation\">:</span>//cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js\"<span class=\"token punctuation\">></span>&lt;/script<span class=\"token punctuation\">></span></pre></td></tr></table></figure><ul>\n<li><strong>配置 music 的 md 文件</strong></li>\n</ul>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token front-matter yaml language-yaml\"><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 音乐馆</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2021-04-24 21:41:30</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># type: music</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token key atrule\">aplayer</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">top_img</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token key atrule\">comments</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">aside</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">---</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>music-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre> meting \"9224307215\" \"tencent\" \"playlist\" \"autoplay\" \"mutex:false\" \"listmaxheight:440px\" \"preload:none\" \"theme:#ad7a86\"</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'music-page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将类名添加为 music-page</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">// 获取 class 为 page 的第一个元素</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">const</span> pageElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pageElement<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// 查找其子元素中是否有 ID 为 page 的元素</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">const</span> childElement <span class=\"token operator\">=</span> pageElement<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>childElement<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token comment\">// 修改元素的 ID</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            childElement<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> <span class=\"token string\">'music-page'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token comment\">// 获取需要调整的元素</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">const</span> contentInner <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content-inner\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">const</span> musicPage <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"music-page\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">const</span> pageTitle <span class=\"token operator\">=</span> musicPage<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".page-title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pageTitle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>      <span class=\"token comment\">// 在 content-inner 之后插入标题</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      contentInner<span class=\"token punctuation\">.</span><span class=\"token function\">insertAdjacentElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'beforebegin'</span><span class=\"token punctuation\">,</span> pageTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      pageTitle<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>textAlign <span class=\"token operator\">=</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>      pageTitle<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginTop <span class=\"token operator\">=</span> <span class=\"token string\">'0px'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 可以根据需要调整</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>universe<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/js/universe.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>先不管后面的脚本注入，主要是 <code> meting &quot;9224307215&quot; &quot;tencent&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:440px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;</code>  这里使用 <code>meting</code>  引入播放器， <code>listmaxheight</code>  是歌单列表长度， <code>theme</code>  是歌曲封面背景色 (不是歌单页面背景色)。</p>\n<ul>\n<li><strong>配置 music 页面特征 ID：</strong><br />\n首先为了和其他页面区分开来，给界面一个独立的 <code>class</code>  也就是 <code>music-page</code> ，通过脚本注入:</li>\n</ul>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'music-page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 将类名添加为 music-page</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>再给后面的 <code>class:page</code>  的 <code>id:page</code>  的子元素重命名为 <code>id:music-page</code> ：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\">// 获取 class 为 page 的第一个元素</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">const</span> pageElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pageElement<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// 查找其子元素中是否有 ID 为 page 的元素</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">const</span> childElement <span class=\"token operator\">=</span> pageElement<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>childElement<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token comment\">// 修改元素的 ID</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            childElement<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> <span class=\"token string\">'music-page'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>这样能方便指定 <code>id</code>  调整 css 样式。</p>\n<ul>\n<li><strong>调整 css</strong><br />\n 由于 css 代码比较多，所以直接新建一个 <code>mymusic.css</code> ，后续再在主题配置文件注入即可。配置内容为：</li>\n</ul>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"><span>s</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/* 消除文本框，使用透明背景 */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token selector\">.page #music-page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 设置背景透明 */</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">/* 去除边框 */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">/* 去除阴影 */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token selector\">#article-container</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 透明背景 */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.1<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 可选：半透明边框 */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 80px<span class=\"token punctuation\">;</span>   <span class=\"token comment\">/* 调节整个歌单和顶部的距离 */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\">/* 调节整个歌单的背景色，这里是淡灰色 */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token selector\">.aplayer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/* opacity: 0.6; */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>235<span class=\"token punctuation\">,</span> 224<span class=\"token punctuation\">,</span> 224<span class=\"token punctuation\">,</span> 0.395<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">/* 固定整个页面，禁止垂直滚动，这里 z-index 设为 auto，防止因为 z-index 设置不合适导致进度条和音量按钮 bug*/</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token selector\">#music-page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>   <span class=\"token comment\">/* 使其固定在屏幕上 */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>            <span class=\"token comment\">/* 距离顶部 0 */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>           <span class=\"token comment\">/* 距离左侧 0 */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100vw<span class=\"token punctuation\">;</span>      <span class=\"token comment\">/* 占满视口的宽度 */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span>     <span class=\"token comment\">/* 占满视口的高度 */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 禁用内部滚动条 */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>     <span class=\"token comment\">/* 确保在其他内容之上 */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 可选：设置背景颜色 */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token comment\">/* 隐藏整个页面的水平滚动条 */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token selector\">body</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token property\">overflow-x</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token comment\">/* 自设 music 页面单独背景，指定为 music-page 里的 web_bg*/</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token selector\">.music-page #web_bg</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span>https://cloudflare-imgbed-9os.pages.dev/file/1729677618289_8b35b49fcc4e3a1c37c128f8c1eff16b558fb1bb.jpg@1256w_708h_!web-article-pic.webp<span class=\"token punctuation\">)</span></span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> cover <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token property\">background-position</span><span class=\"token punctuation\">:</span> center center <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token property\">background-repeat</span><span class=\"token punctuation\">:</span> no-repeat <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token comment\">/* 调整歌曲列表，每行的高度和字体大小，行变宽字体变大 */</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-list ol li</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 45px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 15px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token selector\">.aplayer.aplayer-withlrc .aplayer-info</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 7px 0 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token selector\">.page #music-page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> -10px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  <span class=\"token comment\">/* 加粗歌曲标题作者歌词的文字 */</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-info .aplayer-music .aplayer-title,</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>  .aplayer .aplayer-info .aplayer-music .aplayer-author,</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>  .aplayer .aplayer-lrc p.aplayer-lrc-current</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 加粗文字 */</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token comment\">/* 加粗歌曲列表的标题作者索引的文字 */</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-list ol li .aplayer-list-title,</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  .aplayer .aplayer-list ol li .aplayer-list-author</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 加粗文字 */</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> </pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-list ol li .aplayer-list-index</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 加粗索引 */</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"76\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"78\"></td><td><pre>  <span class=\"token comment\">/* 加深显示播放时间颜色 */</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-time-inner</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"82\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token comment\">/* 加深显示图标颜色 */</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon svg</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">brightness</span><span class=\"token punctuation\">(</span>0.2<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 降低填充亮度 */</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon svg path</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token property\">stroke</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 加深轮廓线条颜色 */</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"92\"></td><td><pre>  <span class=\"token comment\">/* 调整歌单列表，每一行的上下边框颜色使其变浅 */</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>  <span class=\"token selector\">#article-container .aplayer ol li</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>232<span class=\"token punctuation\">,</span> 208<span class=\"token punctuation\">,</span> 208<span class=\"token punctuation\">,</span> 0.5<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 使用 RGBA 来设置边框颜色，使其变浅 */</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token comment\">/* 你可以根据需要调整边框宽度和样式 */</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"98\"></td><td><pre>  <span class=\"token comment\">/* 调整歌单最左侧指示条的颜色 */</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-cur</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #0a1de9 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 设置新的背景颜色 */</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"103\"></td><td><pre>   <span class=\"token comment\">/* 调整歌单列表当前播放曲目的背景高亮颜色 */</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>  <span class=\"token selector\">.aplayer .aplayer-list ol li.aplayer-list-light</span>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f2f5ea <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"106\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"108\"></td><td><pre>  <span class=\"token comment\">/* 隐藏版权说明 */</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>  <span class=\"token selector\">#footer-wrap .copyright</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token comment\">/* 隐藏模型 */</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>  <span class=\"token selector\">.music-page #live2d-widget</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"118\"></td><td><pre>  <span class=\"token comment\">/* 适用于移动端的媒体查询 */</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 768px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>    <span class=\"token comment\">/* 适配 #music-page */</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>    <span class=\"token selector\">#music-page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>      <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>      <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>      <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>      <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100vw<span class=\"token punctuation\">;</span>      <span class=\"token comment\">/* 占满视口宽度 */</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span>     <span class=\"token comment\">/* 占满视口高度 */</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>      <span class=\"token property\">overflow-y</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 启用垂直滚动 */</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 可选：背景颜色 */</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>      <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>     <span class=\"token comment\">/* 为移动端增加内边距 */</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"132\"></td><td><pre>    <span class=\"token comment\">/* 适配标题，直接隐藏 */</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>    <span class=\"token selector\">.music-page h1</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>      <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"137\"></td><td><pre>    <span class=\"token comment\">/* 适配 #article-container */</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>    <span class=\"token selector\">#article-container</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>      <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.1<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>      <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>      <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>         <span class=\"token comment\">/* 增加内边距，使内容更贴合移动端 */</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"145\"></td><td><pre>    <span class=\"token comment\">/* 适配 APlayer 音乐播放器 */</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>    <span class=\"token selector\">.aplayer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>235<span class=\"token punctuation\">,</span> 224<span class=\"token punctuation\">,</span> 224<span class=\"token punctuation\">,</span> 0.5<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 半透明背景 */</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>      <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"151\"></td><td><pre>    <span class=\"token comment\">/* 调整播放列表的字体和间距 */</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-list ol li</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>      <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 40px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 调整行高 */</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">/* 调整字体大小 */</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"157\"></td><td><pre>    <span class=\"token comment\">/* 调整歌词部分 */</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-info .aplayer-music .aplayer-title,</pre></td></tr><tr><td data-num=\"159\"></td><td><pre>    .aplayer .aplayer-info .aplayer-music .aplayer-author,</pre></td></tr><tr><td data-num=\"160\"></td><td><pre>    .aplayer .aplayer-lrc p.aplayer-lrc-current</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">/* 调整歌词字体大小 */</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>      <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">/* 设置字体颜色 */</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"165\"></td><td><pre>    <span class=\"token comment\">/* 调整播放时间的显示，更易读 */</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-time-inner</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>      <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"168\"></td><td><pre>      <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"169\"></td><td><pre>      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 14px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 调整字体大小，适合移动设备 */</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"172\"></td><td><pre>    <span class=\"token comment\">/* 针对移动端：调节图标填充亮度 */</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon svg</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>      <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">brightness</span><span class=\"token punctuation\">(</span>0.3<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 略微减小亮度调节 */</span></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>      <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 18px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 调整图标大小，适合移动端 */</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre>      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 18px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 确保图标在移动端的可点击性 */</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"179\"></td><td><pre>      <span class=\"token comment\">/* 针对移动端：加深图标线条颜色 */</span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre>      <span class=\"token selector\">.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon svg path</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"181\"></td><td><pre>        <span class=\"token property\">stroke</span><span class=\"token punctuation\">:</span> #333 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"182\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"183\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"184\"></td><td><pre>    <span class=\"token comment\">/* 播放器控制按钮适配 */</span></pre></td></tr><tr><td data-num=\"185\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-info</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"186\"></td><td><pre>      <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">/* 调整内边距 */</span></pre></td></tr><tr><td data-num=\"187\"></td><td><pre>      <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"188\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"189\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"190\"></td><td><pre>    <span class=\"token comment\">/* 播放列表项目的边框 */</span></pre></td></tr><tr><td data-num=\"191\"></td><td><pre>    <span class=\"token selector\">#article-container .aplayer ol li</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"192\"></td><td><pre>      <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>232<span class=\"token punctuation\">,</span> 208<span class=\"token punctuation\">,</span> 208<span class=\"token punctuation\">,</span> 0.5<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"193\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"194\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"195\"></td><td><pre>    <span class=\"token comment\">/* 设置播放列表项目的背景颜色 */</span></pre></td></tr><tr><td data-num=\"196\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-list ol li.aplayer-list-light</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"197\"></td><td><pre>      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f2f5ea <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"198\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"199\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"200\"></td><td><pre>    <span class=\"token comment\">/* 隐藏版权信息 */</span></pre></td></tr><tr><td data-num=\"201\"></td><td><pre>    <span class=\"token selector\">#footer-wrap .copyright</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"202\"></td><td><pre>      <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"203\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"204\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"205\"></td><td><pre>    <span class=\"token comment\">/* 设置控制栏和播放列表之间的空隙 */</span></pre></td></tr><tr><td data-num=\"206\"></td><td><pre>    <span class=\"token selector\">.aplayer .aplayer-info</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"207\"></td><td><pre>      <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"208\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"209\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>对于音乐界面标题的处理，直接在 md 文件注入 js，动态调整其位置，使其上升到 <code>content-inner</code>  级，居中加粗显示:</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// 获取需要调整的元素</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">const</span> contentInner <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content-inner\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">const</span> musicPage <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"music-page\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">const</span> pageTitle <span class=\"token operator\">=</span> musicPage<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".page-title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pageTitle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token comment\">// 在 content-inner 之后插入标题</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      contentInner<span class=\"token punctuation\">.</span><span class=\"token function\">insertAdjacentElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'beforebegin'</span><span class=\"token punctuation\">,</span> pageTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      pageTitle<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>textAlign <span class=\"token operator\">=</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      pageTitle<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginTop <span class=\"token operator\">=</span> <span class=\"token string\">'0px'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 可以根据需要调整</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>通过以上，PC 端和移动端的音乐界面都能正常显示，没有 bug 啦！你的名字夜晚飞星的蓝黑天空加上几乎透明浅灰的歌单列表，还是挺适配的。至此，自改的 Aplayer 播放器还算可以。</p>\n<h3 id=\"其它碎碎念1025\"><a class=\"anchor\" href=\"#其它碎碎念1025\">#</a> 其它碎碎念 (10.25)</h3>\n<h4 id=\"随机磁贴封面的bug\"><a class=\"anchor\" href=\"#随机磁贴封面的bug\">#</a> 随机磁贴封面的 bug</h4>\n<p>  昨天还是会出现偶尔磁贴封面图片为 null 的情况，明明图片链接都有效，明明使用了 <code>IntersectionObserver</code>  懒加载，而且再次刷新页面大概率就又正常了，今天重新改下代码，<s>加入了获取随机图片时如果获取为 null 再次获取的代码，看起来稳定了很多，刷了 n 遍界面都没问题，但不知道还会不会出现，看后续表现吧，贴上改后代码:</s>  span red, 10.25 16:34: 呜呜，好像彻底解决了啊，原来是 <code>addEventListener('DOMContentLoaded',);</code>  的问题啊，改用  <code>window.onload</code>  而不是  <code>DOMContentLoaded</code> ，能确保所有资源和元素都已加载。贴上再次改进后的完整代码：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 在所有资源加载完成后执行脚本</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// 定义主题图片对象</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">const</span> themes <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token literal-property property\">kon</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729306198549_kon_5.webp\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729306191301_kon_7.webp\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729306191486_kon_6.webp\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729428993734_kon_18.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729428993850_kon_19.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729428996317_kon_20.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429001817_kon_21.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429002735_kon_22.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429000558_kon_23.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429003335_kon_24.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429007799_kon_25.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729428998336_kon_26.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429009566_kon_27.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429003993_kon_28.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429003878_kon_29.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429010529_kon_30.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429007853_kon_31.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429008008_kon_32.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429010316_kon_33.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429013647_kon_15.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429006011_kon_16.webp\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429018278_kon_17.webp\"</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token literal-property property\">sp</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729306222386_summer pockets_1.webp\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729306218357_summer pockets_12.webp\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729306217685_summer pockets_3.webp\"</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">// 可以在此添加更多主题</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">// 获取随机图片的函数</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">getRandomCoverImage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">const</span> themeImages <span class=\"token operator\">=</span> themes<span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>themeImages <span class=\"token operator\">&amp;&amp;</span> themeImages<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token keyword\">let</span> coverImage <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token keyword\">let</span> attempt <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token keyword\">const</span> maxAttempts <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 最大尝试次数</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>coverImage <span class=\"token operator\">&amp;&amp;</span> attempt <span class=\"token operator\">&lt;</span> maxAttempts<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                <span class=\"token keyword\">const</span> randomIndex <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> themeImages<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                coverImage <span class=\"token operator\">=</span> themeImages<span class=\"token punctuation\">[</span>randomIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                attempt<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>coverImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                    console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"获取图片失败，重新尝试...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token comment\">// 如果仍然没有有效图片，返回一个默认图片</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token keyword\">return</span> coverImage <span class=\"token operator\">||</span> <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429018278_kon_17.webp\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Theme not defined or no images available.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://cloudflare-imgbed-9os.pages.dev/file/1729429018278_kon_17.webp\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 默认图片链接</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token comment\">// 获取当天的主题</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">getDailyTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token keyword\">const</span> today <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token keyword\">const</span> dayOfYear <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>today <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">86400000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token keyword\">const</span> themeNames <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>themes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token keyword\">const</span> themeIndex <span class=\"token operator\">=</span> dayOfYear <span class=\"token operator\">%</span> themeNames<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token keyword\">return</span> themeNames<span class=\"token punctuation\">[</span>themeIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">updateCategoryBarCover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token keyword\">const</span> theme <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>selectedTheme <span class=\"token operator\">===</span> <span class=\"token string\">''</span> <span class=\"token operator\">?</span> <span class=\"token function\">getDailyTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> window<span class=\"token punctuation\">.</span>selectedTheme<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token keyword\">const</span> categoryItems <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.categoryBar-list-item'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>categoryItems <span class=\"token operator\">||</span> categoryItems<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"未找到任何分类项元素，确保页面结构正确。\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"当前磁贴主题:\"</span><span class=\"token punctuation\">,</span> theme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"选中的分类项数量:\"</span><span class=\"token punctuation\">,</span> categoryItems<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token comment\">// 使用 IntersectionObserver 进行懒加载</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token keyword\">const</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entries</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            entries<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entry</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span>isIntersecting<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>                    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>                    <span class=\"token keyword\">const</span> coverImage <span class=\"token operator\">=</span> <span class=\"token function\">getRandomCoverImage</span><span class=\"token punctuation\">(</span>theme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\"> </span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"%20\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>coverImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>                        item<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundImage <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>coverImage<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>                        item<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundSize <span class=\"token operator\">=</span> <span class=\"token string\">\"cover\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>                        item<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundRepeat <span class=\"token operator\">=</span> <span class=\"token string\">\"no-repeat\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>                        item<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundPosition <span class=\"token operator\">=</span> <span class=\"token string\">\"center center\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>                        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"已设置封面图片:\"</span><span class=\"token punctuation\">,</span> coverImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>                        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"未能获取有效的封面图片\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>                    <span class=\"token comment\">// 停止观察已加载的元素</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>                    observer<span class=\"token punctuation\">.</span><span class=\"token function\">unobserve</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"108\"></td><td><pre>        categoryItems<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>            observer<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>    <span class=\"token comment\">// 执行更新操作</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>    <span class=\"token function\">updateCategoryBarCover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h4 id=\"阅读进度按钮问题\"><a class=\"anchor\" href=\"#阅读进度按钮问题\">#</a> 阅读进度按钮问题</h4>\n<p><a href=\"https://www.fomal.cc/posts/2d7ac914.html\">参考链接</a>，但实际使用有 bug，目前涉及的需要修改的文件的代码都已更新，解决了 bug。</p>\n<h4 id=\"夜间模式切换\"><a class=\"anchor\" href=\"#夜间模式切换\">#</a> 夜间模式切换</h4>\n<p><a href=\"https://www.fomal.cc/posts/d739261b.html\">参考链接</a>。先按 <code>1.0</code>  操作再到 <code>2.0</code>  替换部分 <code>1.0</code>  内容才能实现。</p>\n<h4 id=\"gulp全局资源压缩\"><a class=\"anchor\" href=\"#gulp全局资源压缩\">#</a> gulp 全局资源压缩</h4>\n<p><a href=\"https://akilar.top/posts/49b73b87/\">参考链接</a>。但注意，要生成 <code>\\public</code>  文件夹，需要使用 <code>hexo generate</code>  命令，而不能使用 <code>hexo g</code> ，真是离谱啊。</p>\n<h4 id=\"源码连接仓库\"><a class=\"anchor\" href=\"#源码连接仓库\">#</a> 源码连接仓库</h4>\n<ul>\n<li><strong>创建存放源码的私有仓库</strong><br />\n创建仓库存放源码，设为私密。创建完成后，需要把博客的源码 <code>push</code>  到这里。首先获取远程仓库地址，此处虽然 SSH 和 HTTPS 均可。SSH 在绑定过 <code>ssh key</code>  的设备上无需再输入密码，HTTPS 则需要输入密码。</li>\n<li><strong>在 [Blogroot] 路径下 <code>右键-&gt;Git Bash Here</code> </strong><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> init <span class=\"token comment\"># 初始化 git</span></pre></td></tr></table></figure>这一步会在你的博客目录下新建一个 <code>.git</code>  文件夹。因为是隐藏文件夹，所以需要你先确保当前目录下隐藏文件夹可见才能看到它。</li>\n<li><strong>添加屏蔽项</strong><br />\n在远端提交前，我们需要先调整一下屏蔽项，能够使用指令进行安装的内容不包括在需要提交的源码内，这样可以显著减少需要提交的文件量和加快提交速度。打开 [Blogroot]/.gitignore（也是隐藏文件）, 输入以下内容：<figure class=\"highlight txt\"><figcaption data-lang=\"txt\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>.DS_Store</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Thumbs.db</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>db.json</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>*.log</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>node_modules/</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>public/</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>.deploy*/</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>.deploy_git*/</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>.idea</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>themes/butterfly/.git</pre></td></tr></table></figure>如果不是 <code>butterfly</code>  主题，记得替换最后一行内容为你自己当前使用的主题。</li>\n<li><strong>第一次 push 到远程仓库</strong><br />\n <code>右键-&gt;Git Bash Here</code> :<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span> <span class=\"token comment\"># 添加文件到本地仓库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"自定义内容即可\"</span> <span class=\"token comment\"># 添加文件描述信息</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin git@github.com:username/YourRepositoryName.git <span class=\"token comment\">#链接远程仓库地址，创建主分支</span></pre></td></tr></table></figure></li>\n<li>偶尔会遇到一些与远端内容不一致的问题，一般是因为在创建远程仓库时点选了生成 <code>README.md</code>  或者 <code>license</code>  的选项，输入指令：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 要是提示 origin 已经存在，那么执行</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">rm</span> origin</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># 然后再重新尝试</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin git@github.com:username/YourRepositoryName.git</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">git</span> pull origin YourBranchName <span class=\"token comment\"># 把远程仓库的新增的内容覆盖到本地仓库</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">git</span> push <span class=\"token parameter variable\">-u</span> origin YourBranchName <span class=\"token parameter variable\">-f</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># 把本地仓库的文件推送到远程仓库的主分支，</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#YourBranchName 记得替换成分支名，一般是 master。</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#2020 年 10 月后 github 新建仓库默认分支改为 main</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># -f 是强制提交，主要是因为前后版本不一致造成的。</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 然后执行以下指令生成网站并部署到 GitHub 上。</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">#(Hexo 部署网站是根据_config.yml 内的配置，所以不受影响)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>hexo generate</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>hexo deploy</pre></td></tr></table></figure></li>\n<li><strong>后续更新仓库</strong><br />\n只需要在本地 bash 执行 git 三连即可推送代码改动到仓库，若添加了自动部署，则可自动在推送的同时更新网站。<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"...\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> push</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 将改动推送到 GitHub</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"小知识\"><a class=\"anchor\" href=\"#小知识\">#</a> 小知识</h4>\n<ul>\n<li><code>\\public</code>  文件夹是网站展示的内容的文件夹， <code>\\source</code>  则是存放数据的文件夹，包括发布的文章，页面的 md 文件等等。而配置网站主题样式之类的一般在 <code>\\theme\\butterfly</code>  里面操作，可以添加 <code>js、css、img</code>  以及其他比如 <code>pug</code>  等文件吧。</li>\n<li>要改变页面的样式，若需要脚本注入，可在 md 文件里用 <code>script</code>  标签进行动态修改，其他简单的不需要用到函数什么的只需要修改样式，可以 <code>F12</code>  查找要修改的网页元素，然后使用 css 进行修改，一般可以用一个通用的 <code>custom.css</code>  在主题配置文件注入即可。</li>\n<li><code>\\theme\\butterfly\\script</code>  里的 js 文件是后端文件，是静态的，需要重启项目才能执行，刷新网页并不会执行，不需要注入，会直接调用，也能直接读取配置文件的参数； <code>\\theme\\butterfly\\source\\js</code>  里的 js 文件是前端文件，是动态的，会随着网页刷新再次执行，需要在主题配置文件<em> inject</em>，要获取到配置文件的参数，可以在 <code>\\theme\\butterfly\\script</code>  创建后端文件，通过 <code>window.参数</code> 传递配置文件的参数，前端文件再通过 <code>window.参数</code> 获取到参数。可以利用这一点读取参数进行一些动态刷新操作。</li>\n<li>一般本地资源的调用路径都是以 <code>\\theme\\butterfly\\source</code>  为根路径吧，比如注入 js 时路径用 <code>\\js\\xxx.js</code>  即可，引用图片时用 <code>\\img\\xxx.jpg</code>  即可。</li>\n<li>网页元素，在 css 中，一般是 <code>.class</code> , <code>#id</code>  的方式。要想直接改变目标元素的样式，可以 <code>F12</code>  检查，找到对应元素所在位置，一般双击它在下面栏的样式表会有它和其他元素的依赖关系，直接复制在 css 中使用即可。如图：</li>\n</ul>\n<p align=\"center\">\n  <img loading=\"lazy\" data-src=\"/img/style.jpg\" alt=\"示例图片\" style=\"zoom:50%;\" />\n</p>\n note info modern 注意：这里使用html语法设置图片时，用的本地图片的话，本地图片需要存到themes/butterfly/source/img里，但是src路径引用的路径需要为/img/xxx.jpg  endnote \n+ 为了防止在PC端顶部菜单栏有时会收起而不是展开状态，在主题配置文件使用了脚本注入，保证在PC端保持展开状态。\n  ``` yml\n    bottom:\n     - <script>\n        document.addEventListener(\"DOMContentLoaded\", function() {\n            var nav = document.getElementById(\"nav\");\n            if (window.innerWidth >= 768) {\n            nav.classList.remove(\"hide-menu\");\n            nav.classList.add(\"show\");\n            console.log(\"nav show on PC\");\n            }\n        });\n       </script>\n  ```\n<h2 id=\"完善音乐界面1116\"><a class=\"anchor\" href=\"#完善音乐界面1116\">#</a> 完善音乐界面 (11.16)</h2>\n<p>  在音乐界面增加卡片，用于选择对应主题的歌单。具体实现为：</p>\n<ul>\n<li>修改 <code>music</code>  文件夹里的 <code>index.md</code>  文件内容，使用外挂标签设置链接卡片，修改后的文件内容为：</li>\n</ul>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token front-matter yaml language-yaml\"><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 音乐馆</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># type: music</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">aplayer</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token key atrule\">top_img</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">comments</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token key atrule\">aside</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">---</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre> sitegroup </pre></td></tr><tr><td data-num=\"11\"></td><td><pre> site KON, url=/music/kon, screenshot=https://cloudflare-imgbed-9os.pages.dev/file/1729429000558_kon_23.webp, description=轻音永不毕业! </pre></td></tr><tr><td data-num=\"12\"></td><td><pre> site Summer Pockets, url=/music/sp, screenshot=https://cloudflare-imgbed-9os.pages.dev/file/1729919005838_summer pockets_3.webp, description=唯有那份眩目，未曾忘记... </pre></td></tr><tr><td data-num=\"13\"></td><td><pre> site Eva, url=/music/eva, screenshot=https://cloudflare-imgbed-9os.pages.dev/file/1729915127264_EVA_5.webp, description=梦是现实的延续，现实是梦的终结。 </pre></td></tr><tr><td data-num=\"14\"></td><td><pre> site Ghibli, url=/music/ghibli, screenshot=https://cloudflare-imgbed-9os.pages.dev/file/1730449515623_ghibli_22.webp, description=只要有想见的人，自己就不再是孤单一人。 </pre></td></tr><tr><td data-num=\"15\"></td><td><pre> site love, url=/music/love, screenshot=https://cloudflare-imgbed-9os.pages.dev/file/1729765205778_1729764735768.webp, description=心灵补给站。 </pre></td></tr><tr><td data-num=\"16\"></td><td><pre> endsitegroup </pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'musiccard-page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>其中，为该页面设置了 class 为 &quot;musiccard-page&quot;，用于调整该页面的 css 样式。</p>\n<ul>\n<li>设置该页面的 css 样式如下：</li>\n</ul>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"><span>s</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\">.site-card .img</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 设置高度 */</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token selector\">.site-card .img img</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token property\">object-fit</span><span class=\"token punctuation\">:</span> cover <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 图片适应容器 */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100% <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100% <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token selector\">.info .title</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.2rem <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 设置标题字体大小 */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 加粗标题字体 */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>18<span class=\"token punctuation\">,</span> 188<span class=\"token punctuation\">,</span> 240<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 使标题字体颜色更加醒目，采用鲜艳颜色 */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token property\">text-shadow</span><span class=\"token punctuation\">:</span> 2px 2px 4px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.5<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 为标题添加阴影效果，增强对比 */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token selector\">.info .desc</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.2rem <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 设置描述字体大小 */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 500 <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 为描述设置较轻的粗细 */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #fff <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 白色字体 */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token property\">text-shadow</span><span class=\"token punctuation\">:</span> 1px 1px 2px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.3<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 轻微阴影增强可读性 */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token selector\">.musiccard-page .page #content-inner #page #article-container</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 移除边框 */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 移除阴影效果 */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">/* 特定页面（如 gallery 页面）样式设置 */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token selector\">.musiccard-page</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token selector\">.musiccard-page #web_bg</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">blur</span><span class=\"token punctuation\">(</span>5px<span class=\"token punctuation\">)</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 添加模糊效果，8px 是模糊的强度 */</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token selector\">.musiccard-page #web_bg::after</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 调整背景透明度，0.5 为 50% 透明度 */</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* 使透明覆盖层位于背景图上方 */</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre><span class=\"token selector\">.musiccard-page .page #page-header</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token selector\">.musiccard-page .page #content-inner #page</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> transparent <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">/* 去除边框 */</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  <span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> none <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">/* 去除阴影 */</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token selector\">.musiccard-page .page #footer::before,</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>.musiccard-page .page #page-header::before</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> initial <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>主要就是去除背景，使边框透明等，还有就是对背景进行适当模糊和透明度处理，去除页脚等。并对每个卡片图片的大小，以及标题描述的文字进行适当处理，使更加醒目。</p>\n<ul>\n<li>在 <code>music</code>  文件夹新建存储主题歌单的 <code>page</code>  界面，这里包括 <code>kon</code> 、 <code>sp</code>  等，这些页面里的 <code>index.md</code>  沿用原本音乐界面格式，歌单 id 不同，这样就形成了不同卡片主题有着不同歌单。</li>\n</ul>\n<h2 id=\"修改bug1123\"><a class=\"anchor\" href=\"#修改bug1123\">#</a> 修改 bug (11.23)</h2>\n<ol>\n<li>发现在博客里的公式渲染后出现问题，例如<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>r</mi><mi>C</mi><mi>o</mi><msub><mi>O</mi><mi>x</mi></msub></mrow><annotation encoding=\"application/x-tex\">SrCoO_x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的 '_' 会被识别为强调文本的作用，实际应表示下标。查找资料后解决如下：最终还是使用已经安装的 <code>hexo-renderer-kramed</code> ，但需要先执行：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> uninstall hexo-renderer-marked</pre></td></tr></table></figure>然后主题配置文件里开启 mathjax 支持，enable 置为 true。之后在 <code>博客目录\\node_modules\\kramed\\lib\\rules\\inline.js</code>  中做如下变动：<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>// em: /^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>em: /^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,</pre></td></tr></table></figure>原先的正则表达式会识别_和 $ 并用于强调文本，修改后_不会被识别，此后 $ $ 的行内表达式正常渲染。<br />\n但要进行自动部署，由于是自动重新安装依赖项，所以需要在自动部署代码加入自动修改 inline.js 内容的脚本。于是在博客根目录创建 <code>fix_kramed.js</code> ，内容为：<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> inlineRulesPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    __dirname<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token string\">'kramed'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token string\">'lib'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token string\">'rules'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token string\">'inline.js'</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>inlineRulesPath<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Failed to read inline.js:'</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        process<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">// 原有的 em 规则字符串</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">const</span> originalEmRuleStr <span class=\"token operator\">=</span> <span class=\"token string\">\"em: /^\\\\b_((?:__|[\\\\s\\\\S])+?)_\\\\b|^\\\\*((?:\\\\*\\\\*|[\\\\s\\\\S])+?)\\\\*(?!\\\\*)/\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">// 新的 em 规则字符串</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">const</span> newEmRuleStr <span class=\"token operator\">=</span> <span class=\"token string\">\"em: /^\\\\*((?:\\\\*\\\\*|[\\\\s\\\\S])+?)\\\\*(?!\\\\*)/\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">// 查找原有的 em 规则并替换</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>originalEmRuleStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// 替换原有的 em 规则</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">const</span> updatedData <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> newEmRuleStr <span class=\"token operator\">+</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> originalEmRuleStr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFile</span><span class=\"token punctuation\">(</span>inlineRulesPath<span class=\"token punctuation\">,</span> updatedData<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Failed to update inline.js:'</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                process<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Successfully updated Kramed rules.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Updated Rule:'</span><span class=\"token punctuation\">,</span> newEmRuleStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Original em rule not found.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>原本采用正则表达式匹配原规则再用新规则替换，但一直匹配不到，最后采用字符串替换的方法成功替换了 em 规则。`autodeploy.yml 增加内容：<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 安装依赖</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> steps.cache.outputs.cache<span class=\"token punctuation\">-</span>hit <span class=\"token tag\">!=</span> 'true'</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    npm install --save</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 修改 Kramed 规则</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> node fix_kramed.js</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 生成静态文件</pre></td></tr></table></figure>注意，调试时，可在自动部署代码中加入：<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"><span>l</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Debug File Path</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> ls node_modules/kramed/lib/rules</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Output Kramed Rules for Debugging</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> cat node_modules/kramed/lib/rules/inline.js</pre></td></tr></table></figure>用于检查 <code>inline.js</code>  路径和文件内容，检查是否成功替换。这些操作后，规则修改，自动部署后也能正常渲染行内公式了。</li>\n<li>文章里 pdf 显示问题解决方法：安装 <code>hexo-pdf</code> :<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">--save</span> hexo-pdf</pre></td></tr></table></figure>可以在存放静态资源的 <code>source</code>  文件夹里新建 <code>pdf</code>  文件夹用于存放 pdf 资源，在文章里，要显示 pdf 时，使用命令：<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>pdf /pdf/xxx.pdf</pre></td></tr></table></figure>注意文件名不要含特殊字符。</li>\n<li>音乐播放界面的歌单发现 bug，歌单底部歌曲鼠标点击不触发，减小歌单列表长度能解决一点，但后面发现是底部 footer 元素阻挡，原先只是隐藏但仍存在会影响点击，于是使用脚本自动删除 footer 后解决，在每个音乐界面的 md 文件后加入：<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"><span>n</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'DOMContentLoaded'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> footer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'footer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>footer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    footer<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 删除 footer 元素</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure>之后歌单所有歌曲点击正常。</li>\n</ol>\n<h2 id=\"优化看板娘1209\"><a class=\"anchor\" href=\"#优化看板娘1209\">#</a> 优化看板娘 (12.09)</h2>\n<p>  原来的看板娘不能随时关闭，而且比较单调，于是在<a href=\"https://github.com/stevenjoezhang/live2d-widget.git\">这里</a>进行参考，重新设置了看板娘样式。具体步骤为：</p>\n<ol>\n<li>Fork 原项目，并在本地 <code>git clone</code> fork 的项目，为了保持代码清晰和便于回退，保留原分支，创建新分支：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/yourusername/repository-name.git</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> repository-name</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> new-branch-name</pre></td></tr></table></figure>将 <code>new-branch-name</code>  替换为要新建的分支名。</li>\n<li>在本地进行代码修改，然后推送到新分支：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"update on 24.12.08\"</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> push origin customize</pre></td></tr></table></figure><code>customize</code>  为示例分支。</li>\n<li>由于仓库的资源使用 jsdelivr CDN 加载，而 jsdelivr 的缓存机制会导致修改的内容无法及时更新，折腾半天，采用不断打新标签的方式更新代码内容。当有新的代码改动提交时，创建新标签并推送，然后只需要更改链接即可。<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"update on 24.12.08\"</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> push origin customize<span class=\"token punctuation\">;</span><span class=\"token function\">git</span> tag <span class=\"token parameter variable\">-a</span> v1.0.6 <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"更新代码\"</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> push origin v1.0.6</pre></td></tr></table></figure>每次修改代码后，使用上述命令推送内容到仓库，并创建新标签和推送内容。<br />\n相应地，修改 <code>autoload.js</code>  的路径链接：<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//live2d_path 参数建议使用绝对路径</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> live2d_path <span class=\"token operator\">=</span> <span class=\"token string\">\"https://fastly.jsdelivr.net/gh/ei4869/live2d-widget-fork@v1.0.6/\"</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><code>ei4869</code>  和 <code>live2d-widget-fork</code>  分别为用户名和仓库，新的标签 <code>@v1.0.6</code>  能刷新缓存，同步更新 CDN 内容。<br />\n要想删除某个 tag 时，采用以下命令：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> tag <span class=\"token parameter variable\">-d</span> v1.0.0<span class=\"token punctuation\">;</span><span class=\"token function\">git</span> push origin <span class=\"token parameter variable\">--delete</span> v1.0.0</pre></td></tr></table></figure>要想删除除了某个 tag (如 v1.0.6) 外的其他 tag 时，采用以下命令：<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> tag <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-v</span> <span class=\"token string\">'v1.0.6'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">git</span> tag -d<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> ls-remote <span class=\"token parameter variable\">--tags</span> origin <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123;print $2&#125;'</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-v</span> <span class=\"token string\">'v1.0.6'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s|refs/tags/||'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token parameter variable\">-I</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token function\">git</span> push origin <span class=\"token parameter variable\">--delete</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>自定义看板娘样式，可以修改 <code>live2d-widget-fork</code>  里的以下内容： <code>waifu.css</code>  用于修改具体网页里呈现的样式，我这里修改了原来的大小 (#live2d)，位置 (#waifu)，文字框高度 (#waifu-tips) 等，最主要的 <code>autoload.js</code>  用来设置主函数，可以修改里面的代码：<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">initWidget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t\t<span class=\"token literal-property property\">waifuPath</span><span class=\"token operator\">:</span> live2d_path <span class=\"token operator\">+</span> <span class=\"token string\">\"waifu-tips.json\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t\t<span class=\"token comment\">//apiPath: \"https://live2d.fghrsh.net/api/\",</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t<span class=\"token literal-property property\">cdnPath</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://fastly.jsdelivr.net/gh/fghrsh/live2d_api/\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\t<span class=\"token literal-property property\">tools</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"hitokoto\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"switch-model\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"switch-texture\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"photo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"quit\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>我这里把功能按钮 ( <code>tools</code> ) 减少了两个 (纸飞机游戏和模型信息)。通过修改 <code>apiPath</code>  或 <code>cdnPath</code>  里的资源可以增添喜欢的模型，这里还没深入了解 (这两个只需配置一个即可)。另外 <code>waifu-tips.json</code>  中定义了触发条件（selector，CSS 选择器）和触发时显示的文字（text）可以根据需要修改 (主要就是改变一些动作触发的对话)，而 <code>src/waifu-tips.js</code>  包含了按钮和对话框的逻辑，可以根据代码一步步分析进行个性化配置 (还没深入并修改)。目前就只改了 tools 和 css 里的配置。</li>\n</ol>\n",
            "tags": [
                "整活探索",
                "Blog",
                "Hexo"
            ]
        }
    ]
}